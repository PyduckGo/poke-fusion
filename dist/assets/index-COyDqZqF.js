var Jx=(n,t)=>()=>(t||n((t={exports:{}}).exports,t),t.exports);var gL=Jx((nV,Cl)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function e(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=e(s);fetch(s.href,r)}})();/**
* @vue/shared v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Pf(n){const t=Object.create(null);for(const e of n.split(","))t[e]=1;return e=>e in t}const me={},bo=[],Bi=()=>{},t1=()=>!1,Fu=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&(n.charCodeAt(2)>122||n.charCodeAt(2)<97),Df=n=>n.startsWith("onUpdate:"),Sn=Object.assign,Ef=(n,t)=>{const e=n.indexOf(t);e>-1&&n.splice(e,1)},e1=Object.prototype.hasOwnProperty,le=(n,t)=>e1.call(n,t),Vt=Array.isArray,vo=n=>xl(n)==="[object Map]",Lu=n=>xl(n)==="[object Set]",Ng=n=>xl(n)==="[object Date]",Ut=n=>typeof n=="function",Ze=n=>typeof n=="string",ji=n=>typeof n=="symbol",Te=n=>n!==null&&typeof n=="object",wy=n=>(Te(n)||Ut(n))&&Ut(n.then)&&Ut(n.catch),Sy=Object.prototype.toString,xl=n=>Sy.call(n),n1=n=>xl(n).slice(8,-1),Ty=n=>xl(n)==="[object Object]",If=n=>Ze(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,Ma=Pf(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Vu=n=>{const t=Object.create(null);return e=>t[e]||(t[e]=n(e))},i1=/-(\w)/g,Ks=Vu(n=>n.replace(i1,(t,e)=>e?e.toUpperCase():"")),s1=/\B([A-Z])/g,Yr=Vu(n=>n.replace(s1,"-$1").toLowerCase()),ky=Vu(n=>n.charAt(0).toUpperCase()+n.slice(1)),Kh=Vu(n=>n?`on${ky(n)}`:""),zs=(n,t)=>!Object.is(n,t),Ec=(n,...t)=>{for(let e=0;e<n.length;e++)n[e](...t)},Dd=(n,t,e,i=!1)=>{Object.defineProperty(n,t,{configurable:!0,enumerable:!1,writable:i,value:e})},Uc=n=>{const t=parseFloat(n);return isNaN(t)?n:t};let Fg;const Bu=()=>Fg||(Fg=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Rf(n){if(Vt(n)){const t={};for(let e=0;e<n.length;e++){const i=n[e],s=Ze(i)?l1(i):Rf(i);if(s)for(const r in s)t[r]=s[r]}return t}else if(Ze(n)||Te(n))return n}const r1=/;(?![^(]*\))/g,o1=/:([^]+)/,a1=/\/\*[^]*?\*\//g;function l1(n){const t={};return n.replace(a1,"").split(r1).forEach(e=>{if(e){const i=e.split(o1);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function xi(n){let t="";if(Ze(n))t=n;else if(Vt(n))for(let e=0;e<n.length;e++){const i=xi(n[e]);i&&(t+=i+" ")}else if(Te(n))for(const e in n)n[e]&&(t+=e+" ");return t.trim()}const c1="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",u1=Pf(c1);function Cy(n){return!!n||n===""}function h1(n,t){if(n.length!==t.length)return!1;let e=!0;for(let i=0;e&&i<n.length;i++)e=Wu(n[i],t[i]);return e}function Wu(n,t){if(n===t)return!0;let e=Ng(n),i=Ng(t);if(e||i)return e&&i?n.getTime()===t.getTime():!1;if(e=ji(n),i=ji(t),e||i)return n===t;if(e=Vt(n),i=Vt(t),e||i)return e&&i?h1(n,t):!1;if(e=Te(n),i=Te(t),e||i){if(!e||!i)return!1;const s=Object.keys(n).length,r=Object.keys(t).length;if(s!==r)return!1;for(const o in n){const a=n.hasOwnProperty(o),l=t.hasOwnProperty(o);if(a&&!l||!a&&l||!Wu(n[o],t[o]))return!1}}return String(n)===String(t)}function d1(n,t){return n.findIndex(e=>Wu(e,t))}const My=n=>!!(n&&n.__v_isRef===!0),pe=n=>Ze(n)?n:n==null?"":Vt(n)||Te(n)&&(n.toString===Sy||!Ut(n.toString))?My(n)?pe(n.value):JSON.stringify(n,Ay,2):String(n),Ay=(n,t)=>My(t)?Ay(n,t.value):vo(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((e,[i,s],r)=>(e[Yh(i,r)+" =>"]=s,e),{})}:Lu(t)?{[`Set(${t.size})`]:[...t.values()].map(e=>Yh(e))}:ji(t)?Yh(t):Te(t)&&!Vt(t)&&!Ty(t)?String(t):t,Yh=(n,t="")=>{var e;return ji(n)?`Symbol(${(e=n.description)!=null?e:t})`:n};/**
* @vue/reactivity v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Nn;class f1{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Nn,!t&&Nn&&(this.index=(Nn.scopes||(Nn.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,e;if(this.scopes)for(t=0,e=this.scopes.length;t<e;t++)this.scopes[t].pause();for(t=0,e=this.effects.length;t<e;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,e;if(this.scopes)for(t=0,e=this.scopes.length;t<e;t++)this.scopes[t].resume();for(t=0,e=this.effects.length;t<e;t++)this.effects[t].resume()}}run(t){if(this._active){const e=Nn;try{return Nn=this,t()}finally{Nn=e}}}on(){++this._on===1&&(this.prevScope=Nn,Nn=this)}off(){this._on>0&&--this._on===0&&(Nn=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let e,i;for(e=0,i=this.effects.length;e<i;e++)this.effects[e].stop();for(this.effects.length=0,e=0,i=this.cleanups.length;e<i;e++)this.cleanups[e]();if(this.cleanups.length=0,this.scopes){for(e=0,i=this.scopes.length;e<i;e++)this.scopes[e].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function p1(){return Nn}let _e;const Gh=new WeakSet;class Oy{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Nn&&Nn.active&&Nn.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Gh.has(this)&&(Gh.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Dy(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Lg(this),Ey(this);const t=_e,e=wi;_e=this,wi=!0;try{return this.fn()}finally{Iy(this),_e=t,wi=e,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Lf(t);this.deps=this.depsTail=void 0,Lg(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Gh.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Ed(this)&&this.run()}get dirty(){return Ed(this)}}let Py=0,Aa,Oa;function Dy(n,t=!1){if(n.flags|=8,t){n.next=Oa,Oa=n;return}n.next=Aa,Aa=n}function Nf(){Py++}function Ff(){if(--Py>0)return;if(Oa){let t=Oa;for(Oa=void 0;t;){const e=t.next;t.next=void 0,t.flags&=-9,t=e}}let n;for(;Aa;){let t=Aa;for(Aa=void 0;t;){const e=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(i){n||(n=i)}t=e}}if(n)throw n}function Ey(n){for(let t=n.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Iy(n){let t,e=n.depsTail,i=e;for(;i;){const s=i.prevDep;i.version===-1?(i===e&&(e=s),Lf(i),g1(i)):t=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=s}n.deps=t,n.depsTail=e}function Ed(n){for(let t=n.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Ry(t.dep.computed)||t.dep.version!==t.version))return!0;return!!n._dirty}function Ry(n){if(n.flags&4&&!(n.flags&16)||(n.flags&=-17,n.globalVersion===za)||(n.globalVersion=za,!n.isSSR&&n.flags&128&&(!n.deps&&!n._dirty||!Ed(n))))return;n.flags|=2;const t=n.dep,e=_e,i=wi;_e=n,wi=!0;try{Ey(n);const s=n.fn(n._value);(t.version===0||zs(s,n._value))&&(n.flags|=128,n._value=s,t.version++)}catch(s){throw t.version++,s}finally{_e=e,wi=i,Iy(n),n.flags&=-3}}function Lf(n,t=!1){const{dep:e,prevSub:i,nextSub:s}=n;if(i&&(i.nextSub=s,n.prevSub=void 0),s&&(s.prevSub=i,n.nextSub=void 0),e.subs===n&&(e.subs=i,!i&&e.computed)){e.computed.flags&=-5;for(let r=e.computed.deps;r;r=r.nextDep)Lf(r,!0)}!t&&!--e.sc&&e.map&&e.map.delete(e.key)}function g1(n){const{prevDep:t,nextDep:e}=n;t&&(t.nextDep=e,n.prevDep=void 0),e&&(e.prevDep=t,n.nextDep=void 0)}let wi=!0;const Ny=[];function fs(){Ny.push(wi),wi=!1}function ps(){const n=Ny.pop();wi=n===void 0?!0:n}function Lg(n){const{cleanup:t}=n;if(n.cleanup=void 0,t){const e=_e;_e=void 0;try{t()}finally{_e=e}}}let za=0;class m1{constructor(t,e){this.sub=t,this.dep=e,this.version=e.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Vf{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!_e||!wi||_e===this.computed)return;let e=this.activeLink;if(e===void 0||e.sub!==_e)e=this.activeLink=new m1(_e,this),_e.deps?(e.prevDep=_e.depsTail,_e.depsTail.nextDep=e,_e.depsTail=e):_e.deps=_e.depsTail=e,Fy(e);else if(e.version===-1&&(e.version=this.version,e.nextDep)){const i=e.nextDep;i.prevDep=e.prevDep,e.prevDep&&(e.prevDep.nextDep=i),e.prevDep=_e.depsTail,e.nextDep=void 0,_e.depsTail.nextDep=e,_e.depsTail=e,_e.deps===e&&(_e.deps=i)}return e}trigger(t){this.version++,za++,this.notify(t)}notify(t){Nf();try{for(let e=this.subs;e;e=e.prevSub)e.sub.notify()&&e.sub.dep.notify()}finally{Ff()}}}function Fy(n){if(n.dep.sc++,n.sub.flags&4){const t=n.dep.computed;if(t&&!n.dep.subs){t.flags|=20;for(let i=t.deps;i;i=i.nextDep)Fy(i)}const e=n.dep.subs;e!==n&&(n.prevSub=e,e&&(e.nextSub=n)),n.dep.subs=n}}const Id=new WeakMap,Or=Symbol(""),Rd=Symbol(""),qa=Symbol("");function yn(n,t,e){if(wi&&_e){let i=Id.get(n);i||Id.set(n,i=new Map);let s=i.get(e);s||(i.set(e,s=new Vf),s.map=i,s.key=e),s.track()}}function rs(n,t,e,i,s,r){const o=Id.get(n);if(!o){za++;return}const a=l=>{l&&l.trigger()};if(Nf(),t==="clear")o.forEach(a);else{const l=Vt(n),c=l&&If(e);if(l&&e==="length"){const u=Number(i);o.forEach((h,f)=>{(f==="length"||f===qa||!ji(f)&&f>=u)&&a(h)})}else switch((e!==void 0||o.has(void 0))&&a(o.get(e)),c&&a(o.get(qa)),t){case"add":l?c&&a(o.get("length")):(a(o.get(Or)),vo(n)&&a(o.get(Rd)));break;case"delete":l||(a(o.get(Or)),vo(n)&&a(o.get(Rd)));break;case"set":vo(n)&&a(o.get(Or));break}}Ff()}function lo(n){const t=ae(n);return t===n?t:(yn(t,"iterate",qa),gi(n)?t:t.map(cn))}function ju(n){return yn(n=ae(n),"iterate",qa),n}const _1={__proto__:null,[Symbol.iterator](){return Xh(this,Symbol.iterator,cn)},concat(...n){return lo(this).concat(...n.map(t=>Vt(t)?lo(t):t))},entries(){return Xh(this,"entries",n=>(n[1]=cn(n[1]),n))},every(n,t){return Xi(this,"every",n,t,void 0,arguments)},filter(n,t){return Xi(this,"filter",n,t,e=>e.map(cn),arguments)},find(n,t){return Xi(this,"find",n,t,cn,arguments)},findIndex(n,t){return Xi(this,"findIndex",n,t,void 0,arguments)},findLast(n,t){return Xi(this,"findLast",n,t,cn,arguments)},findLastIndex(n,t){return Xi(this,"findLastIndex",n,t,void 0,arguments)},forEach(n,t){return Xi(this,"forEach",n,t,void 0,arguments)},includes(...n){return Zh(this,"includes",n)},indexOf(...n){return Zh(this,"indexOf",n)},join(n){return lo(this).join(n)},lastIndexOf(...n){return Zh(this,"lastIndexOf",n)},map(n,t){return Xi(this,"map",n,t,void 0,arguments)},pop(){return da(this,"pop")},push(...n){return da(this,"push",n)},reduce(n,...t){return Vg(this,"reduce",n,t)},reduceRight(n,...t){return Vg(this,"reduceRight",n,t)},shift(){return da(this,"shift")},some(n,t){return Xi(this,"some",n,t,void 0,arguments)},splice(...n){return da(this,"splice",n)},toReversed(){return lo(this).toReversed()},toSorted(n){return lo(this).toSorted(n)},toSpliced(...n){return lo(this).toSpliced(...n)},unshift(...n){return da(this,"unshift",n)},values(){return Xh(this,"values",cn)}};function Xh(n,t,e){const i=ju(n),s=i[t]();return i!==n&&!gi(n)&&(s._next=s.next,s.next=()=>{const r=s._next();return r.value&&(r.value=e(r.value)),r}),s}const y1=Array.prototype;function Xi(n,t,e,i,s,r){const o=ju(n),a=o!==n&&!gi(n),l=o[t];if(l!==y1[t]){const h=l.apply(n,r);return a?cn(h):h}let c=e;o!==n&&(a?c=function(h,f){return e.call(this,cn(h),f,n)}:e.length>2&&(c=function(h,f){return e.call(this,h,f,n)}));const u=l.call(o,c,i);return a&&s?s(u):u}function Vg(n,t,e,i){const s=ju(n);let r=e;return s!==n&&(gi(n)?e.length>3&&(r=function(o,a,l){return e.call(this,o,a,l,n)}):r=function(o,a,l){return e.call(this,o,cn(a),l,n)}),s[t](r,...i)}function Zh(n,t,e){const i=ae(n);yn(i,"iterate",qa);const s=i[t](...e);return(s===-1||s===!1)&&zf(e[0])?(e[0]=ae(e[0]),i[t](...e)):s}function da(n,t,e=[]){fs(),Nf();const i=ae(n)[t].apply(n,e);return Ff(),ps(),i}const b1=Pf("__proto__,__v_isRef,__isVue"),Ly=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(ji));function v1(n){ji(n)||(n=String(n));const t=ae(this);return yn(t,"has",n),t.hasOwnProperty(n)}class Vy{constructor(t=!1,e=!1){this._isReadonly=t,this._isShallow=e}get(t,e,i){if(e==="__v_skip")return t.__v_skip;const s=this._isReadonly,r=this._isShallow;if(e==="__v_isReactive")return!s;if(e==="__v_isReadonly")return s;if(e==="__v_isShallow")return r;if(e==="__v_raw")return i===(s?r?P1:zy:r?jy:Wy).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(i)?t:void 0;const o=Vt(t);if(!s){let l;if(o&&(l=_1[e]))return l;if(e==="hasOwnProperty")return v1}const a=Reflect.get(t,e,xn(t)?t:i);return(ji(e)?Ly.has(e):b1(e))||(s||yn(t,"get",e),r)?a:xn(a)?o&&If(e)?a:a.value:Te(a)?s?qy(a):Wf(a):a}}class By extends Vy{constructor(t=!1){super(!1,t)}set(t,e,i,s){let r=t[e];if(!this._isShallow){const l=Ys(r);if(!gi(i)&&!Ys(i)&&(r=ae(r),i=ae(i)),!Vt(t)&&xn(r)&&!xn(i))return l?!1:(r.value=i,!0)}const o=Vt(t)&&If(e)?Number(e)<t.length:le(t,e),a=Reflect.set(t,e,i,xn(t)?t:s);return t===ae(s)&&(o?zs(i,r)&&rs(t,"set",e,i):rs(t,"add",e,i)),a}deleteProperty(t,e){const i=le(t,e);t[e];const s=Reflect.deleteProperty(t,e);return s&&i&&rs(t,"delete",e,void 0),s}has(t,e){const i=Reflect.has(t,e);return(!ji(e)||!Ly.has(e))&&yn(t,"has",e),i}ownKeys(t){return yn(t,"iterate",Vt(t)?"length":Or),Reflect.ownKeys(t)}}class x1 extends Vy{constructor(t=!1){super(!0,t)}set(t,e){return!0}deleteProperty(t,e){return!0}}const w1=new By,S1=new x1,T1=new By(!0),Nd=n=>n,cc=n=>Reflect.getPrototypeOf(n);function k1(n,t,e){return function(...i){const s=this.__v_raw,r=ae(s),o=vo(r),a=n==="entries"||n===Symbol.iterator&&o,l=n==="keys"&&o,c=s[n](...i),u=e?Nd:t?Hc:cn;return!t&&yn(r,"iterate",l?Rd:Or),{next(){const{value:h,done:f}=c.next();return f?{value:h,done:f}:{value:a?[u(h[0]),u(h[1])]:u(h),done:f}},[Symbol.iterator](){return this}}}}function uc(n){return function(...t){return n==="delete"?!1:n==="clear"?void 0:this}}function C1(n,t){const e={get(s){const r=this.__v_raw,o=ae(r),a=ae(s);n||(zs(s,a)&&yn(o,"get",s),yn(o,"get",a));const{has:l}=cc(o),c=t?Nd:n?Hc:cn;if(l.call(o,s))return c(r.get(s));if(l.call(o,a))return c(r.get(a));r!==o&&r.get(s)},get size(){const s=this.__v_raw;return!n&&yn(ae(s),"iterate",Or),Reflect.get(s,"size",s)},has(s){const r=this.__v_raw,o=ae(r),a=ae(s);return n||(zs(s,a)&&yn(o,"has",s),yn(o,"has",a)),s===a?r.has(s):r.has(s)||r.has(a)},forEach(s,r){const o=this,a=o.__v_raw,l=ae(a),c=t?Nd:n?Hc:cn;return!n&&yn(l,"iterate",Or),a.forEach((u,h)=>s.call(r,c(u),c(h),o))}};return Sn(e,n?{add:uc("add"),set:uc("set"),delete:uc("delete"),clear:uc("clear")}:{add(s){!t&&!gi(s)&&!Ys(s)&&(s=ae(s));const r=ae(this);return cc(r).has.call(r,s)||(r.add(s),rs(r,"add",s,s)),this},set(s,r){!t&&!gi(r)&&!Ys(r)&&(r=ae(r));const o=ae(this),{has:a,get:l}=cc(o);let c=a.call(o,s);c||(s=ae(s),c=a.call(o,s));const u=l.call(o,s);return o.set(s,r),c?zs(r,u)&&rs(o,"set",s,r):rs(o,"add",s,r),this},delete(s){const r=ae(this),{has:o,get:a}=cc(r);let l=o.call(r,s);l||(s=ae(s),l=o.call(r,s)),a&&a.call(r,s);const c=r.delete(s);return l&&rs(r,"delete",s,void 0),c},clear(){const s=ae(this),r=s.size!==0,o=s.clear();return r&&rs(s,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(s=>{e[s]=k1(s,n,t)}),e}function Bf(n,t){const e=C1(n,t);return(i,s,r)=>s==="__v_isReactive"?!n:s==="__v_isReadonly"?n:s==="__v_raw"?i:Reflect.get(le(e,s)&&s in i?e:i,s,r)}const M1={get:Bf(!1,!1)},A1={get:Bf(!1,!0)},O1={get:Bf(!0,!1)},Wy=new WeakMap,jy=new WeakMap,zy=new WeakMap,P1=new WeakMap;function D1(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function E1(n){return n.__v_skip||!Object.isExtensible(n)?0:D1(n1(n))}function Wf(n){return Ys(n)?n:jf(n,!1,w1,M1,Wy)}function I1(n){return jf(n,!1,T1,A1,jy)}function qy(n){return jf(n,!0,S1,O1,zy)}function jf(n,t,e,i,s){if(!Te(n)||n.__v_raw&&!(t&&n.__v_isReactive))return n;const r=E1(n);if(r===0)return n;const o=s.get(n);if(o)return o;const a=new Proxy(n,r===2?i:e);return s.set(n,a),a}function xo(n){return Ys(n)?xo(n.__v_raw):!!(n&&n.__v_isReactive)}function Ys(n){return!!(n&&n.__v_isReadonly)}function gi(n){return!!(n&&n.__v_isShallow)}function zf(n){return n?!!n.__v_raw:!1}function ae(n){const t=n&&n.__v_raw;return t?ae(t):n}function R1(n){return!le(n,"__v_skip")&&Object.isExtensible(n)&&Dd(n,"__v_skip",!0),n}const cn=n=>Te(n)?Wf(n):n,Hc=n=>Te(n)?qy(n):n;function xn(n){return n?n.__v_isRef===!0:!1}function ue(n){return N1(n,!1)}function N1(n,t){return xn(n)?n:new F1(n,t)}class F1{constructor(t,e){this.dep=new Vf,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=e?t:ae(t),this._value=e?t:cn(t),this.__v_isShallow=e}get value(){return this.dep.track(),this._value}set value(t){const e=this._rawValue,i=this.__v_isShallow||gi(t)||Ys(t);t=i?t:ae(t),zs(t,e)&&(this._rawValue=t,this._value=i?t:cn(t),this.dep.trigger())}}function L1(n){return xn(n)?n.value:n}const V1={get:(n,t,e)=>t==="__v_raw"?n:L1(Reflect.get(n,t,e)),set:(n,t,e,i)=>{const s=n[t];return xn(s)&&!xn(e)?(s.value=e,!0):Reflect.set(n,t,e,i)}};function $y(n){return xo(n)?n:new Proxy(n,V1)}class B1{constructor(t,e,i){this.fn=t,this.setter=e,this._value=void 0,this.dep=new Vf(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=za-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!e,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&_e!==this)return Dy(this,!0),!0}get value(){const t=this.dep.track();return Ry(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function W1(n,t,e=!1){let i,s;return Ut(n)?i=n:(i=n.get,s=n.set),new B1(i,s,e)}const hc={},Kc=new WeakMap;let xr;function j1(n,t=!1,e=xr){if(e){let i=Kc.get(e);i||Kc.set(e,i=[]),i.push(n)}}function z1(n,t,e=me){const{immediate:i,deep:s,once:r,scheduler:o,augmentJob:a,call:l}=e,c=M=>s?M:gi(M)||s===!1||s===0?os(M,1):os(M);let u,h,f,g,_=!1,m=!1;if(xn(n)?(h=()=>n.value,_=gi(n)):xo(n)?(h=()=>c(n),_=!0):Vt(n)?(m=!0,_=n.some(M=>xo(M)||gi(M)),h=()=>n.map(M=>{if(xn(M))return M.value;if(xo(M))return c(M);if(Ut(M))return l?l(M,2):M()})):Ut(n)?t?h=l?()=>l(n,2):n:h=()=>{if(f){fs();try{f()}finally{ps()}}const M=xr;xr=u;try{return l?l(n,3,[g]):n(g)}finally{xr=M}}:h=Bi,t&&s){const M=h,w=s===!0?1/0:s;h=()=>os(M(),w)}const b=p1(),x=()=>{u.stop(),b&&b.active&&Ef(b.effects,u)};if(r&&t){const M=t;t=(...w)=>{M(...w),x()}}let T=m?new Array(n.length).fill(hc):hc;const O=M=>{if(!(!(u.flags&1)||!u.dirty&&!M))if(t){const w=u.run();if(s||_||(m?w.some((k,P)=>zs(k,T[P])):zs(w,T))){f&&f();const k=xr;xr=u;try{const P=[w,T===hc?void 0:m&&T[0]===hc?[]:T,g];T=w,l?l(t,3,P):t(...P)}finally{xr=k}}}else u.run()};return a&&a(O),u=new Oy(h),u.scheduler=o?()=>o(O,!1):O,g=M=>j1(M,!1,u),f=u.onStop=()=>{const M=Kc.get(u);if(M){if(l)l(M,4);else for(const w of M)w();Kc.delete(u)}},t?i?O(!0):T=u.run():o?o(O.bind(null,!0),!0):u.run(),x.pause=u.pause.bind(u),x.resume=u.resume.bind(u),x.stop=x,x}function os(n,t=1/0,e){if(t<=0||!Te(n)||n.__v_skip||(e=e||new Set,e.has(n)))return n;if(e.add(n),t--,xn(n))os(n.value,t,e);else if(Vt(n))for(let i=0;i<n.length;i++)os(n[i],t,e);else if(Lu(n)||vo(n))n.forEach(i=>{os(i,t,e)});else if(Ty(n)){for(const i in n)os(n[i],t,e);for(const i of Object.getOwnPropertySymbols(n))Object.prototype.propertyIsEnumerable.call(n,i)&&os(n[i],t,e)}return n}/**
* @vue/runtime-core v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function wl(n,t,e,i){try{return i?n(...i):n()}catch(s){zu(s,t,e)}}function zi(n,t,e,i){if(Ut(n)){const s=wl(n,t,e,i);return s&&wy(s)&&s.catch(r=>{zu(r,t,e)}),s}if(Vt(n)){const s=[];for(let r=0;r<n.length;r++)s.push(zi(n[r],t,e,i));return s}}function zu(n,t,e,i=!0){const s=t?t.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||me;if(t){let a=t.parent;const l=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${e}`;for(;a;){const u=a.ec;if(u){for(let h=0;h<u.length;h++)if(u[h](n,l,c)===!1)return}a=a.parent}if(r){fs(),wl(r,null,10,[n,l,c]),ps();return}}q1(n,e,s,i,o)}function q1(n,t,e,i=!0,s=!1){if(s)throw n;console.error(n)}const An=[];let Ii=-1;const wo=[];let Is=null,fo=0;const Uy=Promise.resolve();let Yc=null;function Gc(n){const t=Yc||Uy;return n?t.then(this?n.bind(this):n):t}function $1(n){let t=Ii+1,e=An.length;for(;t<e;){const i=t+e>>>1,s=An[i],r=$a(s);r<n||r===n&&s.flags&2?t=i+1:e=i}return t}function qf(n){if(!(n.flags&1)){const t=$a(n),e=An[An.length-1];!e||!(n.flags&2)&&t>=$a(e)?An.push(n):An.splice($1(t),0,n),n.flags|=1,Hy()}}function Hy(){Yc||(Yc=Uy.then(Yy))}function U1(n){Vt(n)?wo.push(...n):Is&&n.id===-1?Is.splice(fo+1,0,n):n.flags&1||(wo.push(n),n.flags|=1),Hy()}function Bg(n,t,e=Ii+1){for(;e<An.length;e++){const i=An[e];if(i&&i.flags&2){if(n&&i.id!==n.uid)continue;An.splice(e,1),e--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function Ky(n){if(wo.length){const t=[...new Set(wo)].sort((e,i)=>$a(e)-$a(i));if(wo.length=0,Is){Is.push(...t);return}for(Is=t,fo=0;fo<Is.length;fo++){const e=Is[fo];e.flags&4&&(e.flags&=-2),e.flags&8||e(),e.flags&=-2}Is=null,fo=0}}const $a=n=>n.id==null?n.flags&2?-1:1/0:n.id;function Yy(n){try{for(Ii=0;Ii<An.length;Ii++){const t=An[Ii];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),wl(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Ii<An.length;Ii++){const t=An[Ii];t&&(t.flags&=-2)}Ii=-1,An.length=0,Ky(),Yc=null,(An.length||wo.length)&&Yy()}}let ci=null,Gy=null;function Xc(n){const t=ci;return ci=n,Gy=n&&n.type.__scopeId||null,t}function H1(n,t=ci,e){if(!t||n._n)return n;const i=(...s)=>{i._d&&Yg(-1);const r=Xc(t);let o;try{o=n(...s)}finally{Xc(r),i._d&&Yg(1)}return o};return i._n=!0,i._c=!0,i._d=!0,i}function So(n,t){if(ci===null)return n;const e=Ku(ci),i=n.dirs||(n.dirs=[]);for(let s=0;s<t.length;s++){let[r,o,a,l=me]=t[s];r&&(Ut(r)&&(r={mounted:r,updated:r}),r.deep&&os(o),i.push({dir:r,instance:e,value:o,oldValue:void 0,arg:a,modifiers:l}))}return n}function fr(n,t,e,i){const s=n.dirs,r=t&&t.dirs;for(let o=0;o<s.length;o++){const a=s[o];r&&(a.oldValue=r[o].value);let l=a.dir[i];l&&(fs(),zi(l,e,8,[n.el,a,n,t]),ps())}}const K1=Symbol("_vte"),Y1=n=>n.__isTeleport;function $f(n,t){n.shapeFlag&6&&n.component?(n.transition=t,$f(n.component.subTree,t)):n.shapeFlag&128?(n.ssContent.transition=t.clone(n.ssContent),n.ssFallback.transition=t.clone(n.ssFallback)):n.transition=t}/*! #__NO_SIDE_EFFECTS__ */function Sl(n,t){return Ut(n)?Sn({name:n.name},t,{setup:n}):n}function Xy(n){n.ids=[n.ids[0]+n.ids[2]+++"-",0,0]}function Pa(n,t,e,i,s=!1){if(Vt(n)){n.forEach((_,m)=>Pa(_,t&&(Vt(t)?t[m]:t),e,i,s));return}if(Da(i)&&!s){i.shapeFlag&512&&i.type.__asyncResolved&&i.component.subTree.component&&Pa(n,t,e,i.component.subTree);return}const r=i.shapeFlag&4?Ku(i.component):i.el,o=s?null:r,{i:a,r:l}=n,c=t&&t.r,u=a.refs===me?a.refs={}:a.refs,h=a.setupState,f=ae(h),g=h===me?()=>!1:_=>le(f,_);if(c!=null&&c!==l&&(Ze(c)?(u[c]=null,g(c)&&(h[c]=null)):xn(c)&&(c.value=null)),Ut(l))wl(l,a,12,[o,u]);else{const _=Ze(l),m=xn(l);if(_||m){const b=()=>{if(n.f){const x=_?g(l)?h[l]:u[l]:l.value;s?Vt(x)&&Ef(x,r):Vt(x)?x.includes(r)||x.push(r):_?(u[l]=[r],g(l)&&(h[l]=u[l])):(l.value=[r],n.k&&(u[n.k]=l.value))}else _?(u[l]=o,g(l)&&(h[l]=o)):m&&(l.value=o,n.k&&(u[n.k]=o))};o?(b.id=-1,Yn(b,e)):b()}}}Bu().requestIdleCallback;Bu().cancelIdleCallback;const Da=n=>!!n.type.__asyncLoader,Zy=n=>n.type.__isKeepAlive;function G1(n,t){Qy(n,"a",t)}function X1(n,t){Qy(n,"da",t)}function Qy(n,t,e=Pn){const i=n.__wdc||(n.__wdc=()=>{let s=e;for(;s;){if(s.isDeactivated)return;s=s.parent}return n()});if(qu(t,i,e),e){let s=e.parent;for(;s&&s.parent;)Zy(s.parent.vnode)&&Z1(i,t,e,s),s=s.parent}}function Z1(n,t,e,i){const s=qu(t,n,i,!0);Jy(()=>{Ef(i[t],s)},e)}function qu(n,t,e=Pn,i=!1){if(e){const s=e[n]||(e[n]=[]),r=t.__weh||(t.__weh=(...o)=>{fs();const a=Tl(e),l=zi(t,e,n,o);return a(),ps(),l});return i?s.unshift(r):s.push(r),r}}const bs=n=>(t,e=Pn)=>{(!Ha||n==="sp")&&qu(n,(...i)=>t(...i),e)},Q1=bs("bm"),$u=bs("m"),J1=bs("bu"),tw=bs("u"),ew=bs("bum"),Jy=bs("um"),nw=bs("sp"),iw=bs("rtg"),sw=bs("rtc");function rw(n,t=Pn){qu("ec",n,t)}const ow=Symbol.for("v-ndc");function as(n,t,e,i){let s;const r=e,o=Vt(n);if(o||Ze(n)){const a=o&&xo(n);let l=!1,c=!1;a&&(l=!gi(n),c=Ys(n),n=ju(n)),s=new Array(n.length);for(let u=0,h=n.length;u<h;u++)s[u]=t(l?c?Hc(cn(n[u])):cn(n[u]):n[u],u,void 0,r)}else if(typeof n=="number"){s=new Array(n);for(let a=0;a<n;a++)s[a]=t(a+1,a,void 0,r)}else if(Te(n))if(n[Symbol.iterator])s=Array.from(n,(a,l)=>t(a,l,void 0,r));else{const a=Object.keys(n);s=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];s[l]=t(n[u],u,l,r)}}else s=[];return s}const Fd=n=>n?v0(n)?Ku(n):Fd(n.parent):null,Ea=Sn(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>Fd(n.parent),$root:n=>Fd(n.root),$host:n=>n.ce,$emit:n=>n.emit,$options:n=>e0(n),$forceUpdate:n=>n.f||(n.f=()=>{qf(n.update)}),$nextTick:n=>n.n||(n.n=Gc.bind(n.proxy)),$watch:n=>Aw.bind(n)}),Qh=(n,t)=>n!==me&&!n.__isScriptSetup&&le(n,t),aw={get({_:n},t){if(t==="__v_skip")return!0;const{ctx:e,setupState:i,data:s,props:r,accessCache:o,type:a,appContext:l}=n;let c;if(t[0]!=="$"){const g=o[t];if(g!==void 0)switch(g){case 1:return i[t];case 2:return s[t];case 4:return e[t];case 3:return r[t]}else{if(Qh(i,t))return o[t]=1,i[t];if(s!==me&&le(s,t))return o[t]=2,s[t];if((c=n.propsOptions[0])&&le(c,t))return o[t]=3,r[t];if(e!==me&&le(e,t))return o[t]=4,e[t];Ld&&(o[t]=0)}}const u=Ea[t];let h,f;if(u)return t==="$attrs"&&yn(n.attrs,"get",""),u(n);if((h=a.__cssModules)&&(h=h[t]))return h;if(e!==me&&le(e,t))return o[t]=4,e[t];if(f=l.config.globalProperties,le(f,t))return f[t]},set({_:n},t,e){const{data:i,setupState:s,ctx:r}=n;return Qh(s,t)?(s[t]=e,!0):i!==me&&le(i,t)?(i[t]=e,!0):le(n.props,t)||t[0]==="$"&&t.slice(1)in n?!1:(r[t]=e,!0)},has({_:{data:n,setupState:t,accessCache:e,ctx:i,appContext:s,propsOptions:r}},o){let a;return!!e[o]||n!==me&&le(n,o)||Qh(t,o)||(a=r[0])&&le(a,o)||le(i,o)||le(Ea,o)||le(s.config.globalProperties,o)},defineProperty(n,t,e){return e.get!=null?n._.accessCache[t]=0:le(e,"value")&&this.set(n,t,e.value,null),Reflect.defineProperty(n,t,e)}};function Wg(n){return Vt(n)?n.reduce((t,e)=>(t[e]=null,t),{}):n}let Ld=!0;function lw(n){const t=e0(n),e=n.proxy,i=n.ctx;Ld=!1,t.beforeCreate&&jg(t.beforeCreate,n,"bc");const{data:s,computed:r,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:h,mounted:f,beforeUpdate:g,updated:_,activated:m,deactivated:b,beforeDestroy:x,beforeUnmount:T,destroyed:O,unmounted:M,render:w,renderTracked:k,renderTriggered:P,errorCaptured:A,serverPrefetch:I,expose:W,inheritAttrs:R,components:N,directives:Z,filters:ot}=t;if(c&&cw(c,i,null),o)for(const st in o){const pt=o[st];Ut(pt)&&(i[st]=pt.bind(e))}if(s){const st=s.call(e,e);Te(st)&&(n.data=Wf(st))}if(Ld=!0,r)for(const st in r){const pt=r[st],mt=Ut(pt)?pt.bind(e,e):Ut(pt.get)?pt.get.bind(e,e):Bi,V=!Ut(pt)&&Ut(pt.set)?pt.set.bind(e):Bi,F=ls({get:mt,set:V});Object.defineProperty(i,st,{enumerable:!0,configurable:!0,get:()=>F.value,set:ft=>F.value=ft})}if(a)for(const st in a)t0(a[st],i,e,st);if(l){const st=Ut(l)?l.call(e):l;Reflect.ownKeys(st).forEach(pt=>{gw(pt,st[pt])})}u&&jg(u,n,"c");function nt(st,pt){Vt(pt)?pt.forEach(mt=>st(mt.bind(e))):pt&&st(pt.bind(e))}if(nt(Q1,h),nt($u,f),nt(J1,g),nt(tw,_),nt(G1,m),nt(X1,b),nt(rw,A),nt(sw,k),nt(iw,P),nt(ew,T),nt(Jy,M),nt(nw,I),Vt(W))if(W.length){const st=n.exposed||(n.exposed={});W.forEach(pt=>{Object.defineProperty(st,pt,{get:()=>e[pt],set:mt=>e[pt]=mt,enumerable:!0})})}else n.exposed||(n.exposed={});w&&n.render===Bi&&(n.render=w),R!=null&&(n.inheritAttrs=R),N&&(n.components=N),Z&&(n.directives=Z),I&&Xy(n)}function cw(n,t,e=Bi){Vt(n)&&(n=Vd(n));for(const i in n){const s=n[i];let r;Te(s)?"default"in s?r=Ic(s.from||i,s.default,!0):r=Ic(s.from||i):r=Ic(s),xn(r)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):t[i]=r}}function jg(n,t,e){zi(Vt(n)?n.map(i=>i.bind(t.proxy)):n.bind(t.proxy),t,e)}function t0(n,t,e,i){let s=i.includes(".")?p0(e,i):()=>e[i];if(Ze(n)){const r=t[n];Ut(r)&&td(s,r)}else if(Ut(n))td(s,n.bind(e));else if(Te(n))if(Vt(n))n.forEach(r=>t0(r,t,e,i));else{const r=Ut(n.handler)?n.handler.bind(e):t[n.handler];Ut(r)&&td(s,r,n)}}function e0(n){const t=n.type,{mixins:e,extends:i}=t,{mixins:s,optionsCache:r,config:{optionMergeStrategies:o}}=n.appContext,a=r.get(t);let l;return a?l=a:!s.length&&!e&&!i?l=t:(l={},s.length&&s.forEach(c=>Zc(l,c,o,!0)),Zc(l,t,o)),Te(t)&&r.set(t,l),l}function Zc(n,t,e,i=!1){const{mixins:s,extends:r}=t;r&&Zc(n,r,e,!0),s&&s.forEach(o=>Zc(n,o,e,!0));for(const o in t)if(!(i&&o==="expose")){const a=uw[o]||e&&e[o];n[o]=a?a(n[o],t[o]):t[o]}return n}const uw={data:zg,props:qg,emits:qg,methods:va,computed:va,beforeCreate:Mn,created:Mn,beforeMount:Mn,mounted:Mn,beforeUpdate:Mn,updated:Mn,beforeDestroy:Mn,beforeUnmount:Mn,destroyed:Mn,unmounted:Mn,activated:Mn,deactivated:Mn,errorCaptured:Mn,serverPrefetch:Mn,components:va,directives:va,watch:dw,provide:zg,inject:hw};function zg(n,t){return t?n?function(){return Sn(Ut(n)?n.call(this,this):n,Ut(t)?t.call(this,this):t)}:t:n}function hw(n,t){return va(Vd(n),Vd(t))}function Vd(n){if(Vt(n)){const t={};for(let e=0;e<n.length;e++)t[n[e]]=n[e];return t}return n}function Mn(n,t){return n?[...new Set([].concat(n,t))]:t}function va(n,t){return n?Sn(Object.create(null),n,t):t}function qg(n,t){return n?Vt(n)&&Vt(t)?[...new Set([...n,...t])]:Sn(Object.create(null),Wg(n),Wg(t??{})):t}function dw(n,t){if(!n)return t;if(!t)return n;const e=Sn(Object.create(null),n);for(const i in t)e[i]=Mn(n[i],t[i]);return e}function n0(){return{app:null,config:{isNativeTag:t1,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let fw=0;function pw(n,t){return function(i,s=null){Ut(i)||(i=Sn({},i)),s!=null&&!Te(s)&&(s=null);const r=n0(),o=new WeakSet,a=[];let l=!1;const c=r.app={_uid:fw++,_component:i,_props:s,_container:null,_context:r,_instance:null,version:Zw,get config(){return r.config},set config(u){},use(u,...h){return o.has(u)||(u&&Ut(u.install)?(o.add(u),u.install(c,...h)):Ut(u)&&(o.add(u),u(c,...h))),c},mixin(u){return r.mixins.includes(u)||r.mixins.push(u),c},component(u,h){return h?(r.components[u]=h,c):r.components[u]},directive(u,h){return h?(r.directives[u]=h,c):r.directives[u]},mount(u,h,f){if(!l){const g=c._ceVNode||ti(i,s);return g.appContext=r,f===!0?f="svg":f===!1&&(f=void 0),n(g,u,f),l=!0,c._container=u,u.__vue_app__=c,Ku(g.component)}},onUnmount(u){a.push(u)},unmount(){l&&(zi(a,c._instance,16),n(null,c._container),delete c._container.__vue_app__)},provide(u,h){return r.provides[u]=h,c},runWithContext(u){const h=To;To=c;try{return u()}finally{To=h}}};return c}}let To=null;function gw(n,t){if(Pn){let e=Pn.provides;const i=Pn.parent&&Pn.parent.provides;i===e&&(e=Pn.provides=Object.create(i)),e[n]=t}}function Ic(n,t,e=!1){const i=Uw();if(i||To){let s=To?To._context.provides:i?i.parent==null||i.ce?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(s&&n in s)return s[n];if(arguments.length>1)return e&&Ut(t)?t.call(i&&i.proxy):t}}const i0={},s0=()=>Object.create(i0),r0=n=>Object.getPrototypeOf(n)===i0;function mw(n,t,e,i=!1){const s={},r=s0();n.propsDefaults=Object.create(null),o0(n,t,s,r);for(const o in n.propsOptions[0])o in s||(s[o]=void 0);e?n.props=i?s:I1(s):n.type.props?n.props=s:n.props=r,n.attrs=r}function _w(n,t,e,i){const{props:s,attrs:r,vnode:{patchFlag:o}}=n,a=ae(s),[l]=n.propsOptions;let c=!1;if((i||o>0)&&!(o&16)){if(o&8){const u=n.vnode.dynamicProps;for(let h=0;h<u.length;h++){let f=u[h];if(Uu(n.emitsOptions,f))continue;const g=t[f];if(l)if(le(r,f))g!==r[f]&&(r[f]=g,c=!0);else{const _=Ks(f);s[_]=Bd(l,a,_,g,n,!1)}else g!==r[f]&&(r[f]=g,c=!0)}}}else{o0(n,t,s,r)&&(c=!0);let u;for(const h in a)(!t||!le(t,h)&&((u=Yr(h))===h||!le(t,u)))&&(l?e&&(e[h]!==void 0||e[u]!==void 0)&&(s[h]=Bd(l,a,h,void 0,n,!0)):delete s[h]);if(r!==a)for(const h in r)(!t||!le(t,h))&&(delete r[h],c=!0)}c&&rs(n.attrs,"set","")}function o0(n,t,e,i){const[s,r]=n.propsOptions;let o=!1,a;if(t)for(let l in t){if(Ma(l))continue;const c=t[l];let u;s&&le(s,u=Ks(l))?!r||!r.includes(u)?e[u]=c:(a||(a={}))[u]=c:Uu(n.emitsOptions,l)||(!(l in i)||c!==i[l])&&(i[l]=c,o=!0)}if(r){const l=ae(e),c=a||me;for(let u=0;u<r.length;u++){const h=r[u];e[h]=Bd(s,l,h,c[h],n,!le(c,h))}}return o}function Bd(n,t,e,i,s,r){const o=n[e];if(o!=null){const a=le(o,"default");if(a&&i===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Ut(l)){const{propsDefaults:c}=s;if(e in c)i=c[e];else{const u=Tl(s);i=c[e]=l.call(null,t),u()}}else i=l;s.ce&&s.ce._setProp(e,i)}o[0]&&(r&&!a?i=!1:o[1]&&(i===""||i===Yr(e))&&(i=!0))}return i}const yw=new WeakMap;function a0(n,t,e=!1){const i=e?yw:t.propsCache,s=i.get(n);if(s)return s;const r=n.props,o={},a=[];let l=!1;if(!Ut(n)){const u=h=>{l=!0;const[f,g]=a0(h,t,!0);Sn(o,f),g&&a.push(...g)};!e&&t.mixins.length&&t.mixins.forEach(u),n.extends&&u(n.extends),n.mixins&&n.mixins.forEach(u)}if(!r&&!l)return Te(n)&&i.set(n,bo),bo;if(Vt(r))for(let u=0;u<r.length;u++){const h=Ks(r[u]);$g(h)&&(o[h]=me)}else if(r)for(const u in r){const h=Ks(u);if($g(h)){const f=r[u],g=o[h]=Vt(f)||Ut(f)?{type:f}:Sn({},f),_=g.type;let m=!1,b=!0;if(Vt(_))for(let x=0;x<_.length;++x){const T=_[x],O=Ut(T)&&T.name;if(O==="Boolean"){m=!0;break}else O==="String"&&(b=!1)}else m=Ut(_)&&_.name==="Boolean";g[0]=m,g[1]=b,(m||le(g,"default"))&&a.push(h)}}const c=[o,a];return Te(n)&&i.set(n,c),c}function $g(n){return n[0]!=="$"&&!Ma(n)}const Uf=n=>n==="_"||n==="__"||n==="_ctx"||n==="$stable",Hf=n=>Vt(n)?n.map(Fi):[Fi(n)],bw=(n,t,e)=>{if(t._n)return t;const i=H1((...s)=>Hf(t(...s)),e);return i._c=!1,i},l0=(n,t,e)=>{const i=n._ctx;for(const s in n){if(Uf(s))continue;const r=n[s];if(Ut(r))t[s]=bw(s,r,i);else if(r!=null){const o=Hf(r);t[s]=()=>o}}},c0=(n,t)=>{const e=Hf(t);n.slots.default=()=>e},u0=(n,t,e)=>{for(const i in t)(e||!Uf(i))&&(n[i]=t[i])},vw=(n,t,e)=>{const i=n.slots=s0();if(n.vnode.shapeFlag&32){const s=t.__;s&&Dd(i,"__",s,!0);const r=t._;r?(u0(i,t,e),e&&Dd(i,"_",r,!0)):l0(t,i)}else t&&c0(n,t)},xw=(n,t,e)=>{const{vnode:i,slots:s}=n;let r=!0,o=me;if(i.shapeFlag&32){const a=t._;a?e&&a===1?r=!1:u0(s,t,e):(r=!t.$stable,l0(t,s)),o=t}else t&&(c0(n,t),o={default:1});if(r)for(const a in s)!Uf(a)&&o[a]==null&&delete s[a]},Yn=Nw;function ww(n){return Sw(n)}function Sw(n,t){const e=Bu();e.__VUE__=!0;const{insert:i,remove:s,patchProp:r,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:h,nextSibling:f,setScopeId:g=Bi,insertStaticContent:_}=n,m=(E,j,Q,H=null,J=null,rt=null,gt=void 0,lt=null,ht=!!j.dynamicChildren)=>{if(E===j)return;E&&!fa(E,j)&&(H=Et(E),ft(E,J,rt,!0),E=null),j.patchFlag===-2&&(ht=!1,j.dynamicChildren=null);const{type:dt,ref:Rt,shapeFlag:wt}=j;switch(dt){case Hu:b(E,j,Q,H);break;case Gs:x(E,j,Q,H);break;case ed:E==null&&T(j,Q,H,gt);break;case rn:N(E,j,Q,H,J,rt,gt,lt,ht);break;default:wt&1?w(E,j,Q,H,J,rt,gt,lt,ht):wt&6?Z(E,j,Q,H,J,rt,gt,lt,ht):(wt&64||wt&128)&&dt.process(E,j,Q,H,J,rt,gt,lt,ht,Kt)}Rt!=null&&J?Pa(Rt,E&&E.ref,rt,j||E,!j):Rt==null&&E&&E.ref!=null&&Pa(E.ref,null,rt,E,!0)},b=(E,j,Q,H)=>{if(E==null)i(j.el=a(j.children),Q,H);else{const J=j.el=E.el;j.children!==E.children&&c(J,j.children)}},x=(E,j,Q,H)=>{E==null?i(j.el=l(j.children||""),Q,H):j.el=E.el},T=(E,j,Q,H)=>{[E.el,E.anchor]=_(E.children,j,Q,H,E.el,E.anchor)},O=({el:E,anchor:j},Q,H)=>{let J;for(;E&&E!==j;)J=f(E),i(E,Q,H),E=J;i(j,Q,H)},M=({el:E,anchor:j})=>{let Q;for(;E&&E!==j;)Q=f(E),s(E),E=Q;s(j)},w=(E,j,Q,H,J,rt,gt,lt,ht)=>{j.type==="svg"?gt="svg":j.type==="math"&&(gt="mathml"),E==null?k(j,Q,H,J,rt,gt,lt,ht):I(E,j,J,rt,gt,lt,ht)},k=(E,j,Q,H,J,rt,gt,lt)=>{let ht,dt;const{props:Rt,shapeFlag:wt,transition:Ft,dirs:Lt}=E;if(ht=E.el=o(E.type,rt,Rt&&Rt.is,Rt),wt&8?u(ht,E.children):wt&16&&A(E.children,ht,null,H,J,Jh(E,rt),gt,lt),Lt&&fr(E,null,H,"created"),P(ht,E,E.scopeId,gt,H),Rt){for(const Jt in Rt)Jt!=="value"&&!Ma(Jt)&&r(ht,Jt,null,Rt[Jt],rt,H);"value"in Rt&&r(ht,"value",null,Rt.value,rt),(dt=Rt.onVnodeBeforeMount)&&Di(dt,H,E)}Lt&&fr(E,null,H,"beforeMount");const Bt=Tw(J,Ft);Bt&&Ft.beforeEnter(ht),i(ht,j,Q),((dt=Rt&&Rt.onVnodeMounted)||Bt||Lt)&&Yn(()=>{dt&&Di(dt,H,E),Bt&&Ft.enter(ht),Lt&&fr(E,null,H,"mounted")},J)},P=(E,j,Q,H,J)=>{if(Q&&g(E,Q),H)for(let rt=0;rt<H.length;rt++)g(E,H[rt]);if(J){let rt=J.subTree;if(j===rt||m0(rt.type)&&(rt.ssContent===j||rt.ssFallback===j)){const gt=J.vnode;P(E,gt,gt.scopeId,gt.slotScopeIds,J.parent)}}},A=(E,j,Q,H,J,rt,gt,lt,ht=0)=>{for(let dt=ht;dt<E.length;dt++){const Rt=E[dt]=lt?Rs(E[dt]):Fi(E[dt]);m(null,Rt,j,Q,H,J,rt,gt,lt)}},I=(E,j,Q,H,J,rt,gt)=>{const lt=j.el=E.el;let{patchFlag:ht,dynamicChildren:dt,dirs:Rt}=j;ht|=E.patchFlag&16;const wt=E.props||me,Ft=j.props||me;let Lt;if(Q&&pr(Q,!1),(Lt=Ft.onVnodeBeforeUpdate)&&Di(Lt,Q,j,E),Rt&&fr(j,E,Q,"beforeUpdate"),Q&&pr(Q,!0),(wt.innerHTML&&Ft.innerHTML==null||wt.textContent&&Ft.textContent==null)&&u(lt,""),dt?W(E.dynamicChildren,dt,lt,Q,H,Jh(j,J),rt):gt||pt(E,j,lt,null,Q,H,Jh(j,J),rt,!1),ht>0){if(ht&16)R(lt,wt,Ft,Q,J);else if(ht&2&&wt.class!==Ft.class&&r(lt,"class",null,Ft.class,J),ht&4&&r(lt,"style",wt.style,Ft.style,J),ht&8){const Bt=j.dynamicProps;for(let Jt=0;Jt<Bt.length;Jt++){const ne=Bt[Jt],De=wt[ne],Be=Ft[ne];(Be!==De||ne==="value")&&r(lt,ne,De,Be,J,Q)}}ht&1&&E.children!==j.children&&u(lt,j.children)}else!gt&&dt==null&&R(lt,wt,Ft,Q,J);((Lt=Ft.onVnodeUpdated)||Rt)&&Yn(()=>{Lt&&Di(Lt,Q,j,E),Rt&&fr(j,E,Q,"updated")},H)},W=(E,j,Q,H,J,rt,gt)=>{for(let lt=0;lt<j.length;lt++){const ht=E[lt],dt=j[lt],Rt=ht.el&&(ht.type===rn||!fa(ht,dt)||ht.shapeFlag&198)?h(ht.el):Q;m(ht,dt,Rt,null,H,J,rt,gt,!0)}},R=(E,j,Q,H,J)=>{if(j!==Q){if(j!==me)for(const rt in j)!Ma(rt)&&!(rt in Q)&&r(E,rt,j[rt],null,J,H);for(const rt in Q){if(Ma(rt))continue;const gt=Q[rt],lt=j[rt];gt!==lt&&rt!=="value"&&r(E,rt,lt,gt,J,H)}"value"in Q&&r(E,"value",j.value,Q.value,J)}},N=(E,j,Q,H,J,rt,gt,lt,ht)=>{const dt=j.el=E?E.el:a(""),Rt=j.anchor=E?E.anchor:a("");let{patchFlag:wt,dynamicChildren:Ft,slotScopeIds:Lt}=j;Lt&&(lt=lt?lt.concat(Lt):Lt),E==null?(i(dt,Q,H),i(Rt,Q,H),A(j.children||[],Q,Rt,J,rt,gt,lt,ht)):wt>0&&wt&64&&Ft&&E.dynamicChildren?(W(E.dynamicChildren,Ft,Q,J,rt,gt,lt),(j.key!=null||J&&j===J.subTree)&&h0(E,j,!0)):pt(E,j,Q,Rt,J,rt,gt,lt,ht)},Z=(E,j,Q,H,J,rt,gt,lt,ht)=>{j.slotScopeIds=lt,E==null?j.shapeFlag&512?J.ctx.activate(j,Q,H,gt,ht):ot(j,Q,H,J,rt,gt,ht):at(E,j,ht)},ot=(E,j,Q,H,J,rt,gt)=>{const lt=E.component=$w(E,H,J);if(Zy(E)&&(lt.ctx.renderer=Kt),Hw(lt,!1,gt),lt.asyncDep){if(J&&J.registerDep(lt,nt,gt),!E.el){const ht=lt.subTree=ti(Gs);x(null,ht,j,Q),E.placeholder=ht.el}}else nt(lt,E,j,Q,J,rt,gt)},at=(E,j,Q)=>{const H=j.component=E.component;if(Iw(E,j,Q))if(H.asyncDep&&!H.asyncResolved){st(H,j,Q);return}else H.next=j,H.update();else j.el=E.el,H.vnode=j},nt=(E,j,Q,H,J,rt,gt)=>{const lt=()=>{if(E.isMounted){let{next:wt,bu:Ft,u:Lt,parent:Bt,vnode:Jt}=E;{const Ke=d0(E);if(Ke){wt&&(wt.el=Jt.el,st(E,wt,gt)),Ke.asyncDep.then(()=>{E.isUnmounted||lt()});return}}let ne=wt,De;pr(E,!1),wt?(wt.el=Jt.el,st(E,wt,gt)):wt=Jt,Ft&&Ec(Ft),(De=wt.props&&wt.props.onVnodeBeforeUpdate)&&Di(De,Bt,wt,Jt),pr(E,!0);const Be=Hg(E),Qe=E.subTree;E.subTree=Be,m(Qe,Be,h(Qe.el),Et(Qe),E,J,rt),wt.el=Be.el,ne===null&&Rw(E,Be.el),Lt&&Yn(Lt,J),(De=wt.props&&wt.props.onVnodeUpdated)&&Yn(()=>Di(De,Bt,wt,Jt),J)}else{let wt;const{el:Ft,props:Lt}=j,{bm:Bt,m:Jt,parent:ne,root:De,type:Be}=E,Qe=Da(j);pr(E,!1),Bt&&Ec(Bt),!Qe&&(wt=Lt&&Lt.onVnodeBeforeMount)&&Di(wt,ne,j),pr(E,!0);{De.ce&&De.ce._def.shadowRoot!==!1&&De.ce._injectChildStyle(Be);const Ke=E.subTree=Hg(E);m(null,Ke,Q,H,E,J,rt),j.el=Ke.el}if(Jt&&Yn(Jt,J),!Qe&&(wt=Lt&&Lt.onVnodeMounted)){const Ke=j;Yn(()=>Di(wt,ne,Ke),J)}(j.shapeFlag&256||ne&&Da(ne.vnode)&&ne.vnode.shapeFlag&256)&&E.a&&Yn(E.a,J),E.isMounted=!0,j=Q=H=null}};E.scope.on();const ht=E.effect=new Oy(lt);E.scope.off();const dt=E.update=ht.run.bind(ht),Rt=E.job=ht.runIfDirty.bind(ht);Rt.i=E,Rt.id=E.uid,ht.scheduler=()=>qf(Rt),pr(E,!0),dt()},st=(E,j,Q)=>{j.component=E;const H=E.vnode.props;E.vnode=j,E.next=null,_w(E,j.props,H,Q),xw(E,j.children,Q),fs(),Bg(E),ps()},pt=(E,j,Q,H,J,rt,gt,lt,ht=!1)=>{const dt=E&&E.children,Rt=E?E.shapeFlag:0,wt=j.children,{patchFlag:Ft,shapeFlag:Lt}=j;if(Ft>0){if(Ft&128){V(dt,wt,Q,H,J,rt,gt,lt,ht);return}else if(Ft&256){mt(dt,wt,Q,H,J,rt,gt,lt,ht);return}}Lt&8?(Rt&16&&Tt(dt,J,rt),wt!==dt&&u(Q,wt)):Rt&16?Lt&16?V(dt,wt,Q,H,J,rt,gt,lt,ht):Tt(dt,J,rt,!0):(Rt&8&&u(Q,""),Lt&16&&A(wt,Q,H,J,rt,gt,lt,ht))},mt=(E,j,Q,H,J,rt,gt,lt,ht)=>{E=E||bo,j=j||bo;const dt=E.length,Rt=j.length,wt=Math.min(dt,Rt);let Ft;for(Ft=0;Ft<wt;Ft++){const Lt=j[Ft]=ht?Rs(j[Ft]):Fi(j[Ft]);m(E[Ft],Lt,Q,null,J,rt,gt,lt,ht)}dt>Rt?Tt(E,J,rt,!0,!1,wt):A(j,Q,H,J,rt,gt,lt,ht,wt)},V=(E,j,Q,H,J,rt,gt,lt,ht)=>{let dt=0;const Rt=j.length;let wt=E.length-1,Ft=Rt-1;for(;dt<=wt&&dt<=Ft;){const Lt=E[dt],Bt=j[dt]=ht?Rs(j[dt]):Fi(j[dt]);if(fa(Lt,Bt))m(Lt,Bt,Q,null,J,rt,gt,lt,ht);else break;dt++}for(;dt<=wt&&dt<=Ft;){const Lt=E[wt],Bt=j[Ft]=ht?Rs(j[Ft]):Fi(j[Ft]);if(fa(Lt,Bt))m(Lt,Bt,Q,null,J,rt,gt,lt,ht);else break;wt--,Ft--}if(dt>wt){if(dt<=Ft){const Lt=Ft+1,Bt=Lt<Rt?j[Lt].el:H;for(;dt<=Ft;)m(null,j[dt]=ht?Rs(j[dt]):Fi(j[dt]),Q,Bt,J,rt,gt,lt,ht),dt++}}else if(dt>Ft)for(;dt<=wt;)ft(E[dt],J,rt,!0),dt++;else{const Lt=dt,Bt=dt,Jt=new Map;for(dt=Bt;dt<=Ft;dt++){const Re=j[dt]=ht?Rs(j[dt]):Fi(j[dt]);Re.key!=null&&Jt.set(Re.key,dt)}let ne,De=0;const Be=Ft-Bt+1;let Qe=!1,Ke=0;const ri=new Array(Be);for(dt=0;dt<Be;dt++)ri[dt]=0;for(dt=Lt;dt<=wt;dt++){const Re=E[dt];if(De>=Be){ft(Re,J,rt,!0);continue}let It;if(Re.key!=null)It=Jt.get(Re.key);else for(ne=Bt;ne<=Ft;ne++)if(ri[ne-Bt]===0&&fa(Re,j[ne])){It=ne;break}It===void 0?ft(Re,J,rt,!0):(ri[It-Bt]=dt+1,It>=Ke?Ke=It:Qe=!0,m(Re,j[It],Q,null,J,rt,gt,lt,ht),De++)}const to=Qe?kw(ri):bo;for(ne=to.length-1,dt=Be-1;dt>=0;dt--){const Re=Bt+dt,It=j[Re],Ts=j[Re+1],Ai=Re+1<Rt?Ts.el||Ts.placeholder:H;ri[dt]===0?m(null,It,Q,Ai,J,rt,gt,lt,ht):Qe&&(ne<0||dt!==to[ne]?F(It,Q,Ai,2):ne--)}}},F=(E,j,Q,H,J=null)=>{const{el:rt,type:gt,transition:lt,children:ht,shapeFlag:dt}=E;if(dt&6){F(E.component.subTree,j,Q,H);return}if(dt&128){E.suspense.move(j,Q,H);return}if(dt&64){gt.move(E,j,Q,Kt);return}if(gt===rn){i(rt,j,Q);for(let wt=0;wt<ht.length;wt++)F(ht[wt],j,Q,H);i(E.anchor,j,Q);return}if(gt===ed){O(E,j,Q);return}if(H!==2&&dt&1&&lt)if(H===0)lt.beforeEnter(rt),i(rt,j,Q),Yn(()=>lt.enter(rt),J);else{const{leave:wt,delayLeave:Ft,afterLeave:Lt}=lt,Bt=()=>{E.ctx.isUnmounted?s(rt):i(rt,j,Q)},Jt=()=>{wt(rt,()=>{Bt(),Lt&&Lt()})};Ft?Ft(rt,Bt,Jt):Jt()}else i(rt,j,Q)},ft=(E,j,Q,H=!1,J=!1)=>{const{type:rt,props:gt,ref:lt,children:ht,dynamicChildren:dt,shapeFlag:Rt,patchFlag:wt,dirs:Ft,cacheIndex:Lt}=E;if(wt===-2&&(J=!1),lt!=null&&(fs(),Pa(lt,null,Q,E,!0),ps()),Lt!=null&&(j.renderCache[Lt]=void 0),Rt&256){j.ctx.deactivate(E);return}const Bt=Rt&1&&Ft,Jt=!Da(E);let ne;if(Jt&&(ne=gt&&gt.onVnodeBeforeUnmount)&&Di(ne,j,E),Rt&6)_t(E.component,Q,H);else{if(Rt&128){E.suspense.unmount(Q,H);return}Bt&&fr(E,null,j,"beforeUnmount"),Rt&64?E.type.remove(E,j,Q,Kt,H):dt&&!dt.hasOnce&&(rt!==rn||wt>0&&wt&64)?Tt(dt,j,Q,!1,!0):(rt===rn&&wt&384||!J&&Rt&16)&&Tt(ht,j,Q),H&&Mt(E)}(Jt&&(ne=gt&&gt.onVnodeUnmounted)||Bt)&&Yn(()=>{ne&&Di(ne,j,E),Bt&&fr(E,null,j,"unmounted")},Q)},Mt=E=>{const{type:j,el:Q,anchor:H,transition:J}=E;if(j===rn){Ot(Q,H);return}if(j===ed){M(E);return}const rt=()=>{s(Q),J&&!J.persisted&&J.afterLeave&&J.afterLeave()};if(E.shapeFlag&1&&J&&!J.persisted){const{leave:gt,delayLeave:lt}=J,ht=()=>gt(Q,rt);lt?lt(E.el,rt,ht):ht()}else rt()},Ot=(E,j)=>{let Q;for(;E!==j;)Q=f(E),s(E),E=Q;s(j)},_t=(E,j,Q)=>{const{bum:H,scope:J,job:rt,subTree:gt,um:lt,m:ht,a:dt,parent:Rt,slots:{__:wt}}=E;Ug(ht),Ug(dt),H&&Ec(H),Rt&&Vt(wt)&&wt.forEach(Ft=>{Rt.renderCache[Ft]=void 0}),J.stop(),rt&&(rt.flags|=8,ft(gt,E,j,Q)),lt&&Yn(lt,j),Yn(()=>{E.isUnmounted=!0},j),j&&j.pendingBranch&&!j.isUnmounted&&E.asyncDep&&!E.asyncResolved&&E.suspenseId===j.pendingId&&(j.deps--,j.deps===0&&j.resolve())},Tt=(E,j,Q,H=!1,J=!1,rt=0)=>{for(let gt=rt;gt<E.length;gt++)ft(E[gt],j,Q,H,J)},Et=E=>{if(E.shapeFlag&6)return Et(E.component.subTree);if(E.shapeFlag&128)return E.suspense.next();const j=f(E.anchor||E.el),Q=j&&j[K1];return Q?f(Q):j};let yt=!1;const bt=(E,j,Q)=>{E==null?j._vnode&&ft(j._vnode,null,null,!0):m(j._vnode||null,E,j,null,null,null,Q),j._vnode=E,yt||(yt=!0,Bg(),Ky(),yt=!1)},Kt={p:m,um:ft,m:F,r:Mt,mt:ot,mc:A,pc:pt,pbc:W,n:Et,o:n};return{render:bt,hydrate:void 0,createApp:pw(bt)}}function Jh({type:n,props:t},e){return e==="svg"&&n==="foreignObject"||e==="mathml"&&n==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:e}function pr({effect:n,job:t},e){e?(n.flags|=32,t.flags|=4):(n.flags&=-33,t.flags&=-5)}function Tw(n,t){return(!n||n&&!n.pendingBranch)&&t&&!t.persisted}function h0(n,t,e=!1){const i=n.children,s=t.children;if(Vt(i)&&Vt(s))for(let r=0;r<i.length;r++){const o=i[r];let a=s[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[r]=Rs(s[r]),a.el=o.el),!e&&a.patchFlag!==-2&&h0(o,a)),a.type===Hu&&(a.el=o.el),a.type===Gs&&!a.el&&(a.el=o.el)}}function kw(n){const t=n.slice(),e=[0];let i,s,r,o,a;const l=n.length;for(i=0;i<l;i++){const c=n[i];if(c!==0){if(s=e[e.length-1],n[s]<c){t[i]=s,e.push(i);continue}for(r=0,o=e.length-1;r<o;)a=r+o>>1,n[e[a]]<c?r=a+1:o=a;c<n[e[r]]&&(r>0&&(t[i]=e[r-1]),e[r]=i)}}for(r=e.length,o=e[r-1];r-- >0;)e[r]=o,o=t[o];return e}function d0(n){const t=n.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:d0(t)}function Ug(n){if(n)for(let t=0;t<n.length;t++)n[t].flags|=8}const Cw=Symbol.for("v-scx"),Mw=()=>Ic(Cw);function td(n,t,e){return f0(n,t,e)}function f0(n,t,e=me){const{immediate:i,deep:s,flush:r,once:o}=e,a=Sn({},e),l=t&&i||!t&&r!=="post";let c;if(Ha){if(r==="sync"){const g=Mw();c=g.__watcherHandles||(g.__watcherHandles=[])}else if(!l){const g=()=>{};return g.stop=Bi,g.resume=Bi,g.pause=Bi,g}}const u=Pn;a.call=(g,_,m)=>zi(g,u,_,m);let h=!1;r==="post"?a.scheduler=g=>{Yn(g,u&&u.suspense)}:r!=="sync"&&(h=!0,a.scheduler=(g,_)=>{_?g():qf(g)}),a.augmentJob=g=>{t&&(g.flags|=4),h&&(g.flags|=2,u&&(g.id=u.uid,g.i=u))};const f=z1(n,t,a);return Ha&&(c?c.push(f):l&&f()),f}function Aw(n,t,e){const i=this.proxy,s=Ze(n)?n.includes(".")?p0(i,n):()=>i[n]:n.bind(i,i);let r;Ut(t)?r=t:(r=t.handler,e=t);const o=Tl(this),a=f0(s,r.bind(i),e);return o(),a}function p0(n,t){const e=t.split(".");return()=>{let i=n;for(let s=0;s<e.length&&i;s++)i=i[e[s]];return i}}const Ow=(n,t)=>t==="modelValue"||t==="model-value"?n.modelModifiers:n[`${t}Modifiers`]||n[`${Ks(t)}Modifiers`]||n[`${Yr(t)}Modifiers`];function Pw(n,t,...e){if(n.isUnmounted)return;const i=n.vnode.props||me;let s=e;const r=t.startsWith("update:"),o=r&&Ow(i,t.slice(7));o&&(o.trim&&(s=e.map(u=>Ze(u)?u.trim():u)),o.number&&(s=e.map(Uc)));let a,l=i[a=Kh(t)]||i[a=Kh(Ks(t))];!l&&r&&(l=i[a=Kh(Yr(t))]),l&&zi(l,n,6,s);const c=i[a+"Once"];if(c){if(!n.emitted)n.emitted={};else if(n.emitted[a])return;n.emitted[a]=!0,zi(c,n,6,s)}}function g0(n,t,e=!1){const i=t.emitsCache,s=i.get(n);if(s!==void 0)return s;const r=n.emits;let o={},a=!1;if(!Ut(n)){const l=c=>{const u=g0(c,t,!0);u&&(a=!0,Sn(o,u))};!e&&t.mixins.length&&t.mixins.forEach(l),n.extends&&l(n.extends),n.mixins&&n.mixins.forEach(l)}return!r&&!a?(Te(n)&&i.set(n,null),null):(Vt(r)?r.forEach(l=>o[l]=null):Sn(o,r),Te(n)&&i.set(n,o),o)}function Uu(n,t){return!n||!Fu(t)?!1:(t=t.slice(2).replace(/Once$/,""),le(n,t[0].toLowerCase()+t.slice(1))||le(n,Yr(t))||le(n,t))}function Hg(n){const{type:t,vnode:e,proxy:i,withProxy:s,propsOptions:[r],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:h,data:f,setupState:g,ctx:_,inheritAttrs:m}=n,b=Xc(n);let x,T;try{if(e.shapeFlag&4){const M=s||i,w=M;x=Fi(c.call(w,M,u,h,g,f,_)),T=a}else{const M=t;x=Fi(M.length>1?M(h,{attrs:a,slots:o,emit:l}):M(h,null)),T=t.props?a:Dw(a)}}catch(M){Ia.length=0,zu(M,n,1),x=ti(Gs)}let O=x;if(T&&m!==!1){const M=Object.keys(T),{shapeFlag:w}=O;M.length&&w&7&&(r&&M.some(Df)&&(T=Ew(T,r)),O=Eo(O,T,!1,!0))}return e.dirs&&(O=Eo(O,null,!1,!0),O.dirs=O.dirs?O.dirs.concat(e.dirs):e.dirs),e.transition&&$f(O,e.transition),x=O,Xc(b),x}const Dw=n=>{let t;for(const e in n)(e==="class"||e==="style"||Fu(e))&&((t||(t={}))[e]=n[e]);return t},Ew=(n,t)=>{const e={};for(const i in n)(!Df(i)||!(i.slice(9)in t))&&(e[i]=n[i]);return e};function Iw(n,t,e){const{props:i,children:s,component:r}=n,{props:o,children:a,patchFlag:l}=t,c=r.emitsOptions;if(t.dirs||t.transition)return!0;if(e&&l>=0){if(l&1024)return!0;if(l&16)return i?Kg(i,o,c):!!o;if(l&8){const u=t.dynamicProps;for(let h=0;h<u.length;h++){const f=u[h];if(o[f]!==i[f]&&!Uu(c,f))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:i===o?!1:i?o?Kg(i,o,c):!0:!!o;return!1}function Kg(n,t,e){const i=Object.keys(t);if(i.length!==Object.keys(n).length)return!0;for(let s=0;s<i.length;s++){const r=i[s];if(t[r]!==n[r]&&!Uu(e,r))return!0}return!1}function Rw({vnode:n,parent:t},e){for(;t;){const i=t.subTree;if(i.suspense&&i.suspense.activeBranch===n&&(i.el=n.el),i===n)(n=t.vnode).el=e,t=t.parent;else break}}const m0=n=>n.__isSuspense;function Nw(n,t){t&&t.pendingBranch?Vt(n)?t.effects.push(...n):t.effects.push(n):U1(n)}const rn=Symbol.for("v-fgt"),Hu=Symbol.for("v-txt"),Gs=Symbol.for("v-cmt"),ed=Symbol.for("v-stc"),Ia=[];let Qn=null;function Wt(n=!1){Ia.push(Qn=n?null:[])}function Fw(){Ia.pop(),Qn=Ia[Ia.length-1]||null}let Ua=1;function Yg(n,t=!1){Ua+=n,n<0&&Qn&&t&&(Qn.hasOnce=!0)}function _0(n){return n.dynamicChildren=Ua>0?Qn||bo:null,Fw(),Ua>0&&Qn&&Qn.push(n),n}function qt(n,t,e,i,s,r){return _0(ut(n,t,e,i,s,r,!0))}function Lw(n,t,e,i,s){return _0(ti(n,t,e,i,s,!0))}function y0(n){return n?n.__v_isVNode===!0:!1}function fa(n,t){return n.type===t.type&&n.key===t.key}const b0=({key:n})=>n??null,Rc=({ref:n,ref_key:t,ref_for:e})=>(typeof n=="number"&&(n=""+n),n!=null?Ze(n)||xn(n)||Ut(n)?{i:ci,r:n,k:t,f:!!e}:n:null);function ut(n,t=null,e=null,i=0,s=null,r=n===rn?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:n,props:t,key:t&&b0(t),ref:t&&Rc(t),scopeId:Gy,slotScopeIds:null,children:e,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:i,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:ci};return a?(Kf(l,e),r&128&&n.normalize(l)):e&&(l.shapeFlag|=Ze(e)?8:16),Ua>0&&!o&&Qn&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&Qn.push(l),l}const ti=Vw;function Vw(n,t=null,e=null,i=0,s=null,r=!1){if((!n||n===ow)&&(n=Gs),y0(n)){const a=Eo(n,t,!0);return e&&Kf(a,e),Ua>0&&!r&&Qn&&(a.shapeFlag&6?Qn[Qn.indexOf(n)]=a:Qn.push(a)),a.patchFlag=-2,a}if(Xw(n)&&(n=n.__vccOpts),t){t=Bw(t);let{class:a,style:l}=t;a&&!Ze(a)&&(t.class=xi(a)),Te(l)&&(zf(l)&&!Vt(l)&&(l=Sn({},l)),t.style=Rf(l))}const o=Ze(n)?1:m0(n)?128:Y1(n)?64:Te(n)?4:Ut(n)?2:0;return ut(n,t,e,i,s,o,r,!0)}function Bw(n){return n?zf(n)||r0(n)?Sn({},n):n:null}function Eo(n,t,e=!1,i=!1){const{props:s,ref:r,patchFlag:o,children:a,transition:l}=n,c=t?jw(s||{},t):s,u={__v_isVNode:!0,__v_skip:!0,type:n.type,props:c,key:c&&b0(c),ref:t&&t.ref?e&&r?Vt(r)?r.concat(Rc(t)):[r,Rc(t)]:Rc(t):r,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:a,target:n.target,targetStart:n.targetStart,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:t&&n.type!==rn?o===-1?16:o|16:o,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:l,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&Eo(n.ssContent),ssFallback:n.ssFallback&&Eo(n.ssFallback),placeholder:n.placeholder,el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce};return l&&i&&$f(u,l.clone(u)),u}function Ww(n=" ",t=0){return ti(Hu,null,n,t)}function Fn(n="",t=!1){return t?(Wt(),Lw(Gs,null,n)):ti(Gs,null,n)}function Fi(n){return n==null||typeof n=="boolean"?ti(Gs):Vt(n)?ti(rn,null,n.slice()):y0(n)?Rs(n):ti(Hu,null,String(n))}function Rs(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:Eo(n)}function Kf(n,t){let e=0;const{shapeFlag:i}=n;if(t==null)t=null;else if(Vt(t))e=16;else if(typeof t=="object")if(i&65){const s=t.default;s&&(s._c&&(s._d=!1),Kf(n,s()),s._c&&(s._d=!0));return}else{e=32;const s=t._;!s&&!r0(t)?t._ctx=ci:s===3&&ci&&(ci.slots._===1?t._=1:(t._=2,n.patchFlag|=1024))}else Ut(t)?(t={default:t,_ctx:ci},e=32):(t=String(t),i&64?(e=16,t=[Ww(t)]):e=8);n.children=t,n.shapeFlag|=e}function jw(...n){const t={};for(let e=0;e<n.length;e++){const i=n[e];for(const s in i)if(s==="class")t.class!==i.class&&(t.class=xi([t.class,i.class]));else if(s==="style")t.style=Rf([t.style,i.style]);else if(Fu(s)){const r=t[s],o=i[s];o&&r!==o&&!(Vt(r)&&r.includes(o))&&(t[s]=r?[].concat(r,o):o)}else s!==""&&(t[s]=i[s])}return t}function Di(n,t,e,i=null){zi(n,t,7,[e,i])}const zw=n0();let qw=0;function $w(n,t,e){const i=n.type,s=(t?t.appContext:n.appContext)||zw,r={uid:qw++,vnode:n,type:i,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new f1(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:a0(i,s),emitsOptions:g0(i,s),emit:null,emitted:null,propsDefaults:me,inheritAttrs:i.inheritAttrs,ctx:me,data:me,props:me,attrs:me,slots:me,refs:me,setupState:me,setupContext:null,suspense:e,suspenseId:e?e.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=Pw.bind(null,r),n.ce&&n.ce(r),r}let Pn=null;const Uw=()=>Pn||ci;let Qc,Wd;{const n=Bu(),t=(e,i)=>{let s;return(s=n[e])||(s=n[e]=[]),s.push(i),r=>{s.length>1?s.forEach(o=>o(r)):s[0](r)}};Qc=t("__VUE_INSTANCE_SETTERS__",e=>Pn=e),Wd=t("__VUE_SSR_SETTERS__",e=>Ha=e)}const Tl=n=>{const t=Pn;return Qc(n),n.scope.on(),()=>{n.scope.off(),Qc(t)}},Gg=()=>{Pn&&Pn.scope.off(),Qc(null)};function v0(n){return n.vnode.shapeFlag&4}let Ha=!1;function Hw(n,t=!1,e=!1){t&&Wd(t);const{props:i,children:s}=n.vnode,r=v0(n);mw(n,i,r,t),vw(n,s,e||t);const o=r?Kw(n,t):void 0;return t&&Wd(!1),o}function Kw(n,t){const e=n.type;n.accessCache=Object.create(null),n.proxy=new Proxy(n.ctx,aw);const{setup:i}=e;if(i){fs();const s=n.setupContext=i.length>1?Gw(n):null,r=Tl(n),o=wl(i,n,0,[n.props,s]),a=wy(o);if(ps(),r(),(a||n.sp)&&!Da(n)&&Xy(n),a){if(o.then(Gg,Gg),t)return o.then(l=>{Xg(n,l)}).catch(l=>{zu(l,n,0)});n.asyncDep=o}else Xg(n,o)}else x0(n)}function Xg(n,t,e){Ut(t)?n.type.__ssrInlineRender?n.ssrRender=t:n.render=t:Te(t)&&(n.setupState=$y(t)),x0(n)}function x0(n,t,e){const i=n.type;n.render||(n.render=i.render||Bi);{const s=Tl(n);fs();try{lw(n)}finally{ps(),s()}}}const Yw={get(n,t){return yn(n,"get",""),n[t]}};function Gw(n){const t=e=>{n.exposed=e||{}};return{attrs:new Proxy(n.attrs,Yw),slots:n.slots,emit:n.emit,expose:t}}function Ku(n){return n.exposed?n.exposeProxy||(n.exposeProxy=new Proxy($y(R1(n.exposed)),{get(t,e){if(e in t)return t[e];if(e in Ea)return Ea[e](n)},has(t,e){return e in t||e in Ea}})):n.proxy}function Xw(n){return Ut(n)&&"__vccOpts"in n}const ls=(n,t)=>W1(n,t,Ha),Zw="3.5.18";/**
* @vue/runtime-dom v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let jd;const Zg=typeof window<"u"&&window.trustedTypes;if(Zg)try{jd=Zg.createPolicy("vue",{createHTML:n=>n})}catch{}const w0=jd?n=>jd.createHTML(n):n=>n,Qw="http://www.w3.org/2000/svg",Jw="http://www.w3.org/1998/Math/MathML",ts=typeof document<"u"?document:null,Qg=ts&&ts.createElement("template"),tS={insert:(n,t,e)=>{t.insertBefore(n,e||null)},remove:n=>{const t=n.parentNode;t&&t.removeChild(n)},createElement:(n,t,e,i)=>{const s=t==="svg"?ts.createElementNS(Qw,n):t==="mathml"?ts.createElementNS(Jw,n):e?ts.createElement(n,{is:e}):ts.createElement(n);return n==="select"&&i&&i.multiple!=null&&s.setAttribute("multiple",i.multiple),s},createText:n=>ts.createTextNode(n),createComment:n=>ts.createComment(n),setText:(n,t)=>{n.nodeValue=t},setElementText:(n,t)=>{n.textContent=t},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>ts.querySelector(n),setScopeId(n,t){n.setAttribute(t,"")},insertStaticContent(n,t,e,i,s,r){const o=e?e.previousSibling:t.lastChild;if(s&&(s===r||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),e),!(s===r||!(s=s.nextSibling)););else{Qg.innerHTML=w0(i==="svg"?`<svg>${n}</svg>`:i==="mathml"?`<math>${n}</math>`:n);const a=Qg.content;if(i==="svg"||i==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,e)}return[o?o.nextSibling:t.firstChild,e?e.previousSibling:t.lastChild]}},eS=Symbol("_vtc");function nS(n,t,e){const i=n[eS];i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?n.removeAttribute("class"):e?n.setAttribute("class",t):n.className=t}const Jg=Symbol("_vod"),iS=Symbol("_vsh"),sS=Symbol(""),rS=/(^|;)\s*display\s*:/;function oS(n,t,e){const i=n.style,s=Ze(e);let r=!1;if(e&&!s){if(t)if(Ze(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();e[a]==null&&Nc(i,a,"")}else for(const o in t)e[o]==null&&Nc(i,o,"");for(const o in e)o==="display"&&(r=!0),Nc(i,o,e[o])}else if(s){if(t!==e){const o=i[sS];o&&(e+=";"+o),i.cssText=e,r=rS.test(e)}}else t&&n.removeAttribute("style");Jg in n&&(n[Jg]=r?i.display:"",n[iS]&&(i.display="none"))}const tm=/\s*!important$/;function Nc(n,t,e){if(Vt(e))e.forEach(i=>Nc(n,t,i));else if(e==null&&(e=""),t.startsWith("--"))n.setProperty(t,e);else{const i=aS(n,t);tm.test(e)?n.setProperty(Yr(i),e.replace(tm,""),"important"):n[i]=e}}const em=["Webkit","Moz","ms"],nd={};function aS(n,t){const e=nd[t];if(e)return e;let i=Ks(t);if(i!=="filter"&&i in n)return nd[t]=i;i=ky(i);for(let s=0;s<em.length;s++){const r=em[s]+i;if(r in n)return nd[t]=r}return t}const nm="http://www.w3.org/1999/xlink";function im(n,t,e,i,s,r=u1(t)){i&&t.startsWith("xlink:")?e==null?n.removeAttributeNS(nm,t.slice(6,t.length)):n.setAttributeNS(nm,t,e):e==null||r&&!Cy(e)?n.removeAttribute(t):n.setAttribute(t,r?"":ji(e)?String(e):e)}function sm(n,t,e,i,s){if(t==="innerHTML"||t==="textContent"){e!=null&&(n[t]=t==="innerHTML"?w0(e):e);return}const r=n.tagName;if(t==="value"&&r!=="PROGRESS"&&!r.includes("-")){const a=r==="OPTION"?n.getAttribute("value")||"":n.value,l=e==null?n.type==="checkbox"?"on":"":String(e);(a!==l||!("_value"in n))&&(n.value=l),e==null&&n.removeAttribute(t),n._value=e;return}let o=!1;if(e===""||e==null){const a=typeof n[t];a==="boolean"?e=Cy(e):e==null&&a==="string"?(e="",o=!0):a==="number"&&(e=0,o=!0)}try{n[t]=e}catch{}o&&n.removeAttribute(s||t)}function kr(n,t,e,i){n.addEventListener(t,e,i)}function lS(n,t,e,i){n.removeEventListener(t,e,i)}const rm=Symbol("_vei");function cS(n,t,e,i,s=null){const r=n[rm]||(n[rm]={}),o=r[t];if(i&&o)o.value=i;else{const[a,l]=uS(t);if(i){const c=r[t]=fS(i,s);kr(n,a,c,l)}else o&&(lS(n,a,o,l),r[t]=void 0)}}const om=/(?:Once|Passive|Capture)$/;function uS(n){let t;if(om.test(n)){t={};let i;for(;i=n.match(om);)n=n.slice(0,n.length-i[0].length),t[i[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):Yr(n.slice(2)),t]}let id=0;const hS=Promise.resolve(),dS=()=>id||(hS.then(()=>id=0),id=Date.now());function fS(n,t){const e=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=e.attached)return;zi(pS(i,e.value),t,5,[i])};return e.value=n,e.attached=dS(),e}function pS(n,t){if(Vt(t)){const e=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{e.call(n),n._stopped=!0},t.map(i=>s=>!s._stopped&&i&&i(s))}else return t}const am=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)>96&&n.charCodeAt(2)<123,gS=(n,t,e,i,s,r)=>{const o=s==="svg";t==="class"?nS(n,i,o):t==="style"?oS(n,e,i):Fu(t)?Df(t)||cS(n,t,e,i,r):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):mS(n,t,i,o))?(sm(n,t,i),!n.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&im(n,t,i,o,r,t!=="value")):n._isVueCE&&(/[A-Z]/.test(t)||!Ze(i))?sm(n,Ks(t),i,r,t):(t==="true-value"?n._trueValue=i:t==="false-value"&&(n._falseValue=i),im(n,t,i,o))};function mS(n,t,e,i){if(i)return!!(t==="innerHTML"||t==="textContent"||t in n&&am(t)&&Ut(e));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&n.tagName==="INPUT"||t==="type"&&n.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=n.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return am(t)&&Ze(e)?!1:t in n}const Jc=n=>{const t=n.props["onUpdate:modelValue"]||!1;return Vt(t)?e=>Ec(t,e):t};function _S(n){n.target.composing=!0}function lm(n){const t=n.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const ko=Symbol("_assign"),zd={created(n,{modifiers:{lazy:t,trim:e,number:i}},s){n[ko]=Jc(s);const r=i||s.props&&s.props.type==="number";kr(n,t?"change":"input",o=>{if(o.target.composing)return;let a=n.value;e&&(a=a.trim()),r&&(a=Uc(a)),n[ko](a)}),e&&kr(n,"change",()=>{n.value=n.value.trim()}),t||(kr(n,"compositionstart",_S),kr(n,"compositionend",lm),kr(n,"change",lm))},mounted(n,{value:t}){n.value=t??""},beforeUpdate(n,{value:t,oldValue:e,modifiers:{lazy:i,trim:s,number:r}},o){if(n[ko]=Jc(o),n.composing)return;const a=(r||n.type==="number")&&!/^0\d/.test(n.value)?Uc(n.value):n.value,l=t??"";a!==l&&(document.activeElement===n&&n.type!=="range"&&(i&&t===e||s&&n.value.trim()===l)||(n.value=l))}},qd={deep:!0,created(n,{value:t,modifiers:{number:e}},i){const s=Lu(t);kr(n,"change",()=>{const r=Array.prototype.filter.call(n.options,o=>o.selected).map(o=>e?Uc(tu(o)):tu(o));n[ko](n.multiple?s?new Set(r):r:r[0]),n._assigning=!0,Gc(()=>{n._assigning=!1})}),n[ko]=Jc(i)},mounted(n,{value:t}){cm(n,t)},beforeUpdate(n,t,e){n[ko]=Jc(e)},updated(n,{value:t}){n._assigning||cm(n,t)}};function cm(n,t){const e=n.multiple,i=Vt(t);if(!(e&&!i&&!Lu(t))){for(let s=0,r=n.options.length;s<r;s++){const o=n.options[s],a=tu(o);if(e)if(i){const l=typeof a;l==="string"||l==="number"?o.selected=t.some(c=>String(c)===String(a)):o.selected=d1(t,a)>-1}else o.selected=t.has(a);else if(Wu(tu(o),t)){n.selectedIndex!==s&&(n.selectedIndex=s);return}}!e&&n.selectedIndex!==-1&&(n.selectedIndex=-1)}}function tu(n){return"_value"in n?n._value:n.value}const yS=["ctrl","shift","alt","meta"],bS={stop:n=>n.stopPropagation(),prevent:n=>n.preventDefault(),self:n=>n.target!==n.currentTarget,ctrl:n=>!n.ctrlKey,shift:n=>!n.shiftKey,alt:n=>!n.altKey,meta:n=>!n.metaKey,left:n=>"button"in n&&n.button!==0,middle:n=>"button"in n&&n.button!==1,right:n=>"button"in n&&n.button!==2,exact:(n,t)=>yS.some(e=>n[`${e}Key`]&&!t.includes(e))},vS=(n,t)=>{const e=n._withMods||(n._withMods={}),i=t.join(".");return e[i]||(e[i]=(s,...r)=>{for(let o=0;o<t.length;o++){const a=bS[t[o]];if(a&&a(s,t))return}return n(s,...r)})},xS=Sn({patchProp:gS},tS);let um;function wS(){return um||(um=ww(xS))}const SS=(...n)=>{const t=wS().createApp(...n),{mount:e}=t;return t.mount=i=>{const s=kS(i);if(!s)return;const r=t._component;!Ut(r)&&!r.render&&!r.template&&(r.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=e(s,!1,TS(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},t};function TS(n){if(n instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&n instanceof MathMLElement)return"mathml"}function kS(n){return Ze(n)?document.querySelector(n):n}function es(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function S0(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n,n.__proto__=t}/*!
 * GSAP 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var ei={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Io={duration:.5,overwrite:!1,delay:0},Yf,un,Ae,ui=1e8,ge=1/ui,$d=Math.PI*2,CS=$d/4,MS=0,T0=Math.sqrt,AS=Math.cos,OS=Math.sin,ln=function(t){return typeof t=="string"},Fe=function(t){return typeof t=="function"},gs=function(t){return typeof t=="number"},Gf=function(t){return typeof t>"u"},qi=function(t){return typeof t=="object"},Bn=function(t){return t!==!1},Xf=function(){return typeof window<"u"},dc=function(t){return Fe(t)||ln(t)},k0=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},wn=Array.isArray,Ud=/(?:-?\.?\d|\.)+/gi,C0=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,go=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,sd=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,M0=/[+-]=-?[.\d]+/,A0=/[^,'"\[\]\s]+/gi,PS=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Ee,Ni,Hd,Zf,ni={},eu={},O0,P0=function(t){return(eu=Ro(t,ni))&&$n},Qf=function(t,e){return console.warn("Invalid property",t,"set to",e,"Missing plugin? gsap.registerPlugin()")},Ka=function(t,e){return!e&&console.warn(t)},D0=function(t,e){return t&&(ni[t]=e)&&eu&&(eu[t]=e)||ni},Ya=function(){return 0},DS={suppressEvents:!0,isStart:!0,kill:!1},Fc={suppressEvents:!0,kill:!1},ES={suppressEvents:!0},Jf={},qs=[],Kd={},E0,Xn={},rd={},hm=30,Lc=[],tp="",ep=function(t){var e=t[0],i,s;if(qi(e)||Fe(e)||(t=[t]),!(i=(e._gsap||{}).harness)){for(s=Lc.length;s--&&!Lc[s].targetTest(e););i=Lc[s]}for(s=t.length;s--;)t[s]&&(t[s]._gsap||(t[s]._gsap=new nb(t[s],i)))||t.splice(s,1);return t},Pr=function(t){return t._gsap||ep(hi(t))[0]._gsap},I0=function(t,e,i){return(i=t[e])&&Fe(i)?t[e]():Gf(i)&&t.getAttribute&&t.getAttribute(e)||i},Wn=function(t,e){return(t=t.split(",")).forEach(e)||t},qe=function(t){return Math.round(t*1e5)/1e5||0},Ge=function(t){return Math.round(t*1e7)/1e7||0},Co=function(t,e){var i=e.charAt(0),s=parseFloat(e.substr(2));return t=parseFloat(t),i==="+"?t+s:i==="-"?t-s:i==="*"?t*s:t/s},IS=function(t,e){for(var i=e.length,s=0;t.indexOf(e[s])<0&&++s<i;);return s<i},nu=function(){var t=qs.length,e=qs.slice(0),i,s;for(Kd={},qs.length=0,i=0;i<t;i++)s=e[i],s&&s._lazy&&(s.render(s._lazy[0],s._lazy[1],!0)._lazy=0)},np=function(t){return!!(t._initted||t._startAt||t.add)},R0=function(t,e,i,s){qs.length&&!un&&nu(),t.render(e,i,!!(un&&e<0&&np(t))),qs.length&&!un&&nu()},N0=function(t){var e=parseFloat(t);return(e||e===0)&&(t+"").match(A0).length<2?e:ln(t)?t.trim():t},F0=function(t){return t},ii=function(t,e){for(var i in e)i in t||(t[i]=e[i]);return t},RS=function(t){return function(e,i){for(var s in i)s in e||s==="duration"&&t||s==="ease"||(e[s]=i[s])}},Ro=function(t,e){for(var i in e)t[i]=e[i];return t},dm=function n(t,e){for(var i in e)i!=="__proto__"&&i!=="constructor"&&i!=="prototype"&&(t[i]=qi(e[i])?n(t[i]||(t[i]={}),e[i]):e[i]);return t},iu=function(t,e){var i={},s;for(s in t)s in e||(i[s]=t[s]);return i},Ra=function(t){var e=t.parent||Ee,i=t.keyframes?RS(wn(t.keyframes)):ii;if(Bn(t.inherit))for(;e;)i(t,e.vars.defaults),e=e.parent||e._dp;return t},NS=function(t,e){for(var i=t.length,s=i===e.length;s&&i--&&t[i]===e[i];);return i<0},L0=function(t,e,i,s,r){var o=t[s],a;if(r)for(a=e[r];o&&o[r]>a;)o=o._prev;return o?(e._next=o._next,o._next=e):(e._next=t[i],t[i]=e),e._next?e._next._prev=e:t[s]=e,e._prev=o,e.parent=e._dp=t,e},Yu=function(t,e,i,s){i===void 0&&(i="_first"),s===void 0&&(s="_last");var r=e._prev,o=e._next;r?r._next=o:t[i]===e&&(t[i]=o),o?o._prev=r:t[s]===e&&(t[s]=r),e._next=e._prev=e.parent=null},Xs=function(t,e){t.parent&&(!e||t.parent.autoRemoveChildren)&&t.parent.remove&&t.parent.remove(t),t._act=0},Dr=function(t,e){if(t&&(!e||e._end>t._dur||e._start<0))for(var i=t;i;)i._dirty=1,i=i.parent;return t},FS=function(t){for(var e=t.parent;e&&e.parent;)e._dirty=1,e.totalDuration(),e=e.parent;return t},Yd=function(t,e,i,s){return t._startAt&&(un?t._startAt.revert(Fc):t.vars.immediateRender&&!t.vars.autoRevert||t._startAt.render(e,!0,s))},LS=function n(t){return!t||t._ts&&n(t.parent)},fm=function(t){return t._repeat?No(t._tTime,t=t.duration()+t._rDelay)*t:0},No=function(t,e){var i=Math.floor(t=Ge(t/e));return t&&i===t?i-1:i},su=function(t,e){return(t-e._start)*e._ts+(e._ts>=0?0:e._dirty?e.totalDuration():e._tDur)},Gu=function(t){return t._end=Ge(t._start+(t._tDur/Math.abs(t._ts||t._rts||ge)||0))},Xu=function(t,e){var i=t._dp;return i&&i.smoothChildTiming&&t._ts&&(t._start=Ge(i._time-(t._ts>0?e/t._ts:((t._dirty?t.totalDuration():t._tDur)-e)/-t._ts)),Gu(t),i._dirty||Dr(i,t)),t},V0=function(t,e){var i;if((e._time||!e._dur&&e._initted||e._start<t._time&&(e._dur||!e.add))&&(i=su(t.rawTime(),e),(!e._dur||kl(0,e.totalDuration(),i)-e._tTime>ge)&&e.render(i,!0)),Dr(t,e)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(i=t;i._dp;)i.rawTime()>=0&&i.totalTime(i._tTime),i=i._dp;t._zTime=-ge}},Li=function(t,e,i,s){return e.parent&&Xs(e),e._start=Ge((gs(i)?i:i||t!==Ee?li(t,i,e):t._time)+e._delay),e._end=Ge(e._start+(e.totalDuration()/Math.abs(e.timeScale())||0)),L0(t,e,"_first","_last",t._sort?"_start":0),Gd(e)||(t._recent=e),s||V0(t,e),t._ts<0&&Xu(t,t._tTime),t},B0=function(t,e){return(ni.ScrollTrigger||Qf("scrollTrigger",e))&&ni.ScrollTrigger.create(e,t)},W0=function(t,e,i,s,r){if(sp(t,e,r),!t._initted)return 1;if(!i&&t._pt&&!un&&(t._dur&&t.vars.lazy!==!1||!t._dur&&t.vars.lazy)&&E0!==Zn.frame)return qs.push(t),t._lazy=[r,s],1},VS=function n(t){var e=t.parent;return e&&e._ts&&e._initted&&!e._lock&&(e.rawTime()<0||n(e))},Gd=function(t){var e=t.data;return e==="isFromStart"||e==="isStart"},BS=function(t,e,i,s){var r=t.ratio,o=e<0||!e&&(!t._start&&VS(t)&&!(!t._initted&&Gd(t))||(t._ts<0||t._dp._ts<0)&&!Gd(t))?0:1,a=t._rDelay,l=0,c,u,h;if(a&&t._repeat&&(l=kl(0,t._tDur,e),u=No(l,a),t._yoyo&&u&1&&(o=1-o),u!==No(t._tTime,a)&&(r=1-o,t.vars.repeatRefresh&&t._initted&&t.invalidate())),o!==r||un||s||t._zTime===ge||!e&&t._zTime){if(!t._initted&&W0(t,e,s,i,l))return;for(h=t._zTime,t._zTime=e||(i?ge:0),i||(i=e&&!h),t.ratio=o,t._from&&(o=1-o),t._time=0,t._tTime=l,c=t._pt;c;)c.r(o,c.d),c=c._next;e<0&&Yd(t,e,i,!0),t._onUpdate&&!i&&Jn(t,"onUpdate"),l&&t._repeat&&!i&&t.parent&&Jn(t,"onRepeat"),(e>=t._tDur||e<0)&&t.ratio===o&&(o&&Xs(t,1),!i&&!un&&(Jn(t,o?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=e)},WS=function(t,e,i){var s;if(i>e)for(s=t._first;s&&s._start<=i;){if(s.data==="isPause"&&s._start>e)return s;s=s._next}else for(s=t._last;s&&s._start>=i;){if(s.data==="isPause"&&s._start<e)return s;s=s._prev}},Fo=function(t,e,i,s){var r=t._repeat,o=Ge(e)||0,a=t._tTime/t._tDur;return a&&!s&&(t._time*=o/t._dur),t._dur=o,t._tDur=r?r<0?1e10:Ge(o*(r+1)+t._rDelay*r):o,a>0&&!s&&Xu(t,t._tTime=t._tDur*a),t.parent&&Gu(t),i||Dr(t.parent,t),t},pm=function(t){return t instanceof Dn?Dr(t):Fo(t,t._dur)},jS={_start:0,endTime:Ya,totalDuration:Ya},li=function n(t,e,i){var s=t.labels,r=t._recent||jS,o=t.duration()>=ui?r.endTime(!1):t._dur,a,l,c;return ln(e)&&(isNaN(e)||e in s)?(l=e.charAt(0),c=e.substr(-1)==="%",a=e.indexOf("="),l==="<"||l===">"?(a>=0&&(e=e.replace(/=/,"")),(l==="<"?r._start:r.endTime(r._repeat>=0))+(parseFloat(e.substr(1))||0)*(c?(a<0?r:i).totalDuration()/100:1)):a<0?(e in s||(s[e]=o),s[e]):(l=parseFloat(e.charAt(a-1)+e.substr(a+1)),c&&i&&(l=l/100*(wn(i)?i[0]:i).totalDuration()),a>1?n(t,e.substr(0,a-1),i)+l:o+l)):e==null?o:+e},Na=function(t,e,i){var s=gs(e[1]),r=(s?2:1)+(t<2?0:1),o=e[r],a,l;if(s&&(o.duration=e[1]),o.parent=i,t){for(a=o,l=i;l&&!("immediateRender"in a);)a=l.vars.defaults||{},l=Bn(l.vars.inherit)&&l.parent;o.immediateRender=Bn(a.immediateRender),t<2?o.runBackwards=1:o.startAt=e[r-1]}return new Ye(e[0],o,e[r+1])},nr=function(t,e){return t||t===0?e(t):e},kl=function(t,e,i){return i<t?t:i>e?e:i},bn=function(t,e){return!ln(t)||!(e=PS.exec(t))?"":e[1]},zS=function(t,e,i){return nr(i,function(s){return kl(t,e,s)})},Xd=[].slice,j0=function(t,e){return t&&qi(t)&&"length"in t&&(!e&&!t.length||t.length-1 in t&&qi(t[0]))&&!t.nodeType&&t!==Ni},qS=function(t,e,i){return i===void 0&&(i=[]),t.forEach(function(s){var r;return ln(s)&&!e||j0(s,1)?(r=i).push.apply(r,hi(s)):i.push(s)})||i},hi=function(t,e,i){return Ae&&!e&&Ae.selector?Ae.selector(t):ln(t)&&!i&&(Hd||!Lo())?Xd.call((e||Zf).querySelectorAll(t),0):wn(t)?qS(t,i):j0(t)?Xd.call(t,0):t?[t]:[]},Zd=function(t){return t=hi(t)[0]||Ka("Invalid scope")||{},function(e){var i=t.current||t.nativeElement||t;return hi(e,i.querySelectorAll?i:i===t?Ka("Invalid scope")||Zf.createElement("div"):t)}},z0=function(t){return t.sort(function(){return .5-Math.random()})},q0=function(t){if(Fe(t))return t;var e=qi(t)?t:{each:t},i=Er(e.ease),s=e.from||0,r=parseFloat(e.base)||0,o={},a=s>0&&s<1,l=isNaN(s)||a,c=e.axis,u=s,h=s;return ln(s)?u=h={center:.5,edges:.5,end:1}[s]||0:!a&&l&&(u=s[0],h=s[1]),function(f,g,_){var m=(_||e).length,b=o[m],x,T,O,M,w,k,P,A,I;if(!b){if(I=e.grid==="auto"?0:(e.grid||[1,ui])[1],!I){for(P=-ui;P<(P=_[I++].getBoundingClientRect().left)&&I<m;);I<m&&I--}for(b=o[m]=[],x=l?Math.min(I,m)*u-.5:s%I,T=I===ui?0:l?m*h/I-.5:s/I|0,P=0,A=ui,k=0;k<m;k++)O=k%I-x,M=T-(k/I|0),b[k]=w=c?Math.abs(c==="y"?M:O):T0(O*O+M*M),w>P&&(P=w),w<A&&(A=w);s==="random"&&z0(b),b.max=P-A,b.min=A,b.v=m=(parseFloat(e.amount)||parseFloat(e.each)*(I>m?m-1:c?c==="y"?m/I:I:Math.max(I,m/I))||0)*(s==="edges"?-1:1),b.b=m<0?r-m:r,b.u=bn(e.amount||e.each)||0,i=i&&m<0?J0(i):i}return m=(b[f]-b.min)/b.max||0,Ge(b.b+(i?i(m):m)*b.v)+b.u}},Qd=function(t){var e=Math.pow(10,((t+"").split(".")[1]||"").length);return function(i){var s=Ge(Math.round(parseFloat(i)/t)*t*e);return(s-s%1)/e+(gs(i)?0:bn(i))}},$0=function(t,e){var i=wn(t),s,r;return!i&&qi(t)&&(s=i=t.radius||ui,t.values?(t=hi(t.values),(r=!gs(t[0]))&&(s*=s)):t=Qd(t.increment)),nr(e,i?Fe(t)?function(o){return r=t(o),Math.abs(r-o)<=s?r:o}:function(o){for(var a=parseFloat(r?o.x:o),l=parseFloat(r?o.y:0),c=ui,u=0,h=t.length,f,g;h--;)r?(f=t[h].x-a,g=t[h].y-l,f=f*f+g*g):f=Math.abs(t[h]-a),f<c&&(c=f,u=h);return u=!s||c<=s?t[u]:o,r||u===o||gs(o)?u:u+bn(o)}:Qd(t))},U0=function(t,e,i,s){return nr(wn(t)?!e:i===!0?!!(i=0):!s,function(){return wn(t)?t[~~(Math.random()*t.length)]:(i=i||1e-5)&&(s=i<1?Math.pow(10,(i+"").length-2):1)&&Math.floor(Math.round((t-i/2+Math.random()*(e-t+i*.99))/i)*i*s)/s})},$S=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return function(s){return e.reduce(function(r,o){return o(r)},s)}},US=function(t,e){return function(i){return t(parseFloat(i))+(e||bn(i))}},HS=function(t,e,i){return K0(t,e,0,1,i)},H0=function(t,e,i){return nr(i,function(s){return t[~~e(s)]})},KS=function n(t,e,i){var s=e-t;return wn(t)?H0(t,n(0,t.length),e):nr(i,function(r){return(s+(r-t)%s)%s+t})},YS=function n(t,e,i){var s=e-t,r=s*2;return wn(t)?H0(t,n(0,t.length-1),e):nr(i,function(o){return o=(r+(o-t)%r)%r||0,t+(o>s?r-o:o)})},Ga=function(t){for(var e=0,i="",s,r,o,a;~(s=t.indexOf("random(",e));)o=t.indexOf(")",s),a=t.charAt(s+7)==="[",r=t.substr(s+7,o-s-7).match(a?A0:Ud),i+=t.substr(e,s-e)+U0(a?r:+r[0],a?0:+r[1],+r[2]||1e-5),e=o+1;return i+t.substr(e,t.length-e)},K0=function(t,e,i,s,r){var o=e-t,a=s-i;return nr(r,function(l){return i+((l-t)/o*a||0)})},GS=function n(t,e,i,s){var r=isNaN(t+e)?0:function(g){return(1-g)*t+g*e};if(!r){var o=ln(t),a={},l,c,u,h,f;if(i===!0&&(s=1)&&(i=null),o)t={p:t},e={p:e};else if(wn(t)&&!wn(e)){for(u=[],h=t.length,f=h-2,c=1;c<h;c++)u.push(n(t[c-1],t[c]));h--,r=function(_){_*=h;var m=Math.min(f,~~_);return u[m](_-m)},i=e}else s||(t=Ro(wn(t)?[]:{},t));if(!u){for(l in e)ip.call(a,t,l,"get",e[l]);r=function(_){return ap(_,a)||(o?t.p:t)}}}return nr(i,r)},gm=function(t,e,i){var s=t.labels,r=ui,o,a,l;for(o in s)a=s[o]-e,a<0==!!i&&a&&r>(a=Math.abs(a))&&(l=o,r=a);return l},Jn=function(t,e,i){var s=t.vars,r=s[e],o=Ae,a=t._ctx,l,c,u;if(r)return l=s[e+"Params"],c=s.callbackScope||t,i&&qs.length&&nu(),a&&(Ae=a),u=l?r.apply(c,l):r.call(c),Ae=o,u},xa=function(t){return Xs(t),t.scrollTrigger&&t.scrollTrigger.kill(!!un),t.progress()<1&&Jn(t,"onInterrupt"),t},mo,Y0=[],G0=function(t){if(t)if(t=!t.name&&t.default||t,Xf()||t.headless){var e=t.name,i=Fe(t),s=e&&!i&&t.init?function(){this._props=[]}:t,r={init:Ya,render:ap,add:ip,kill:hT,modifier:uT,rawVars:0},o={targetTest:0,get:0,getSetter:op,aliases:{},register:0};if(Lo(),t!==s){if(Xn[e])return;ii(s,ii(iu(t,r),o)),Ro(s.prototype,Ro(r,iu(t,o))),Xn[s.prop=e]=s,t.targetTest&&(Lc.push(s),Jf[e]=1),e=(e==="css"?"CSS":e.charAt(0).toUpperCase()+e.substr(1))+"Plugin"}D0(e,s),t.register&&t.register($n,s,jn)}else Y0.push(t)},fe=255,wa={aqua:[0,fe,fe],lime:[0,fe,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,fe],navy:[0,0,128],white:[fe,fe,fe],olive:[128,128,0],yellow:[fe,fe,0],orange:[fe,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[fe,0,0],pink:[fe,192,203],cyan:[0,fe,fe],transparent:[fe,fe,fe,0]},od=function(t,e,i){return t+=t<0?1:t>1?-1:0,(t*6<1?e+(i-e)*t*6:t<.5?i:t*3<2?e+(i-e)*(2/3-t)*6:e)*fe+.5|0},X0=function(t,e,i){var s=t?gs(t)?[t>>16,t>>8&fe,t&fe]:0:wa.black,r,o,a,l,c,u,h,f,g,_;if(!s){if(t.substr(-1)===","&&(t=t.substr(0,t.length-1)),wa[t])s=wa[t];else if(t.charAt(0)==="#"){if(t.length<6&&(r=t.charAt(1),o=t.charAt(2),a=t.charAt(3),t="#"+r+r+o+o+a+a+(t.length===5?t.charAt(4)+t.charAt(4):"")),t.length===9)return s=parseInt(t.substr(1,6),16),[s>>16,s>>8&fe,s&fe,parseInt(t.substr(7),16)/255];t=parseInt(t.substr(1),16),s=[t>>16,t>>8&fe,t&fe]}else if(t.substr(0,3)==="hsl"){if(s=_=t.match(Ud),!e)l=+s[0]%360/360,c=+s[1]/100,u=+s[2]/100,o=u<=.5?u*(c+1):u+c-u*c,r=u*2-o,s.length>3&&(s[3]*=1),s[0]=od(l+1/3,r,o),s[1]=od(l,r,o),s[2]=od(l-1/3,r,o);else if(~t.indexOf("="))return s=t.match(C0),i&&s.length<4&&(s[3]=1),s}else s=t.match(Ud)||wa.transparent;s=s.map(Number)}return e&&!_&&(r=s[0]/fe,o=s[1]/fe,a=s[2]/fe,h=Math.max(r,o,a),f=Math.min(r,o,a),u=(h+f)/2,h===f?l=c=0:(g=h-f,c=u>.5?g/(2-h-f):g/(h+f),l=h===r?(o-a)/g+(o<a?6:0):h===o?(a-r)/g+2:(r-o)/g+4,l*=60),s[0]=~~(l+.5),s[1]=~~(c*100+.5),s[2]=~~(u*100+.5)),i&&s.length<4&&(s[3]=1),s},Z0=function(t){var e=[],i=[],s=-1;return t.split($s).forEach(function(r){var o=r.match(go)||[];e.push.apply(e,o),i.push(s+=o.length+1)}),e.c=i,e},mm=function(t,e,i){var s="",r=(t+s).match($s),o=e?"hsla(":"rgba(",a=0,l,c,u,h;if(!r)return t;if(r=r.map(function(f){return(f=X0(f,e,1))&&o+(e?f[0]+","+f[1]+"%,"+f[2]+"%,"+f[3]:f.join(","))+")"}),i&&(u=Z0(t),l=i.c,l.join(s)!==u.c.join(s)))for(c=t.replace($s,"1").split(go),h=c.length-1;a<h;a++)s+=c[a]+(~l.indexOf(a)?r.shift()||o+"0,0,0,0)":(u.length?u:r.length?r:i).shift());if(!c)for(c=t.split($s),h=c.length-1;a<h;a++)s+=c[a]+r[a];return s+c[h]},$s=function(){var n="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",t;for(t in wa)n+="|"+t+"\\b";return new RegExp(n+")","gi")}(),XS=/hsl[a]?\(/,Q0=function(t){var e=t.join(" "),i;if($s.lastIndex=0,$s.test(e))return i=XS.test(e),t[1]=mm(t[1],i),t[0]=mm(t[0],i,Z0(t[1])),!0},Xa,Zn=function(){var n=Date.now,t=500,e=33,i=n(),s=i,r=1e3/240,o=r,a=[],l,c,u,h,f,g,_=function m(b){var x=n()-s,T=b===!0,O,M,w,k;if((x>t||x<0)&&(i+=x-e),s+=x,w=s-i,O=w-o,(O>0||T)&&(k=++h.frame,f=w-h.time*1e3,h.time=w=w/1e3,o+=O+(O>=r?4:r-O),M=1),T||(l=c(m)),M)for(g=0;g<a.length;g++)a[g](w,f,k,b)};return h={time:0,frame:0,tick:function(){_(!0)},deltaRatio:function(b){return f/(1e3/(b||60))},wake:function(){O0&&(!Hd&&Xf()&&(Ni=Hd=window,Zf=Ni.document||{},ni.gsap=$n,(Ni.gsapVersions||(Ni.gsapVersions=[])).push($n.version),P0(eu||Ni.GreenSockGlobals||!Ni.gsap&&Ni||{}),Y0.forEach(G0)),u=typeof requestAnimationFrame<"u"&&requestAnimationFrame,l&&h.sleep(),c=u||function(b){return setTimeout(b,o-h.time*1e3+1|0)},Xa=1,_(2))},sleep:function(){(u?cancelAnimationFrame:clearTimeout)(l),Xa=0,c=Ya},lagSmoothing:function(b,x){t=b||1/0,e=Math.min(x||33,t)},fps:function(b){r=1e3/(b||240),o=h.time*1e3+r},add:function(b,x,T){var O=x?function(M,w,k,P){b(M,w,k,P),h.remove(O)}:b;return h.remove(b),a[T?"unshift":"push"](O),Lo(),O},remove:function(b,x){~(x=a.indexOf(b))&&a.splice(x,1)&&g>=x&&g--},_listeners:a},h}(),Lo=function(){return!Xa&&Zn.wake()},se={},ZS=/^[\d.\-M][\d.\-,\s]/,QS=/["']/g,JS=function(t){for(var e={},i=t.substr(1,t.length-3).split(":"),s=i[0],r=1,o=i.length,a,l,c;r<o;r++)l=i[r],a=r!==o-1?l.lastIndexOf(","):l.length,c=l.substr(0,a),e[s]=isNaN(c)?c.replace(QS,"").trim():+c,s=l.substr(a+1).trim();return e},tT=function(t){var e=t.indexOf("(")+1,i=t.indexOf(")"),s=t.indexOf("(",e);return t.substring(e,~s&&s<i?t.indexOf(")",i+1):i)},eT=function(t){var e=(t+"").split("("),i=se[e[0]];return i&&e.length>1&&i.config?i.config.apply(null,~t.indexOf("{")?[JS(e[1])]:tT(t).split(",").map(N0)):se._CE&&ZS.test(t)?se._CE("",t):i},J0=function(t){return function(e){return 1-t(1-e)}},tb=function n(t,e){for(var i=t._first,s;i;)i instanceof Dn?n(i,e):i.vars.yoyoEase&&(!i._yoyo||!i._repeat)&&i._yoyo!==e&&(i.timeline?n(i.timeline,e):(s=i._ease,i._ease=i._yEase,i._yEase=s,i._yoyo=e)),i=i._next},Er=function(t,e){return t&&(Fe(t)?t:se[t]||eT(t))||e},Gr=function(t,e,i,s){i===void 0&&(i=function(l){return 1-e(1-l)}),s===void 0&&(s=function(l){return l<.5?e(l*2)/2:1-e((1-l)*2)/2});var r={easeIn:e,easeOut:i,easeInOut:s},o;return Wn(t,function(a){se[a]=ni[a]=r,se[o=a.toLowerCase()]=i;for(var l in r)se[o+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=se[a+"."+l]=r[l]}),r},eb=function(t){return function(e){return e<.5?(1-t(1-e*2))/2:.5+t((e-.5)*2)/2}},ad=function n(t,e,i){var s=e>=1?e:1,r=(i||(t?.3:.45))/(e<1?e:1),o=r/$d*(Math.asin(1/s)||0),a=function(u){return u===1?1:s*Math.pow(2,-10*u)*OS((u-o)*r)+1},l=t==="out"?a:t==="in"?function(c){return 1-a(1-c)}:eb(a);return r=$d/r,l.config=function(c,u){return n(t,c,u)},l},ld=function n(t,e){e===void 0&&(e=1.70158);var i=function(o){return o?--o*o*((e+1)*o+e)+1:0},s=t==="out"?i:t==="in"?function(r){return 1-i(1-r)}:eb(i);return s.config=function(r){return n(t,r)},s};Wn("Linear,Quad,Cubic,Quart,Quint,Strong",function(n,t){var e=t<5?t+1:t;Gr(n+",Power"+(e-1),t?function(i){return Math.pow(i,e)}:function(i){return i},function(i){return 1-Math.pow(1-i,e)},function(i){return i<.5?Math.pow(i*2,e)/2:1-Math.pow((1-i)*2,e)/2})});se.Linear.easeNone=se.none=se.Linear.easeIn;Gr("Elastic",ad("in"),ad("out"),ad());(function(n,t){var e=1/t,i=2*e,s=2.5*e,r=function(a){return a<e?n*a*a:a<i?n*Math.pow(a-1.5/t,2)+.75:a<s?n*(a-=2.25/t)*a+.9375:n*Math.pow(a-2.625/t,2)+.984375};Gr("Bounce",function(o){return 1-r(1-o)},r)})(7.5625,2.75);Gr("Expo",function(n){return Math.pow(2,10*(n-1))*n+n*n*n*n*n*n*(1-n)});Gr("Circ",function(n){return-(T0(1-n*n)-1)});Gr("Sine",function(n){return n===1?1:-AS(n*CS)+1});Gr("Back",ld("in"),ld("out"),ld());se.SteppedEase=se.steps=ni.SteppedEase={config:function(t,e){t===void 0&&(t=1);var i=1/t,s=t+(e?0:1),r=e?1:0,o=1-ge;return function(a){return((s*kl(0,o,a)|0)+r)*i}}};Io.ease=se["quad.out"];Wn("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(n){return tp+=n+","+n+"Params,"});var nb=function(t,e){this.id=MS++,t._gsap=this,this.target=t,this.harness=e,this.get=e?e.get:I0,this.set=e?e.getSetter:op},Za=function(){function n(e){this.vars=e,this._delay=+e.delay||0,(this._repeat=e.repeat===1/0?-2:e.repeat||0)&&(this._rDelay=e.repeatDelay||0,this._yoyo=!!e.yoyo||!!e.yoyoEase),this._ts=1,Fo(this,+e.duration,1,1),this.data=e.data,Ae&&(this._ctx=Ae,Ae.data.push(this)),Xa||Zn.wake()}var t=n.prototype;return t.delay=function(i){return i||i===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+i-this._delay),this._delay=i,this):this._delay},t.duration=function(i){return arguments.length?this.totalDuration(this._repeat>0?i+(i+this._rDelay)*this._repeat:i):this.totalDuration()&&this._dur},t.totalDuration=function(i){return arguments.length?(this._dirty=0,Fo(this,this._repeat<0?i:(i-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(i,s){if(Lo(),!arguments.length)return this._tTime;var r=this._dp;if(r&&r.smoothChildTiming&&this._ts){for(Xu(this,i),!r._dp||r.parent||V0(r,this);r&&r.parent;)r.parent._time!==r._start+(r._ts>=0?r._tTime/r._ts:(r.totalDuration()-r._tTime)/-r._ts)&&r.totalTime(r._tTime,!0),r=r.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&i<this._tDur||this._ts<0&&i>0||!this._tDur&&!i)&&Li(this._dp,this,this._start-this._delay)}return(this._tTime!==i||!this._dur&&!s||this._initted&&Math.abs(this._zTime)===ge||!i&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=i),R0(this,i,s)),this},t.time=function(i,s){return arguments.length?this.totalTime(Math.min(this.totalDuration(),i+fm(this))%(this._dur+this._rDelay)||(i?this._dur:0),s):this._time},t.totalProgress=function(i,s){return arguments.length?this.totalTime(this.totalDuration()*i,s):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},t.progress=function(i,s){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-i:i)+fm(this),s):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},t.iteration=function(i,s){var r=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(i-1)*r,s):this._repeat?No(this._tTime,r)+1:1},t.timeScale=function(i,s){if(!arguments.length)return this._rts===-ge?0:this._rts;if(this._rts===i)return this;var r=this.parent&&this._ts?su(this.parent._time,this):this._tTime;return this._rts=+i||0,this._ts=this._ps||i===-ge?0:this._rts,this.totalTime(kl(-Math.abs(this._delay),this.totalDuration(),r),s!==!1),Gu(this),FS(this)},t.paused=function(i){return arguments.length?(this._ps!==i&&(this._ps=i,i?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Lo(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==ge&&(this._tTime-=ge)))),this):this._ps},t.startTime=function(i){if(arguments.length){this._start=i;var s=this.parent||this._dp;return s&&(s._sort||!this.parent)&&Li(s,this,i-this._delay),this}return this._start},t.endTime=function(i){return this._start+(Bn(i)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},t.rawTime=function(i){var s=this.parent||this._dp;return s?i&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?su(s.rawTime(i),this):this._tTime:this._tTime},t.revert=function(i){i===void 0&&(i=ES);var s=un;return un=i,np(this)&&(this.timeline&&this.timeline.revert(i),this.totalTime(-.01,i.suppressEvents)),this.data!=="nested"&&i.kill!==!1&&this.kill(),un=s,this},t.globalTime=function(i){for(var s=this,r=arguments.length?i:s.rawTime();s;)r=s._start+r/(Math.abs(s._ts)||1),s=s._dp;return!this.parent&&this._sat?this._sat.globalTime(i):r},t.repeat=function(i){return arguments.length?(this._repeat=i===1/0?-2:i,pm(this)):this._repeat===-2?1/0:this._repeat},t.repeatDelay=function(i){if(arguments.length){var s=this._time;return this._rDelay=i,pm(this),s?this.time(s):this}return this._rDelay},t.yoyo=function(i){return arguments.length?(this._yoyo=i,this):this._yoyo},t.seek=function(i,s){return this.totalTime(li(this,i),Bn(s))},t.restart=function(i,s){return this.play().totalTime(i?-this._delay:0,Bn(s)),this._dur||(this._zTime=-ge),this},t.play=function(i,s){return i!=null&&this.seek(i,s),this.reversed(!1).paused(!1)},t.reverse=function(i,s){return i!=null&&this.seek(i||this.totalDuration(),s),this.reversed(!0).paused(!1)},t.pause=function(i,s){return i!=null&&this.seek(i,s),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(i){return arguments.length?(!!i!==this.reversed()&&this.timeScale(-this._rts||(i?-ge:0)),this):this._rts<0},t.invalidate=function(){return this._initted=this._act=0,this._zTime=-ge,this},t.isActive=function(){var i=this.parent||this._dp,s=this._start,r;return!!(!i||this._ts&&this._initted&&i.isActive()&&(r=i.rawTime(!0))>=s&&r<this.endTime(!0)-ge)},t.eventCallback=function(i,s,r){var o=this.vars;return arguments.length>1?(s?(o[i]=s,r&&(o[i+"Params"]=r),i==="onUpdate"&&(this._onUpdate=s)):delete o[i],this):o[i]},t.then=function(i){var s=this;return new Promise(function(r){var o=Fe(i)?i:F0,a=function(){var c=s.then;s.then=null,Fe(o)&&(o=o(s))&&(o.then||o===s)&&(s.then=c),r(o),s.then=c};s._initted&&s.totalProgress()===1&&s._ts>=0||!s._tTime&&s._ts<0?a():s._prom=a})},t.kill=function(){xa(this)},n}();ii(Za.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-ge,_prom:0,_ps:!1,_rts:1});var Dn=function(n){S0(t,n);function t(i,s){var r;return i===void 0&&(i={}),r=n.call(this,i)||this,r.labels={},r.smoothChildTiming=!!i.smoothChildTiming,r.autoRemoveChildren=!!i.autoRemoveChildren,r._sort=Bn(i.sortChildren),Ee&&Li(i.parent||Ee,es(r),s),i.reversed&&r.reverse(),i.paused&&r.paused(!0),i.scrollTrigger&&B0(es(r),i.scrollTrigger),r}var e=t.prototype;return e.to=function(s,r,o){return Na(0,arguments,this),this},e.from=function(s,r,o){return Na(1,arguments,this),this},e.fromTo=function(s,r,o,a){return Na(2,arguments,this),this},e.set=function(s,r,o){return r.duration=0,r.parent=this,Ra(r).repeatDelay||(r.repeat=0),r.immediateRender=!!r.immediateRender,new Ye(s,r,li(this,o),1),this},e.call=function(s,r,o){return Li(this,Ye.delayedCall(0,s,r),o)},e.staggerTo=function(s,r,o,a,l,c,u){return o.duration=r,o.stagger=o.stagger||a,o.onComplete=c,o.onCompleteParams=u,o.parent=this,new Ye(s,o,li(this,l)),this},e.staggerFrom=function(s,r,o,a,l,c,u){return o.runBackwards=1,Ra(o).immediateRender=Bn(o.immediateRender),this.staggerTo(s,r,o,a,l,c,u)},e.staggerFromTo=function(s,r,o,a,l,c,u,h){return a.startAt=o,Ra(a).immediateRender=Bn(a.immediateRender),this.staggerTo(s,r,a,l,c,u,h)},e.render=function(s,r,o){var a=this._time,l=this._dirty?this.totalDuration():this._tDur,c=this._dur,u=s<=0?0:Ge(s),h=this._zTime<0!=s<0&&(this._initted||!c),f,g,_,m,b,x,T,O,M,w,k,P;if(this!==Ee&&u>l&&s>=0&&(u=l),u!==this._tTime||o||h){if(a!==this._time&&c&&(u+=this._time-a,s+=this._time-a),f=u,M=this._start,O=this._ts,x=!O,h&&(c||(a=this._zTime),(s||!r)&&(this._zTime=s)),this._repeat){if(k=this._yoyo,b=c+this._rDelay,this._repeat<-1&&s<0)return this.totalTime(b*100+s,r,o);if(f=Ge(u%b),u===l?(m=this._repeat,f=c):(w=Ge(u/b),m=~~w,m&&m===w&&(f=c,m--),f>c&&(f=c)),w=No(this._tTime,b),!a&&this._tTime&&w!==m&&this._tTime-w*b-this._dur<=0&&(w=m),k&&m&1&&(f=c-f,P=1),m!==w&&!this._lock){var A=k&&w&1,I=A===(k&&m&1);if(m<w&&(A=!A),a=A?0:u%c?c:u,this._lock=1,this.render(a||(P?0:Ge(m*b)),r,!c)._lock=0,this._tTime=u,!r&&this.parent&&Jn(this,"onRepeat"),this.vars.repeatRefresh&&!P&&(this.invalidate()._lock=1),a&&a!==this._time||x!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(c=this._dur,l=this._tDur,I&&(this._lock=2,a=A?c:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!P&&this.invalidate()),this._lock=0,!this._ts&&!x)return this;tb(this,P)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(T=WS(this,Ge(a),Ge(f)),T&&(u-=f-(f=T._start))),this._tTime=u,this._time=f,this._act=!O,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=s,a=0),!a&&u&&!r&&!w&&(Jn(this,"onStart"),this._tTime!==u))return this;if(f>=a&&s>=0)for(g=this._first;g;){if(_=g._next,(g._act||f>=g._start)&&g._ts&&T!==g){if(g.parent!==this)return this.render(s,r,o);if(g.render(g._ts>0?(f-g._start)*g._ts:(g._dirty?g.totalDuration():g._tDur)+(f-g._start)*g._ts,r,o),f!==this._time||!this._ts&&!x){T=0,_&&(u+=this._zTime=-ge);break}}g=_}else{g=this._last;for(var W=s<0?s:f;g;){if(_=g._prev,(g._act||W<=g._end)&&g._ts&&T!==g){if(g.parent!==this)return this.render(s,r,o);if(g.render(g._ts>0?(W-g._start)*g._ts:(g._dirty?g.totalDuration():g._tDur)+(W-g._start)*g._ts,r,o||un&&np(g)),f!==this._time||!this._ts&&!x){T=0,_&&(u+=this._zTime=W?-ge:ge);break}}g=_}}if(T&&!r&&(this.pause(),T.render(f>=a?0:-ge)._zTime=f>=a?1:-1,this._ts))return this._start=M,Gu(this),this.render(s,r,o);this._onUpdate&&!r&&Jn(this,"onUpdate",!0),(u===l&&this._tTime>=this.totalDuration()||!u&&a)&&(M===this._start||Math.abs(O)!==Math.abs(this._ts))&&(this._lock||((s||!c)&&(u===l&&this._ts>0||!u&&this._ts<0)&&Xs(this,1),!r&&!(s<0&&!a)&&(u||a||!l)&&(Jn(this,u===l&&s>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(u<l&&this.timeScale()>0)&&this._prom())))}return this},e.add=function(s,r){var o=this;if(gs(r)||(r=li(this,r,s)),!(s instanceof Za)){if(wn(s))return s.forEach(function(a){return o.add(a,r)}),this;if(ln(s))return this.addLabel(s,r);if(Fe(s))s=Ye.delayedCall(0,s);else return this}return this!==s?Li(this,s,r):this},e.getChildren=function(s,r,o,a){s===void 0&&(s=!0),r===void 0&&(r=!0),o===void 0&&(o=!0),a===void 0&&(a=-ui);for(var l=[],c=this._first;c;)c._start>=a&&(c instanceof Ye?r&&l.push(c):(o&&l.push(c),s&&l.push.apply(l,c.getChildren(!0,r,o)))),c=c._next;return l},e.getById=function(s){for(var r=this.getChildren(1,1,1),o=r.length;o--;)if(r[o].vars.id===s)return r[o]},e.remove=function(s){return ln(s)?this.removeLabel(s):Fe(s)?this.killTweensOf(s):(s.parent===this&&Yu(this,s),s===this._recent&&(this._recent=this._last),Dr(this))},e.totalTime=function(s,r){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Ge(Zn.time-(this._ts>0?s/this._ts:(this.totalDuration()-s)/-this._ts))),n.prototype.totalTime.call(this,s,r),this._forcing=0,this):this._tTime},e.addLabel=function(s,r){return this.labels[s]=li(this,r),this},e.removeLabel=function(s){return delete this.labels[s],this},e.addPause=function(s,r,o){var a=Ye.delayedCall(0,r||Ya,o);return a.data="isPause",this._hasPause=1,Li(this,a,li(this,s))},e.removePause=function(s){var r=this._first;for(s=li(this,s);r;)r._start===s&&r.data==="isPause"&&Xs(r),r=r._next},e.killTweensOf=function(s,r,o){for(var a=this.getTweensOf(s,o),l=a.length;l--;)Fs!==a[l]&&a[l].kill(s,r);return this},e.getTweensOf=function(s,r){for(var o=[],a=hi(s),l=this._first,c=gs(r),u;l;)l instanceof Ye?IS(l._targets,a)&&(c?(!Fs||l._initted&&l._ts)&&l.globalTime(0)<=r&&l.globalTime(l.totalDuration())>r:!r||l.isActive())&&o.push(l):(u=l.getTweensOf(a,r)).length&&o.push.apply(o,u),l=l._next;return o},e.tweenTo=function(s,r){r=r||{};var o=this,a=li(o,s),l=r,c=l.startAt,u=l.onStart,h=l.onStartParams,f=l.immediateRender,g,_=Ye.to(o,ii({ease:r.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:r.duration||Math.abs((a-(c&&"time"in c?c.time:o._time))/o.timeScale())||ge,onStart:function(){if(o.pause(),!g){var b=r.duration||Math.abs((a-(c&&"time"in c?c.time:o._time))/o.timeScale());_._dur!==b&&Fo(_,b,0,1).render(_._time,!0,!0),g=1}u&&u.apply(_,h||[])}},r));return f?_.render(0):_},e.tweenFromTo=function(s,r,o){return this.tweenTo(r,ii({startAt:{time:li(this,s)}},o))},e.recent=function(){return this._recent},e.nextLabel=function(s){return s===void 0&&(s=this._time),gm(this,li(this,s))},e.previousLabel=function(s){return s===void 0&&(s=this._time),gm(this,li(this,s),1)},e.currentLabel=function(s){return arguments.length?this.seek(s,!0):this.previousLabel(this._time+ge)},e.shiftChildren=function(s,r,o){o===void 0&&(o=0);for(var a=this._first,l=this.labels,c;a;)a._start>=o&&(a._start+=s,a._end+=s),a=a._next;if(r)for(c in l)l[c]>=o&&(l[c]+=s);return Dr(this)},e.invalidate=function(s){var r=this._first;for(this._lock=0;r;)r.invalidate(s),r=r._next;return n.prototype.invalidate.call(this,s)},e.clear=function(s){s===void 0&&(s=!0);for(var r=this._first,o;r;)o=r._next,this.remove(r),r=o;return this._dp&&(this._time=this._tTime=this._pTime=0),s&&(this.labels={}),Dr(this)},e.totalDuration=function(s){var r=0,o=this,a=o._last,l=ui,c,u,h;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-s:s));if(o._dirty){for(h=o.parent;a;)c=a._prev,a._dirty&&a.totalDuration(),u=a._start,u>l&&o._sort&&a._ts&&!o._lock?(o._lock=1,Li(o,a,u-a._delay,1)._lock=0):l=u,u<0&&a._ts&&(r-=u,(!h&&!o._dp||h&&h.smoothChildTiming)&&(o._start+=u/o._ts,o._time-=u,o._tTime-=u),o.shiftChildren(-u,!1,-1/0),l=0),a._end>r&&a._ts&&(r=a._end),a=c;Fo(o,o===Ee&&o._time>r?o._time:r,1,1),o._dirty=0}return o._tDur},t.updateRoot=function(s){if(Ee._ts&&(R0(Ee,su(s,Ee)),E0=Zn.frame),Zn.frame>=hm){hm+=ei.autoSleep||120;var r=Ee._first;if((!r||!r._ts)&&ei.autoSleep&&Zn._listeners.length<2){for(;r&&!r._ts;)r=r._next;r||Zn.sleep()}}},t}(Za);ii(Dn.prototype,{_lock:0,_hasPause:0,_forcing:0});var nT=function(t,e,i,s,r,o,a){var l=new jn(this._pt,t,e,0,1,lb,null,r),c=0,u=0,h,f,g,_,m,b,x,T;for(l.b=i,l.e=s,i+="",s+="",(x=~s.indexOf("random("))&&(s=Ga(s)),o&&(T=[i,s],o(T,t,e),i=T[0],s=T[1]),f=i.match(sd)||[];h=sd.exec(s);)_=h[0],m=s.substring(c,h.index),g?g=(g+1)%5:m.substr(-5)==="rgba("&&(g=1),_!==f[u++]&&(b=parseFloat(f[u-1])||0,l._pt={_next:l._pt,p:m||u===1?m:",",s:b,c:_.charAt(1)==="="?Co(b,_)-b:parseFloat(_)-b,m:g&&g<4?Math.round:0},c=sd.lastIndex);return l.c=c<s.length?s.substring(c,s.length):"",l.fp=a,(M0.test(s)||x)&&(l.e=0),this._pt=l,l},ip=function(t,e,i,s,r,o,a,l,c,u){Fe(s)&&(s=s(r||0,t,o));var h=t[e],f=i!=="get"?i:Fe(h)?c?t[e.indexOf("set")||!Fe(t["get"+e.substr(3)])?e:"get"+e.substr(3)](c):t[e]():h,g=Fe(h)?c?aT:ob:rp,_;if(ln(s)&&(~s.indexOf("random(")&&(s=Ga(s)),s.charAt(1)==="="&&(_=Co(f,s)+(bn(f)||0),(_||_===0)&&(s=_))),!u||f!==s||Jd)return!isNaN(f*s)&&s!==""?(_=new jn(this._pt,t,e,+f||0,s-(f||0),typeof h=="boolean"?cT:ab,0,g),c&&(_.fp=c),a&&_.modifier(a,this,t),this._pt=_):(!h&&!(e in t)&&Qf(e,s),nT.call(this,t,e,f,s,g,l||ei.stringFilter,c))},iT=function(t,e,i,s,r){if(Fe(t)&&(t=Fa(t,r,e,i,s)),!qi(t)||t.style&&t.nodeType||wn(t)||k0(t))return ln(t)?Fa(t,r,e,i,s):t;var o={},a;for(a in t)o[a]=Fa(t[a],r,e,i,s);return o},ib=function(t,e,i,s,r,o){var a,l,c,u;if(Xn[t]&&(a=new Xn[t]).init(r,a.rawVars?e[t]:iT(e[t],s,r,o,i),i,s,o)!==!1&&(i._pt=l=new jn(i._pt,r,t,0,1,a.render,a,0,a.priority),i!==mo))for(c=i._ptLookup[i._targets.indexOf(r)],u=a._props.length;u--;)c[a._props[u]]=l;return a},Fs,Jd,sp=function n(t,e,i){var s=t.vars,r=s.ease,o=s.startAt,a=s.immediateRender,l=s.lazy,c=s.onUpdate,u=s.runBackwards,h=s.yoyoEase,f=s.keyframes,g=s.autoRevert,_=t._dur,m=t._startAt,b=t._targets,x=t.parent,T=x&&x.data==="nested"?x.vars.targets:b,O=t._overwrite==="auto"&&!Yf,M=t.timeline,w,k,P,A,I,W,R,N,Z,ot,at,nt,st;if(M&&(!f||!r)&&(r="none"),t._ease=Er(r,Io.ease),t._yEase=h?J0(Er(h===!0?r:h,Io.ease)):0,h&&t._yoyo&&!t._repeat&&(h=t._yEase,t._yEase=t._ease,t._ease=h),t._from=!M&&!!s.runBackwards,!M||f&&!s.stagger){if(N=b[0]?Pr(b[0]).harness:0,nt=N&&s[N.prop],w=iu(s,Jf),m&&(m._zTime<0&&m.progress(1),e<0&&u&&a&&!g?m.render(-1,!0):m.revert(u&&_?Fc:DS),m._lazy=0),o){if(Xs(t._startAt=Ye.set(b,ii({data:"isStart",overwrite:!1,parent:x,immediateRender:!0,lazy:!m&&Bn(l),startAt:null,delay:0,onUpdate:c&&function(){return Jn(t,"onUpdate")},stagger:0},o))),t._startAt._dp=0,t._startAt._sat=t,e<0&&(un||!a&&!g)&&t._startAt.revert(Fc),a&&_&&e<=0&&i<=0){e&&(t._zTime=e);return}}else if(u&&_&&!m){if(e&&(a=!1),P=ii({overwrite:!1,data:"isFromStart",lazy:a&&!m&&Bn(l),immediateRender:a,stagger:0,parent:x},w),nt&&(P[N.prop]=nt),Xs(t._startAt=Ye.set(b,P)),t._startAt._dp=0,t._startAt._sat=t,e<0&&(un?t._startAt.revert(Fc):t._startAt.render(-1,!0)),t._zTime=e,!a)n(t._startAt,ge,ge);else if(!e)return}for(t._pt=t._ptCache=0,l=_&&Bn(l)||l&&!_,k=0;k<b.length;k++){if(I=b[k],R=I._gsap||ep(b)[k]._gsap,t._ptLookup[k]=ot={},Kd[R.id]&&qs.length&&nu(),at=T===b?k:T.indexOf(I),N&&(Z=new N).init(I,nt||w,t,at,T)!==!1&&(t._pt=A=new jn(t._pt,I,Z.name,0,1,Z.render,Z,0,Z.priority),Z._props.forEach(function(pt){ot[pt]=A}),Z.priority&&(W=1)),!N||nt)for(P in w)Xn[P]&&(Z=ib(P,w,t,at,I,T))?Z.priority&&(W=1):ot[P]=A=ip.call(t,I,P,"get",w[P],at,T,0,s.stringFilter);t._op&&t._op[k]&&t.kill(I,t._op[k]),O&&t._pt&&(Fs=t,Ee.killTweensOf(I,ot,t.globalTime(e)),st=!t.parent,Fs=0),t._pt&&l&&(Kd[R.id]=1)}W&&cb(t),t._onInit&&t._onInit(t)}t._onUpdate=c,t._initted=(!t._op||t._pt)&&!st,f&&e<=0&&M.render(ui,!0,!0)},sT=function(t,e,i,s,r,o,a,l){var c=(t._pt&&t._ptCache||(t._ptCache={}))[e],u,h,f,g;if(!c)for(c=t._ptCache[e]=[],f=t._ptLookup,g=t._targets.length;g--;){if(u=f[g][e],u&&u.d&&u.d._pt)for(u=u.d._pt;u&&u.p!==e&&u.fp!==e;)u=u._next;if(!u)return Jd=1,t.vars[e]="+=0",sp(t,a),Jd=0,l?Ka(e+" not eligible for reset"):1;c.push(u)}for(g=c.length;g--;)h=c[g],u=h._pt||h,u.s=(s||s===0)&&!r?s:u.s+(s||0)+o*u.c,u.c=i-u.s,h.e&&(h.e=qe(i)+bn(h.e)),h.b&&(h.b=u.s+bn(h.b))},rT=function(t,e){var i=t[0]?Pr(t[0]).harness:0,s=i&&i.aliases,r,o,a,l;if(!s)return e;r=Ro({},e);for(o in s)if(o in r)for(l=s[o].split(","),a=l.length;a--;)r[l[a]]=r[o];return r},oT=function(t,e,i,s){var r=e.ease||s||"power1.inOut",o,a;if(wn(e))a=i[t]||(i[t]=[]),e.forEach(function(l,c){return a.push({t:c/(e.length-1)*100,v:l,e:r})});else for(o in e)a=i[o]||(i[o]=[]),o==="ease"||a.push({t:parseFloat(t),v:e[o],e:r})},Fa=function(t,e,i,s,r){return Fe(t)?t.call(e,i,s,r):ln(t)&&~t.indexOf("random(")?Ga(t):t},sb=tp+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",rb={};Wn(sb+",id,stagger,delay,duration,paused,scrollTrigger",function(n){return rb[n]=1});var Ye=function(n){S0(t,n);function t(i,s,r,o){var a;typeof s=="number"&&(r.duration=s,s=r,r=null),a=n.call(this,o?s:Ra(s))||this;var l=a.vars,c=l.duration,u=l.delay,h=l.immediateRender,f=l.stagger,g=l.overwrite,_=l.keyframes,m=l.defaults,b=l.scrollTrigger,x=l.yoyoEase,T=s.parent||Ee,O=(wn(i)||k0(i)?gs(i[0]):"length"in s)?[i]:hi(i),M,w,k,P,A,I,W,R;if(a._targets=O.length?ep(O):Ka("GSAP target "+i+" not found. https://gsap.com",!ei.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=g,_||f||dc(c)||dc(u)){if(s=a.vars,M=a.timeline=new Dn({data:"nested",defaults:m||{},targets:T&&T.data==="nested"?T.vars.targets:O}),M.kill(),M.parent=M._dp=es(a),M._start=0,f||dc(c)||dc(u)){if(P=O.length,W=f&&q0(f),qi(f))for(A in f)~sb.indexOf(A)&&(R||(R={}),R[A]=f[A]);for(w=0;w<P;w++)k=iu(s,rb),k.stagger=0,x&&(k.yoyoEase=x),R&&Ro(k,R),I=O[w],k.duration=+Fa(c,es(a),w,I,O),k.delay=(+Fa(u,es(a),w,I,O)||0)-a._delay,!f&&P===1&&k.delay&&(a._delay=u=k.delay,a._start+=u,k.delay=0),M.to(I,k,W?W(w,I,O):0),M._ease=se.none;M.duration()?c=u=0:a.timeline=0}else if(_){Ra(ii(M.vars.defaults,{ease:"none"})),M._ease=Er(_.ease||s.ease||"none");var N=0,Z,ot,at;if(wn(_))_.forEach(function(nt){return M.to(O,nt,">")}),M.duration();else{k={};for(A in _)A==="ease"||A==="easeEach"||oT(A,_[A],k,_.easeEach);for(A in k)for(Z=k[A].sort(function(nt,st){return nt.t-st.t}),N=0,w=0;w<Z.length;w++)ot=Z[w],at={ease:ot.e,duration:(ot.t-(w?Z[w-1].t:0))/100*c},at[A]=ot.v,M.to(O,at,N),N+=at.duration;M.duration()<c&&M.to({},{duration:c-M.duration()})}}c||a.duration(c=M.duration())}else a.timeline=0;return g===!0&&!Yf&&(Fs=es(a),Ee.killTweensOf(O),Fs=0),Li(T,es(a),r),s.reversed&&a.reverse(),s.paused&&a.paused(!0),(h||!c&&!_&&a._start===Ge(T._time)&&Bn(h)&&LS(es(a))&&T.data!=="nested")&&(a._tTime=-ge,a.render(Math.max(0,-u)||0)),b&&B0(es(a),b),a}var e=t.prototype;return e.render=function(s,r,o){var a=this._time,l=this._tDur,c=this._dur,u=s<0,h=s>l-ge&&!u?l:s<ge?0:s,f,g,_,m,b,x,T,O,M;if(!c)BS(this,s,r,o);else if(h!==this._tTime||!s||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==u||this._lazy){if(f=h,O=this.timeline,this._repeat){if(m=c+this._rDelay,this._repeat<-1&&u)return this.totalTime(m*100+s,r,o);if(f=Ge(h%m),h===l?(_=this._repeat,f=c):(b=Ge(h/m),_=~~b,_&&_===b?(f=c,_--):f>c&&(f=c)),x=this._yoyo&&_&1,x&&(M=this._yEase,f=c-f),b=No(this._tTime,m),f===a&&!o&&this._initted&&_===b)return this._tTime=h,this;_!==b&&(O&&this._yEase&&tb(O,x),this.vars.repeatRefresh&&!x&&!this._lock&&f!==m&&this._initted&&(this._lock=o=1,this.render(Ge(m*_),!0).invalidate()._lock=0))}if(!this._initted){if(W0(this,u?s:f,o,r,h))return this._tTime=0,this;if(a!==this._time&&!(o&&this.vars.repeatRefresh&&_!==b))return this;if(c!==this._dur)return this.render(s,r,o)}if(this._tTime=h,this._time=f,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=T=(M||this._ease)(f/c),this._from&&(this.ratio=T=1-T),!a&&h&&!r&&!b&&(Jn(this,"onStart"),this._tTime!==h))return this;for(g=this._pt;g;)g.r(T,g.d),g=g._next;O&&O.render(s<0?s:O._dur*O._ease(f/this._dur),r,o)||this._startAt&&(this._zTime=s),this._onUpdate&&!r&&(u&&Yd(this,s,r,o),Jn(this,"onUpdate")),this._repeat&&_!==b&&this.vars.onRepeat&&!r&&this.parent&&Jn(this,"onRepeat"),(h===this._tDur||!h)&&this._tTime===h&&(u&&!this._onUpdate&&Yd(this,s,!0,!0),(s||!c)&&(h===this._tDur&&this._ts>0||!h&&this._ts<0)&&Xs(this,1),!r&&!(u&&!a)&&(h||a||x)&&(Jn(this,h===l?"onComplete":"onReverseComplete",!0),this._prom&&!(h<l&&this.timeScale()>0)&&this._prom()))}return this},e.targets=function(){return this._targets},e.invalidate=function(s){return(!s||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(s),n.prototype.invalidate.call(this,s)},e.resetTo=function(s,r,o,a,l){Xa||Zn.wake(),this._ts||this.play();var c=Math.min(this._dur,(this._dp._time-this._start)*this._ts),u;return this._initted||sp(this,c),u=this._ease(c/this._dur),sT(this,s,r,o,a,u,c,l)?this.resetTo(s,r,o,a,1):(Xu(this,0),this.parent||L0(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},e.kill=function(s,r){if(r===void 0&&(r="all"),!s&&(!r||r==="all"))return this._lazy=this._pt=0,this.parent?xa(this):this.scrollTrigger&&this.scrollTrigger.kill(!!un),this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(s,r,Fs&&Fs.vars.overwrite!==!0)._first||xa(this),this.parent&&o!==this.timeline.totalDuration()&&Fo(this,this._dur*this.timeline._tDur/o,0,1),this}var a=this._targets,l=s?hi(s):a,c=this._ptLookup,u=this._pt,h,f,g,_,m,b,x;if((!r||r==="all")&&NS(a,l))return r==="all"&&(this._pt=0),xa(this);for(h=this._op=this._op||[],r!=="all"&&(ln(r)&&(m={},Wn(r,function(T){return m[T]=1}),r=m),r=rT(a,r)),x=a.length;x--;)if(~l.indexOf(a[x])){f=c[x],r==="all"?(h[x]=r,_=f,g={}):(g=h[x]=h[x]||{},_=r);for(m in _)b=f&&f[m],b&&((!("kill"in b.d)||b.d.kill(m)===!0)&&Yu(this,b,"_pt"),delete f[m]),g!=="all"&&(g[m]=1)}return this._initted&&!this._pt&&u&&xa(this),this},t.to=function(s,r){return new t(s,r,arguments[2])},t.from=function(s,r){return Na(1,arguments)},t.delayedCall=function(s,r,o,a){return new t(r,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:s,onComplete:r,onReverseComplete:r,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},t.fromTo=function(s,r,o){return Na(2,arguments)},t.set=function(s,r){return r.duration=0,r.repeatDelay||(r.repeat=0),new t(s,r)},t.killTweensOf=function(s,r,o){return Ee.killTweensOf(s,r,o)},t}(Za);ii(Ye.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});Wn("staggerTo,staggerFrom,staggerFromTo",function(n){Ye[n]=function(){var t=new Dn,e=Xd.call(arguments,0);return e.splice(n==="staggerFromTo"?5:4,0,0),t[n].apply(t,e)}});var rp=function(t,e,i){return t[e]=i},ob=function(t,e,i){return t[e](i)},aT=function(t,e,i,s){return t[e](s.fp,i)},lT=function(t,e,i){return t.setAttribute(e,i)},op=function(t,e){return Fe(t[e])?ob:Gf(t[e])&&t.setAttribute?lT:rp},ab=function(t,e){return e.set(e.t,e.p,Math.round((e.s+e.c*t)*1e6)/1e6,e)},cT=function(t,e){return e.set(e.t,e.p,!!(e.s+e.c*t),e)},lb=function(t,e){var i=e._pt,s="";if(!t&&e.b)s=e.b;else if(t===1&&e.e)s=e.e;else{for(;i;)s=i.p+(i.m?i.m(i.s+i.c*t):Math.round((i.s+i.c*t)*1e4)/1e4)+s,i=i._next;s+=e.c}e.set(e.t,e.p,s,e)},ap=function(t,e){for(var i=e._pt;i;)i.r(t,i.d),i=i._next},uT=function(t,e,i,s){for(var r=this._pt,o;r;)o=r._next,r.p===s&&r.modifier(t,e,i),r=o},hT=function(t){for(var e=this._pt,i,s;e;)s=e._next,e.p===t&&!e.op||e.op===t?Yu(this,e,"_pt"):e.dep||(i=1),e=s;return!i},dT=function(t,e,i,s){s.mSet(t,e,s.m.call(s.tween,i,s.mt),s)},cb=function(t){for(var e=t._pt,i,s,r,o;e;){for(i=e._next,s=r;s&&s.pr>e.pr;)s=s._next;(e._prev=s?s._prev:o)?e._prev._next=e:r=e,(e._next=s)?s._prev=e:o=e,e=i}t._pt=r},jn=function(){function n(e,i,s,r,o,a,l,c,u){this.t=i,this.s=r,this.c=o,this.p=s,this.r=a||ab,this.d=l||this,this.set=c||rp,this.pr=u||0,this._next=e,e&&(e._prev=this)}var t=n.prototype;return t.modifier=function(i,s,r){this.mSet=this.mSet||this.set,this.set=dT,this.m=i,this.mt=r,this.tween=s},n}();Wn(tp+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(n){return Jf[n]=1});ni.TweenMax=ni.TweenLite=Ye;ni.TimelineLite=ni.TimelineMax=Dn;Ee=new Dn({sortChildren:!1,defaults:Io,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});ei.stringFilter=Q0;var Ir=[],Vc={},fT=[],_m=0,pT=0,cd=function(t){return(Vc[t]||fT).map(function(e){return e()})},tf=function(){var t=Date.now(),e=[];t-_m>2&&(cd("matchMediaInit"),Ir.forEach(function(i){var s=i.queries,r=i.conditions,o,a,l,c;for(a in s)o=Ni.matchMedia(s[a]).matches,o&&(l=1),o!==r[a]&&(r[a]=o,c=1);c&&(i.revert(),l&&e.push(i))}),cd("matchMediaRevert"),e.forEach(function(i){return i.onMatch(i,function(s){return i.add(null,s)})}),_m=t,cd("matchMedia"))},ub=function(){function n(e,i){this.selector=i&&Zd(i),this.data=[],this._r=[],this.isReverted=!1,this.id=pT++,e&&this.add(e)}var t=n.prototype;return t.add=function(i,s,r){Fe(i)&&(r=s,s=i,i=Fe);var o=this,a=function(){var c=Ae,u=o.selector,h;return c&&c!==o&&c.data.push(o),r&&(o.selector=Zd(r)),Ae=o,h=s.apply(o,arguments),Fe(h)&&o._r.push(h),Ae=c,o.selector=u,o.isReverted=!1,h};return o.last=a,i===Fe?a(o,function(l){return o.add(null,l)}):i?o[i]=a:a},t.ignore=function(i){var s=Ae;Ae=null,i(this),Ae=s},t.getTweens=function(){var i=[];return this.data.forEach(function(s){return s instanceof n?i.push.apply(i,s.getTweens()):s instanceof Ye&&!(s.parent&&s.parent.data==="nested")&&i.push(s)}),i},t.clear=function(){this._r.length=this.data.length=0},t.kill=function(i,s){var r=this;if(i?function(){for(var a=r.getTweens(),l=r.data.length,c;l--;)c=r.data[l],c.data==="isFlip"&&(c.revert(),c.getChildren(!0,!0,!1).forEach(function(u){return a.splice(a.indexOf(u),1)}));for(a.map(function(u){return{g:u._dur||u._delay||u._sat&&!u._sat.vars.immediateRender?u.globalTime(0):-1/0,t:u}}).sort(function(u,h){return h.g-u.g||-1/0}).forEach(function(u){return u.t.revert(i)}),l=r.data.length;l--;)c=r.data[l],c instanceof Dn?c.data!=="nested"&&(c.scrollTrigger&&c.scrollTrigger.revert(),c.kill()):!(c instanceof Ye)&&c.revert&&c.revert(i);r._r.forEach(function(u){return u(i,r)}),r.isReverted=!0}():this.data.forEach(function(a){return a.kill&&a.kill()}),this.clear(),s)for(var o=Ir.length;o--;)Ir[o].id===this.id&&Ir.splice(o,1)},t.revert=function(i){this.kill(i||{})},n}(),gT=function(){function n(e){this.contexts=[],this.scope=e,Ae&&Ae.data.push(this)}var t=n.prototype;return t.add=function(i,s,r){qi(i)||(i={matches:i});var o=new ub(0,r||this.scope),a=o.conditions={},l,c,u;Ae&&!o.selector&&(o.selector=Ae.selector),this.contexts.push(o),s=o.add("onMatch",s),o.queries=i;for(c in i)c==="all"?u=1:(l=Ni.matchMedia(i[c]),l&&(Ir.indexOf(o)<0&&Ir.push(o),(a[c]=l.matches)&&(u=1),l.addListener?l.addListener(tf):l.addEventListener("change",tf)));return u&&s(o,function(h){return o.add(null,h)}),this},t.revert=function(i){this.kill(i||{})},t.kill=function(i){this.contexts.forEach(function(s){return s.kill(i,!0)})},n}(),ru={registerPlugin:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];e.forEach(function(s){return G0(s)})},timeline:function(t){return new Dn(t)},getTweensOf:function(t,e){return Ee.getTweensOf(t,e)},getProperty:function(t,e,i,s){ln(t)&&(t=hi(t)[0]);var r=Pr(t||{}).get,o=i?F0:N0;return i==="native"&&(i=""),t&&(e?o((Xn[e]&&Xn[e].get||r)(t,e,i,s)):function(a,l,c){return o((Xn[a]&&Xn[a].get||r)(t,a,l,c))})},quickSetter:function(t,e,i){if(t=hi(t),t.length>1){var s=t.map(function(u){return $n.quickSetter(u,e,i)}),r=s.length;return function(u){for(var h=r;h--;)s[h](u)}}t=t[0]||{};var o=Xn[e],a=Pr(t),l=a.harness&&(a.harness.aliases||{})[e]||e,c=o?function(u){var h=new o;mo._pt=0,h.init(t,i?u+i:u,mo,0,[t]),h.render(1,h),mo._pt&&ap(1,mo)}:a.set(t,l);return o?c:function(u){return c(t,l,i?u+i:u,a,1)}},quickTo:function(t,e,i){var s,r=$n.to(t,ii((s={},s[e]="+=0.1",s.paused=!0,s.stagger=0,s),i||{})),o=function(l,c,u){return r.resetTo(e,l,c,u)};return o.tween=r,o},isTweening:function(t){return Ee.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=Er(t.ease,Io.ease)),dm(Io,t||{})},config:function(t){return dm(ei,t||{})},registerEffect:function(t){var e=t.name,i=t.effect,s=t.plugins,r=t.defaults,o=t.extendTimeline;(s||"").split(",").forEach(function(a){return a&&!Xn[a]&&!ni[a]&&Ka(e+" effect requires "+a+" plugin.")}),rd[e]=function(a,l,c){return i(hi(a),ii(l||{},r),c)},o&&(Dn.prototype[e]=function(a,l,c){return this.add(rd[e](a,qi(l)?l:(c=l)&&{},this),c)})},registerEase:function(t,e){se[t]=Er(e)},parseEase:function(t,e){return arguments.length?Er(t,e):se},getById:function(t){return Ee.getById(t)},exportRoot:function(t,e){t===void 0&&(t={});var i=new Dn(t),s,r;for(i.smoothChildTiming=Bn(t.smoothChildTiming),Ee.remove(i),i._dp=0,i._time=i._tTime=Ee._time,s=Ee._first;s;)r=s._next,(e||!(!s._dur&&s instanceof Ye&&s.vars.onComplete===s._targets[0]))&&Li(i,s,s._start-s._delay),s=r;return Li(Ee,i,0),i},context:function(t,e){return t?new ub(t,e):Ae},matchMedia:function(t){return new gT(t)},matchMediaRefresh:function(){return Ir.forEach(function(t){var e=t.conditions,i,s;for(s in e)e[s]&&(e[s]=!1,i=1);i&&t.revert()})||tf()},addEventListener:function(t,e){var i=Vc[t]||(Vc[t]=[]);~i.indexOf(e)||i.push(e)},removeEventListener:function(t,e){var i=Vc[t],s=i&&i.indexOf(e);s>=0&&i.splice(s,1)},utils:{wrap:KS,wrapYoyo:YS,distribute:q0,random:U0,snap:$0,normalize:HS,getUnit:bn,clamp:zS,splitColor:X0,toArray:hi,selector:Zd,mapRange:K0,pipe:$S,unitize:US,interpolate:GS,shuffle:z0},install:P0,effects:rd,ticker:Zn,updateRoot:Dn.updateRoot,plugins:Xn,globalTimeline:Ee,core:{PropTween:jn,globals:D0,Tween:Ye,Timeline:Dn,Animation:Za,getCache:Pr,_removeLinkedListItem:Yu,reverting:function(){return un},context:function(t){return t&&Ae&&(Ae.data.push(t),t._ctx=Ae),Ae},suppressOverwrites:function(t){return Yf=t}}};Wn("to,from,fromTo,delayedCall,set,killTweensOf",function(n){return ru[n]=Ye[n]});Zn.add(Dn.updateRoot);mo=ru.to({},{duration:0});var mT=function(t,e){for(var i=t._pt;i&&i.p!==e&&i.op!==e&&i.fp!==e;)i=i._next;return i},_T=function(t,e){var i=t._targets,s,r,o;for(s in e)for(r=i.length;r--;)o=t._ptLookup[r][s],o&&(o=o.d)&&(o._pt&&(o=mT(o,s)),o&&o.modifier&&o.modifier(e[s],t,i[r],s))},ud=function(t,e){return{name:t,headless:1,rawVars:1,init:function(s,r,o){o._onInit=function(a){var l,c;if(ln(r)&&(l={},Wn(r,function(u){return l[u]=1}),r=l),e){l={};for(c in r)l[c]=e(r[c]);r=l}_T(a,r)}}}},$n=ru.registerPlugin({name:"attr",init:function(t,e,i,s,r){var o,a,l;this.tween=i;for(o in e)l=t.getAttribute(o)||"",a=this.add(t,"setAttribute",(l||0)+"",e[o],s,r,0,0,o),a.op=o,a.b=l,this._props.push(o)},render:function(t,e){for(var i=e._pt;i;)un?i.set(i.t,i.p,i.b,i):i.r(t,i.d),i=i._next}},{name:"endArray",headless:1,init:function(t,e){for(var i=e.length;i--;)this.add(t,i,t[i]||0,e[i],0,0,0,0,0,1)}},ud("roundProps",Qd),ud("modifiers"),ud("snap",$0))||ru;Ye.version=Dn.version=$n.version="3.13.0";O0=1;Xf()&&Lo();se.Power0;se.Power1;se.Power2;se.Power3;se.Power4;se.Linear;se.Quad;se.Cubic;se.Quart;se.Quint;se.Strong;se.Elastic;se.Back;se.SteppedEase;se.Bounce;se.Sine;se.Expo;se.Circ;/*!
 * CSSPlugin 3.13.0
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var ym,Ls,Mo,lp,Mr,bm,cp,yT=function(){return typeof window<"u"},ms={},wr=180/Math.PI,Ao=Math.PI/180,co=Math.atan2,vm=1e8,up=/([A-Z])/g,bT=/(left|right|width|margin|padding|x)/i,vT=/[\s,\(]\S/,Vi={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},ef=function(t,e){return e.set(e.t,e.p,Math.round((e.s+e.c*t)*1e4)/1e4+e.u,e)},xT=function(t,e){return e.set(e.t,e.p,t===1?e.e:Math.round((e.s+e.c*t)*1e4)/1e4+e.u,e)},wT=function(t,e){return e.set(e.t,e.p,t?Math.round((e.s+e.c*t)*1e4)/1e4+e.u:e.b,e)},ST=function(t,e){var i=e.s+e.c*t;e.set(e.t,e.p,~~(i+(i<0?-.5:.5))+e.u,e)},hb=function(t,e){return e.set(e.t,e.p,t?e.e:e.b,e)},db=function(t,e){return e.set(e.t,e.p,t!==1?e.b:e.e,e)},TT=function(t,e,i){return t.style[e]=i},kT=function(t,e,i){return t.style.setProperty(e,i)},CT=function(t,e,i){return t._gsap[e]=i},MT=function(t,e,i){return t._gsap.scaleX=t._gsap.scaleY=i},AT=function(t,e,i,s,r){var o=t._gsap;o.scaleX=o.scaleY=i,o.renderTransform(r,o)},OT=function(t,e,i,s,r){var o=t._gsap;o[e]=i,o.renderTransform(r,o)},Ie="transform",zn=Ie+"Origin",PT=function n(t,e){var i=this,s=this.target,r=s.style,o=s._gsap;if(t in ms&&r){if(this.tfm=this.tfm||{},t!=="transform")t=Vi[t]||t,~t.indexOf(",")?t.split(",").forEach(function(a){return i.tfm[a]=is(s,a)}):this.tfm[t]=o.x?o[t]:is(s,t),t===zn&&(this.tfm.zOrigin=o.zOrigin);else return Vi.transform.split(",").forEach(function(a){return n.call(i,a,e)});if(this.props.indexOf(Ie)>=0)return;o.svg&&(this.svgo=s.getAttribute("data-svg-origin"),this.props.push(zn,e,"")),t=Ie}(r||e)&&this.props.push(t,e,r[t])},fb=function(t){t.translate&&(t.removeProperty("translate"),t.removeProperty("scale"),t.removeProperty("rotate"))},DT=function(){var t=this.props,e=this.target,i=e.style,s=e._gsap,r,o;for(r=0;r<t.length;r+=3)t[r+1]?t[r+1]===2?e[t[r]](t[r+2]):e[t[r]]=t[r+2]:t[r+2]?i[t[r]]=t[r+2]:i.removeProperty(t[r].substr(0,2)==="--"?t[r]:t[r].replace(up,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)s[o]=this.tfm[o];s.svg&&(s.renderTransform(),e.setAttribute("data-svg-origin",this.svgo||"")),r=cp(),(!r||!r.isStart)&&!i[Ie]&&(fb(i),s.zOrigin&&i[zn]&&(i[zn]+=" "+s.zOrigin+"px",s.zOrigin=0,s.renderTransform()),s.uncache=1)}},pb=function(t,e){var i={target:t,props:[],revert:DT,save:PT};return t._gsap||$n.core.getCache(t),e&&t.style&&t.nodeType&&e.split(",").forEach(function(s){return i.save(s)}),i},gb,nf=function(t,e){var i=Ls.createElementNS?Ls.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):Ls.createElement(t);return i&&i.style?i:Ls.createElement(t)},di=function n(t,e,i){var s=getComputedStyle(t);return s[e]||s.getPropertyValue(e.replace(up,"-$1").toLowerCase())||s.getPropertyValue(e)||!i&&n(t,Vo(e)||e,1)||""},xm="O,Moz,ms,Ms,Webkit".split(","),Vo=function(t,e,i){var s=e||Mr,r=s.style,o=5;if(t in r&&!i)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);o--&&!(xm[o]+t in r););return o<0?null:(o===3?"ms":o>=0?xm[o]:"")+t},sf=function(){yT()&&window.document&&(ym=window,Ls=ym.document,Mo=Ls.documentElement,Mr=nf("div")||{style:{}},nf("div"),Ie=Vo(Ie),zn=Ie+"Origin",Mr.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",gb=!!Vo("perspective"),cp=$n.core.reverting,lp=1)},wm=function(t){var e=t.ownerSVGElement,i=nf("svg",e&&e.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),s=t.cloneNode(!0),r;s.style.display="block",i.appendChild(s),Mo.appendChild(i);try{r=s.getBBox()}catch{}return i.removeChild(s),Mo.removeChild(i),r},Sm=function(t,e){for(var i=e.length;i--;)if(t.hasAttribute(e[i]))return t.getAttribute(e[i])},mb=function(t){var e,i;try{e=t.getBBox()}catch{e=wm(t),i=1}return e&&(e.width||e.height)||i||(e=wm(t)),e&&!e.width&&!e.x&&!e.y?{x:+Sm(t,["x","cx","x1"])||0,y:+Sm(t,["y","cy","y1"])||0,width:0,height:0}:e},_b=function(t){return!!(t.getCTM&&(!t.parentNode||t.ownerSVGElement)&&mb(t))},Vr=function(t,e){if(e){var i=t.style,s;e in ms&&e!==zn&&(e=Ie),i.removeProperty?(s=e.substr(0,2),(s==="ms"||e.substr(0,6)==="webkit")&&(e="-"+e),i.removeProperty(s==="--"?e:e.replace(up,"-$1").toLowerCase())):i.removeAttribute(e)}},Vs=function(t,e,i,s,r,o){var a=new jn(t._pt,e,i,0,1,o?db:hb);return t._pt=a,a.b=s,a.e=r,t._props.push(i),a},Tm={deg:1,rad:1,turn:1},ET={grid:1,flex:1},Zs=function n(t,e,i,s){var r=parseFloat(i)||0,o=(i+"").trim().substr((r+"").length)||"px",a=Mr.style,l=bT.test(e),c=t.tagName.toLowerCase()==="svg",u=(c?"client":"offset")+(l?"Width":"Height"),h=100,f=s==="px",g=s==="%",_,m,b,x;if(s===o||!r||Tm[s]||Tm[o])return r;if(o!=="px"&&!f&&(r=n(t,e,i,"px")),x=t.getCTM&&_b(t),(g||o==="%")&&(ms[e]||~e.indexOf("adius")))return _=x?t.getBBox()[l?"width":"height"]:t[u],qe(g?r/_*h:r/100*_);if(a[l?"width":"height"]=h+(f?o:s),m=s!=="rem"&&~e.indexOf("adius")||s==="em"&&t.appendChild&&!c?t:t.parentNode,x&&(m=(t.ownerSVGElement||{}).parentNode),(!m||m===Ls||!m.appendChild)&&(m=Ls.body),b=m._gsap,b&&g&&b.width&&l&&b.time===Zn.time&&!b.uncache)return qe(r/b.width*h);if(g&&(e==="height"||e==="width")){var T=t.style[e];t.style[e]=h+s,_=t[u],T?t.style[e]=T:Vr(t,e)}else(g||o==="%")&&!ET[di(m,"display")]&&(a.position=di(t,"position")),m===t&&(a.position="static"),m.appendChild(Mr),_=Mr[u],m.removeChild(Mr),a.position="absolute";return l&&g&&(b=Pr(m),b.time=Zn.time,b.width=m[u]),qe(f?_*r/h:_&&r?h/_*r:0)},is=function(t,e,i,s){var r;return lp||sf(),e in Vi&&e!=="transform"&&(e=Vi[e],~e.indexOf(",")&&(e=e.split(",")[0])),ms[e]&&e!=="transform"?(r=Ja(t,s),r=e!=="transformOrigin"?r[e]:r.svg?r.origin:au(di(t,zn))+" "+r.zOrigin+"px"):(r=t.style[e],(!r||r==="auto"||s||~(r+"").indexOf("calc("))&&(r=ou[e]&&ou[e](t,e,i)||di(t,e)||I0(t,e)||(e==="opacity"?1:0))),i&&!~(r+"").trim().indexOf(" ")?Zs(t,e,r,i)+i:r},IT=function(t,e,i,s){if(!i||i==="none"){var r=Vo(e,t,1),o=r&&di(t,r,1);o&&o!==i?(e=r,i=o):e==="borderColor"&&(i=di(t,"borderTopColor"))}var a=new jn(this._pt,t.style,e,0,1,lb),l=0,c=0,u,h,f,g,_,m,b,x,T,O,M,w;if(a.b=i,a.e=s,i+="",s+="",s.substring(0,6)==="var(--"&&(s=di(t,s.substring(4,s.indexOf(")")))),s==="auto"&&(m=t.style[e],t.style[e]=s,s=di(t,e)||s,m?t.style[e]=m:Vr(t,e)),u=[i,s],Q0(u),i=u[0],s=u[1],f=i.match(go)||[],w=s.match(go)||[],w.length){for(;h=go.exec(s);)b=h[0],T=s.substring(l,h.index),_?_=(_+1)%5:(T.substr(-5)==="rgba("||T.substr(-5)==="hsla(")&&(_=1),b!==(m=f[c++]||"")&&(g=parseFloat(m)||0,M=m.substr((g+"").length),b.charAt(1)==="="&&(b=Co(g,b)+M),x=parseFloat(b),O=b.substr((x+"").length),l=go.lastIndex-O.length,O||(O=O||ei.units[e]||M,l===s.length&&(s+=O,a.e+=O)),M!==O&&(g=Zs(t,e,m,O)||0),a._pt={_next:a._pt,p:T||c===1?T:",",s:g,c:x-g,m:_&&_<4||e==="zIndex"?Math.round:0});a.c=l<s.length?s.substring(l,s.length):""}else a.r=e==="display"&&s==="none"?db:hb;return M0.test(s)&&(a.e=0),this._pt=a,a},km={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},RT=function(t){var e=t.split(" "),i=e[0],s=e[1]||"50%";return(i==="top"||i==="bottom"||s==="left"||s==="right")&&(t=i,i=s,s=t),e[0]=km[i]||i,e[1]=km[s]||s,e.join(" ")},NT=function(t,e){if(e.tween&&e.tween._time===e.tween._dur){var i=e.t,s=i.style,r=e.u,o=i._gsap,a,l,c;if(r==="all"||r===!0)s.cssText="",l=1;else for(r=r.split(","),c=r.length;--c>-1;)a=r[c],ms[a]&&(l=1,a=a==="transformOrigin"?zn:Ie),Vr(i,a);l&&(Vr(i,Ie),o&&(o.svg&&i.removeAttribute("transform"),s.scale=s.rotate=s.translate="none",Ja(i,1),o.uncache=1,fb(s)))}},ou={clearProps:function(t,e,i,s,r){if(r.data!=="isFromStart"){var o=t._pt=new jn(t._pt,e,i,0,0,NT);return o.u=s,o.pr=-10,o.tween=r,t._props.push(i),1}}},Qa=[1,0,0,1,0,0],yb={},bb=function(t){return t==="matrix(1, 0, 0, 1, 0, 0)"||t==="none"||!t},Cm=function(t){var e=di(t,Ie);return bb(e)?Qa:e.substr(7).match(C0).map(qe)},hp=function(t,e){var i=t._gsap||Pr(t),s=t.style,r=Cm(t),o,a,l,c;return i.svg&&t.getAttribute("transform")?(l=t.transform.baseVal.consolidate().matrix,r=[l.a,l.b,l.c,l.d,l.e,l.f],r.join(",")==="1,0,0,1,0,0"?Qa:r):(r===Qa&&!t.offsetParent&&t!==Mo&&!i.svg&&(l=s.display,s.display="block",o=t.parentNode,(!o||!t.offsetParent&&!t.getBoundingClientRect().width)&&(c=1,a=t.nextElementSibling,Mo.appendChild(t)),r=Cm(t),l?s.display=l:Vr(t,"display"),c&&(a?o.insertBefore(t,a):o?o.appendChild(t):Mo.removeChild(t))),e&&r.length>6?[r[0],r[1],r[4],r[5],r[12],r[13]]:r)},rf=function(t,e,i,s,r,o){var a=t._gsap,l=r||hp(t,!0),c=a.xOrigin||0,u=a.yOrigin||0,h=a.xOffset||0,f=a.yOffset||0,g=l[0],_=l[1],m=l[2],b=l[3],x=l[4],T=l[5],O=e.split(" "),M=parseFloat(O[0])||0,w=parseFloat(O[1])||0,k,P,A,I;i?l!==Qa&&(P=g*b-_*m)&&(A=M*(b/P)+w*(-m/P)+(m*T-b*x)/P,I=M*(-_/P)+w*(g/P)-(g*T-_*x)/P,M=A,w=I):(k=mb(t),M=k.x+(~O[0].indexOf("%")?M/100*k.width:M),w=k.y+(~(O[1]||O[0]).indexOf("%")?w/100*k.height:w)),s||s!==!1&&a.smooth?(x=M-c,T=w-u,a.xOffset=h+(x*g+T*m)-x,a.yOffset=f+(x*_+T*b)-T):a.xOffset=a.yOffset=0,a.xOrigin=M,a.yOrigin=w,a.smooth=!!s,a.origin=e,a.originIsAbsolute=!!i,t.style[zn]="0px 0px",o&&(Vs(o,a,"xOrigin",c,M),Vs(o,a,"yOrigin",u,w),Vs(o,a,"xOffset",h,a.xOffset),Vs(o,a,"yOffset",f,a.yOffset)),t.setAttribute("data-svg-origin",M+" "+w)},Ja=function(t,e){var i=t._gsap||new nb(t);if("x"in i&&!e&&!i.uncache)return i;var s=t.style,r=i.scaleX<0,o="px",a="deg",l=getComputedStyle(t),c=di(t,zn)||"0",u,h,f,g,_,m,b,x,T,O,M,w,k,P,A,I,W,R,N,Z,ot,at,nt,st,pt,mt,V,F,ft,Mt,Ot,_t;return u=h=f=m=b=x=T=O=M=0,g=_=1,i.svg=!!(t.getCTM&&_b(t)),l.translate&&((l.translate!=="none"||l.scale!=="none"||l.rotate!=="none")&&(s[Ie]=(l.translate!=="none"?"translate3d("+(l.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(l.rotate!=="none"?"rotate("+l.rotate+") ":"")+(l.scale!=="none"?"scale("+l.scale.split(" ").join(",")+") ":"")+(l[Ie]!=="none"?l[Ie]:"")),s.scale=s.rotate=s.translate="none"),P=hp(t,i.svg),i.svg&&(i.uncache?(pt=t.getBBox(),c=i.xOrigin-pt.x+"px "+(i.yOrigin-pt.y)+"px",st=""):st=!e&&t.getAttribute("data-svg-origin"),rf(t,st||c,!!st||i.originIsAbsolute,i.smooth!==!1,P)),w=i.xOrigin||0,k=i.yOrigin||0,P!==Qa&&(R=P[0],N=P[1],Z=P[2],ot=P[3],u=at=P[4],h=nt=P[5],P.length===6?(g=Math.sqrt(R*R+N*N),_=Math.sqrt(ot*ot+Z*Z),m=R||N?co(N,R)*wr:0,T=Z||ot?co(Z,ot)*wr+m:0,T&&(_*=Math.abs(Math.cos(T*Ao))),i.svg&&(u-=w-(w*R+k*Z),h-=k-(w*N+k*ot))):(_t=P[6],Mt=P[7],V=P[8],F=P[9],ft=P[10],Ot=P[11],u=P[12],h=P[13],f=P[14],A=co(_t,ft),b=A*wr,A&&(I=Math.cos(-A),W=Math.sin(-A),st=at*I+V*W,pt=nt*I+F*W,mt=_t*I+ft*W,V=at*-W+V*I,F=nt*-W+F*I,ft=_t*-W+ft*I,Ot=Mt*-W+Ot*I,at=st,nt=pt,_t=mt),A=co(-Z,ft),x=A*wr,A&&(I=Math.cos(-A),W=Math.sin(-A),st=R*I-V*W,pt=N*I-F*W,mt=Z*I-ft*W,Ot=ot*W+Ot*I,R=st,N=pt,Z=mt),A=co(N,R),m=A*wr,A&&(I=Math.cos(A),W=Math.sin(A),st=R*I+N*W,pt=at*I+nt*W,N=N*I-R*W,nt=nt*I-at*W,R=st,at=pt),b&&Math.abs(b)+Math.abs(m)>359.9&&(b=m=0,x=180-x),g=qe(Math.sqrt(R*R+N*N+Z*Z)),_=qe(Math.sqrt(nt*nt+_t*_t)),A=co(at,nt),T=Math.abs(A)>2e-4?A*wr:0,M=Ot?1/(Ot<0?-Ot:Ot):0),i.svg&&(st=t.getAttribute("transform"),i.forceCSS=t.setAttribute("transform","")||!bb(di(t,Ie)),st&&t.setAttribute("transform",st))),Math.abs(T)>90&&Math.abs(T)<270&&(r?(g*=-1,T+=m<=0?180:-180,m+=m<=0?180:-180):(_*=-1,T+=T<=0?180:-180)),e=e||i.uncache,i.x=u-((i.xPercent=u&&(!e&&i.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-u)?-50:0)))?t.offsetWidth*i.xPercent/100:0)+o,i.y=h-((i.yPercent=h&&(!e&&i.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-h)?-50:0)))?t.offsetHeight*i.yPercent/100:0)+o,i.z=f+o,i.scaleX=qe(g),i.scaleY=qe(_),i.rotation=qe(m)+a,i.rotationX=qe(b)+a,i.rotationY=qe(x)+a,i.skewX=T+a,i.skewY=O+a,i.transformPerspective=M+o,(i.zOrigin=parseFloat(c.split(" ")[2])||!e&&i.zOrigin||0)&&(s[zn]=au(c)),i.xOffset=i.yOffset=0,i.force3D=ei.force3D,i.renderTransform=i.svg?LT:gb?vb:FT,i.uncache=0,i},au=function(t){return(t=t.split(" "))[0]+" "+t[1]},hd=function(t,e,i){var s=bn(e);return qe(parseFloat(e)+parseFloat(Zs(t,"x",i+"px",s)))+s},FT=function(t,e){e.z="0px",e.rotationY=e.rotationX="0deg",e.force3D=0,vb(t,e)},gr="0deg",pa="0px",mr=") ",vb=function(t,e){var i=e||this,s=i.xPercent,r=i.yPercent,o=i.x,a=i.y,l=i.z,c=i.rotation,u=i.rotationY,h=i.rotationX,f=i.skewX,g=i.skewY,_=i.scaleX,m=i.scaleY,b=i.transformPerspective,x=i.force3D,T=i.target,O=i.zOrigin,M="",w=x==="auto"&&t&&t!==1||x===!0;if(O&&(h!==gr||u!==gr)){var k=parseFloat(u)*Ao,P=Math.sin(k),A=Math.cos(k),I;k=parseFloat(h)*Ao,I=Math.cos(k),o=hd(T,o,P*I*-O),a=hd(T,a,-Math.sin(k)*-O),l=hd(T,l,A*I*-O+O)}b!==pa&&(M+="perspective("+b+mr),(s||r)&&(M+="translate("+s+"%, "+r+"%) "),(w||o!==pa||a!==pa||l!==pa)&&(M+=l!==pa||w?"translate3d("+o+", "+a+", "+l+") ":"translate("+o+", "+a+mr),c!==gr&&(M+="rotate("+c+mr),u!==gr&&(M+="rotateY("+u+mr),h!==gr&&(M+="rotateX("+h+mr),(f!==gr||g!==gr)&&(M+="skew("+f+", "+g+mr),(_!==1||m!==1)&&(M+="scale("+_+", "+m+mr),T.style[Ie]=M||"translate(0, 0)"},LT=function(t,e){var i=e||this,s=i.xPercent,r=i.yPercent,o=i.x,a=i.y,l=i.rotation,c=i.skewX,u=i.skewY,h=i.scaleX,f=i.scaleY,g=i.target,_=i.xOrigin,m=i.yOrigin,b=i.xOffset,x=i.yOffset,T=i.forceCSS,O=parseFloat(o),M=parseFloat(a),w,k,P,A,I;l=parseFloat(l),c=parseFloat(c),u=parseFloat(u),u&&(u=parseFloat(u),c+=u,l+=u),l||c?(l*=Ao,c*=Ao,w=Math.cos(l)*h,k=Math.sin(l)*h,P=Math.sin(l-c)*-f,A=Math.cos(l-c)*f,c&&(u*=Ao,I=Math.tan(c-u),I=Math.sqrt(1+I*I),P*=I,A*=I,u&&(I=Math.tan(u),I=Math.sqrt(1+I*I),w*=I,k*=I)),w=qe(w),k=qe(k),P=qe(P),A=qe(A)):(w=h,A=f,k=P=0),(O&&!~(o+"").indexOf("px")||M&&!~(a+"").indexOf("px"))&&(O=Zs(g,"x",o,"px"),M=Zs(g,"y",a,"px")),(_||m||b||x)&&(O=qe(O+_-(_*w+m*P)+b),M=qe(M+m-(_*k+m*A)+x)),(s||r)&&(I=g.getBBox(),O=qe(O+s/100*I.width),M=qe(M+r/100*I.height)),I="matrix("+w+","+k+","+P+","+A+","+O+","+M+")",g.setAttribute("transform",I),T&&(g.style[Ie]=I)},VT=function(t,e,i,s,r){var o=360,a=ln(r),l=parseFloat(r)*(a&&~r.indexOf("rad")?wr:1),c=l-s,u=s+c+"deg",h,f;return a&&(h=r.split("_")[1],h==="short"&&(c%=o,c!==c%(o/2)&&(c+=c<0?o:-o)),h==="cw"&&c<0?c=(c+o*vm)%o-~~(c/o)*o:h==="ccw"&&c>0&&(c=(c-o*vm)%o-~~(c/o)*o)),t._pt=f=new jn(t._pt,e,i,s,c,xT),f.e=u,f.u="deg",t._props.push(i),f},Mm=function(t,e){for(var i in e)t[i]=e[i];return t},BT=function(t,e,i){var s=Mm({},i._gsap),r="perspective,force3D,transformOrigin,svgOrigin",o=i.style,a,l,c,u,h,f,g,_;s.svg?(c=i.getAttribute("transform"),i.setAttribute("transform",""),o[Ie]=e,a=Ja(i,1),Vr(i,Ie),i.setAttribute("transform",c)):(c=getComputedStyle(i)[Ie],o[Ie]=e,a=Ja(i,1),o[Ie]=c);for(l in ms)c=s[l],u=a[l],c!==u&&r.indexOf(l)<0&&(g=bn(c),_=bn(u),h=g!==_?Zs(i,l,c,_):parseFloat(c),f=parseFloat(u),t._pt=new jn(t._pt,a,l,h,f-h,ef),t._pt.u=_||0,t._props.push(l));Mm(a,s)};Wn("padding,margin,Width,Radius",function(n,t){var e="Top",i="Right",s="Bottom",r="Left",o=(t<3?[e,i,s,r]:[e+r,e+i,s+i,s+r]).map(function(a){return t<2?n+a:"border"+a+n});ou[t>1?"border"+n:n]=function(a,l,c,u,h){var f,g;if(arguments.length<4)return f=o.map(function(_){return is(a,_,c)}),g=f.join(" "),g.split(f[0]).length===5?f[0]:g;f=(u+"").split(" "),g={},o.forEach(function(_,m){return g[_]=f[m]=f[m]||f[(m-1)/2|0]}),a.init(l,g,h)}});var xb={name:"css",register:sf,targetTest:function(t){return t.style&&t.nodeType},init:function(t,e,i,s,r){var o=this._props,a=t.style,l=i.vars.startAt,c,u,h,f,g,_,m,b,x,T,O,M,w,k,P,A;lp||sf(),this.styles=this.styles||pb(t),A=this.styles.props,this.tween=i;for(m in e)if(m!=="autoRound"&&(u=e[m],!(Xn[m]&&ib(m,e,i,s,t,r)))){if(g=typeof u,_=ou[m],g==="function"&&(u=u.call(i,s,t,r),g=typeof u),g==="string"&&~u.indexOf("random(")&&(u=Ga(u)),_)_(this,t,m,u,i)&&(P=1);else if(m.substr(0,2)==="--")c=(getComputedStyle(t).getPropertyValue(m)+"").trim(),u+="",$s.lastIndex=0,$s.test(c)||(b=bn(c),x=bn(u)),x?b!==x&&(c=Zs(t,m,c,x)+x):b&&(u+=b),this.add(a,"setProperty",c,u,s,r,0,0,m),o.push(m),A.push(m,0,a[m]);else if(g!=="undefined"){if(l&&m in l?(c=typeof l[m]=="function"?l[m].call(i,s,t,r):l[m],ln(c)&&~c.indexOf("random(")&&(c=Ga(c)),bn(c+"")||c==="auto"||(c+=ei.units[m]||bn(is(t,m))||""),(c+"").charAt(1)==="="&&(c=is(t,m))):c=is(t,m),f=parseFloat(c),T=g==="string"&&u.charAt(1)==="="&&u.substr(0,2),T&&(u=u.substr(2)),h=parseFloat(u),m in Vi&&(m==="autoAlpha"&&(f===1&&is(t,"visibility")==="hidden"&&h&&(f=0),A.push("visibility",0,a.visibility),Vs(this,a,"visibility",f?"inherit":"hidden",h?"inherit":"hidden",!h)),m!=="scale"&&m!=="transform"&&(m=Vi[m],~m.indexOf(",")&&(m=m.split(",")[0]))),O=m in ms,O){if(this.styles.save(m),g==="string"&&u.substring(0,6)==="var(--"&&(u=di(t,u.substring(4,u.indexOf(")"))),h=parseFloat(u)),M||(w=t._gsap,w.renderTransform&&!e.parseTransform||Ja(t,e.parseTransform),k=e.smoothOrigin!==!1&&w.smooth,M=this._pt=new jn(this._pt,a,Ie,0,1,w.renderTransform,w,0,-1),M.dep=1),m==="scale")this._pt=new jn(this._pt,w,"scaleY",w.scaleY,(T?Co(w.scaleY,T+h):h)-w.scaleY||0,ef),this._pt.u=0,o.push("scaleY",m),m+="X";else if(m==="transformOrigin"){A.push(zn,0,a[zn]),u=RT(u),w.svg?rf(t,u,0,k,0,this):(x=parseFloat(u.split(" ")[2])||0,x!==w.zOrigin&&Vs(this,w,"zOrigin",w.zOrigin,x),Vs(this,a,m,au(c),au(u)));continue}else if(m==="svgOrigin"){rf(t,u,1,k,0,this);continue}else if(m in yb){VT(this,w,m,f,T?Co(f,T+u):u);continue}else if(m==="smoothOrigin"){Vs(this,w,"smooth",w.smooth,u);continue}else if(m==="force3D"){w[m]=u;continue}else if(m==="transform"){BT(this,u,t);continue}}else m in a||(m=Vo(m)||m);if(O||(h||h===0)&&(f||f===0)&&!vT.test(u)&&m in a)b=(c+"").substr((f+"").length),h||(h=0),x=bn(u)||(m in ei.units?ei.units[m]:b),b!==x&&(f=Zs(t,m,c,x)),this._pt=new jn(this._pt,O?w:a,m,f,(T?Co(f,T+h):h)-f,!O&&(x==="px"||m==="zIndex")&&e.autoRound!==!1?ST:ef),this._pt.u=x||0,b!==x&&x!=="%"&&(this._pt.b=c,this._pt.r=wT);else if(m in a)IT.call(this,t,m,c,T?T+u:u);else if(m in t)this.add(t,m,c||t[m],T?T+u:u,s,r);else if(m!=="parseTransform"){Qf(m,u);continue}O||(m in a?A.push(m,0,a[m]):typeof t[m]=="function"?A.push(m,2,t[m]()):A.push(m,1,c||t[m])),o.push(m)}}P&&cb(this)},render:function(t,e){if(e.tween._time||!cp())for(var i=e._pt;i;)i.r(t,i.d),i=i._next;else e.styles.revert()},get:is,aliases:Vi,getSetter:function(t,e,i){var s=Vi[e];return s&&s.indexOf(",")<0&&(e=s),e in ms&&e!==zn&&(t._gsap.x||is(t,"x"))?i&&bm===i?e==="scale"?MT:CT:(bm=i||{})&&(e==="scale"?AT:OT):t.style&&!Gf(t.style[e])?TT:~e.indexOf("-")?kT:op(t,e)},core:{_removeProperty:Vr,_getMatrix:hp}};$n.utils.checkPrefix=Vo;$n.core.getStyleSaver=pb;(function(n,t,e,i){var s=Wn(n+","+t+","+e,function(r){ms[r]=1});Wn(t,function(r){ei.units[r]="deg",yb[r]=1}),Vi[s[13]]=n+","+t,Wn(i,function(r){var o=r.split(":");Vi[o[1]]=s[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");Wn("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(n){ei.units[n]="px"});$n.registerPlugin(xb);var Bc=$n.registerPlugin(xb)||$n;Bc.core.Tween;var Cl={};(function n(t,e,i,s){var r=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),o=typeof Path2D=="function"&&typeof DOMMatrix=="function",a=function(){if(!t.OffscreenCanvas)return!1;var V=new OffscreenCanvas(1,1),F=V.getContext("2d");F.fillRect(0,0,1,1);var ft=V.transferToImageBitmap();try{F.createPattern(ft,"no-repeat")}catch{return!1}return!0}();function l(){}function c(V){var F=e.exports.Promise,ft=F!==void 0?F:t.Promise;return typeof ft=="function"?new ft(V):(V(l,l),null)}var u=function(V,F){return{transform:function(ft){if(V)return ft;if(F.has(ft))return F.get(ft);var Mt=new OffscreenCanvas(ft.width,ft.height),Ot=Mt.getContext("2d");return Ot.drawImage(ft,0,0),F.set(ft,Mt),Mt},clear:function(){F.clear()}}}(a,new Map),h=function(){var V=Math.floor(16.666666666666668),F,ft,Mt={},Ot=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(F=function(_t){var Tt=Math.random();return Mt[Tt]=requestAnimationFrame(function Et(yt){Ot===yt||Ot+V-1<yt?(Ot=yt,delete Mt[Tt],_t()):Mt[Tt]=requestAnimationFrame(Et)}),Tt},ft=function(_t){Mt[_t]&&cancelAnimationFrame(Mt[_t])}):(F=function(_t){return setTimeout(_t,V)},ft=function(_t){return clearTimeout(_t)}),{frame:F,cancel:ft}}(),f=function(){var V,F,ft={};function Mt(Ot){function _t(Tt,Et){Ot.postMessage({options:Tt||{},callback:Et})}Ot.init=function(Et){var yt=Et.transferControlToOffscreen();Ot.postMessage({canvas:yt},[yt])},Ot.fire=function(Et,yt,bt){if(F)return _t(Et,null),F;var Kt=Math.random().toString(36).slice(2);return F=c(function(Yt){function E(j){j.data.callback===Kt&&(delete ft[Kt],Ot.removeEventListener("message",E),F=null,u.clear(),bt(),Yt())}Ot.addEventListener("message",E),_t(Et,Kt),ft[Kt]=E.bind(null,{data:{callback:Kt}})}),F},Ot.reset=function(){Ot.postMessage({reset:!0});for(var Et in ft)ft[Et](),delete ft[Et]}}return function(){if(V)return V;if(!i&&r){var Ot=["var CONFETTI, SIZE = {}, module = {};","("+n.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{V=new Worker(URL.createObjectURL(new Blob([Ot])))}catch(_t){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn(" Could not load worker",_t),null}Mt(V)}return V}}(),g={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function _(V,F){return F?F(V):V}function m(V){return V!=null}function b(V,F,ft){return _(V&&m(V[F])?V[F]:g[F],ft)}function x(V){return V<0?0:Math.floor(V)}function T(V,F){return Math.floor(Math.random()*(F-V))+V}function O(V){return parseInt(V,16)}function M(V){return V.map(w)}function w(V){var F=String(V).replace(/[^0-9a-f]/gi,"");return F.length<6&&(F=F[0]+F[0]+F[1]+F[1]+F[2]+F[2]),{r:O(F.substring(0,2)),g:O(F.substring(2,4)),b:O(F.substring(4,6))}}function k(V){var F=b(V,"origin",Object);return F.x=b(F,"x",Number),F.y=b(F,"y",Number),F}function P(V){V.width=document.documentElement.clientWidth,V.height=document.documentElement.clientHeight}function A(V){var F=V.getBoundingClientRect();V.width=F.width,V.height=F.height}function I(V){var F=document.createElement("canvas");return F.style.position="fixed",F.style.top="0px",F.style.left="0px",F.style.pointerEvents="none",F.style.zIndex=V,F}function W(V,F,ft,Mt,Ot,_t,Tt,Et,yt){V.save(),V.translate(F,ft),V.rotate(_t),V.scale(Mt,Ot),V.arc(0,0,1,Tt,Et,yt),V.restore()}function R(V){var F=V.angle*(Math.PI/180),ft=V.spread*(Math.PI/180);return{x:V.x,y:V.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:V.startVelocity*.5+Math.random()*V.startVelocity,angle2D:-F+(.5*ft-Math.random()*ft),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:V.color,shape:V.shape,tick:0,totalTicks:V.ticks,decay:V.decay,drift:V.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:V.gravity*3,ovalScalar:.6,scalar:V.scalar,flat:V.flat}}function N(V,F){F.x+=Math.cos(F.angle2D)*F.velocity+F.drift,F.y+=Math.sin(F.angle2D)*F.velocity+F.gravity,F.velocity*=F.decay,F.flat?(F.wobble=0,F.wobbleX=F.x+10*F.scalar,F.wobbleY=F.y+10*F.scalar,F.tiltSin=0,F.tiltCos=0,F.random=1):(F.wobble+=F.wobbleSpeed,F.wobbleX=F.x+10*F.scalar*Math.cos(F.wobble),F.wobbleY=F.y+10*F.scalar*Math.sin(F.wobble),F.tiltAngle+=.1,F.tiltSin=Math.sin(F.tiltAngle),F.tiltCos=Math.cos(F.tiltAngle),F.random=Math.random()+2);var ft=F.tick++/F.totalTicks,Mt=F.x+F.random*F.tiltCos,Ot=F.y+F.random*F.tiltSin,_t=F.wobbleX+F.random*F.tiltCos,Tt=F.wobbleY+F.random*F.tiltSin;if(V.fillStyle="rgba("+F.color.r+", "+F.color.g+", "+F.color.b+", "+(1-ft)+")",V.beginPath(),o&&F.shape.type==="path"&&typeof F.shape.path=="string"&&Array.isArray(F.shape.matrix))V.fill(st(F.shape.path,F.shape.matrix,F.x,F.y,Math.abs(_t-Mt)*.1,Math.abs(Tt-Ot)*.1,Math.PI/10*F.wobble));else if(F.shape.type==="bitmap"){var Et=Math.PI/10*F.wobble,yt=Math.abs(_t-Mt)*.1,bt=Math.abs(Tt-Ot)*.1,Kt=F.shape.bitmap.width*F.scalar,Yt=F.shape.bitmap.height*F.scalar,E=new DOMMatrix([Math.cos(Et)*yt,Math.sin(Et)*yt,-Math.sin(Et)*bt,Math.cos(Et)*bt,F.x,F.y]);E.multiplySelf(new DOMMatrix(F.shape.matrix));var j=V.createPattern(u.transform(F.shape.bitmap),"no-repeat");j.setTransform(E),V.globalAlpha=1-ft,V.fillStyle=j,V.fillRect(F.x-Kt/2,F.y-Yt/2,Kt,Yt),V.globalAlpha=1}else if(F.shape==="circle")V.ellipse?V.ellipse(F.x,F.y,Math.abs(_t-Mt)*F.ovalScalar,Math.abs(Tt-Ot)*F.ovalScalar,Math.PI/10*F.wobble,0,2*Math.PI):W(V,F.x,F.y,Math.abs(_t-Mt)*F.ovalScalar,Math.abs(Tt-Ot)*F.ovalScalar,Math.PI/10*F.wobble,0,2*Math.PI);else if(F.shape==="star")for(var Q=Math.PI/2*3,H=4*F.scalar,J=8*F.scalar,rt=F.x,gt=F.y,lt=5,ht=Math.PI/lt;lt--;)rt=F.x+Math.cos(Q)*J,gt=F.y+Math.sin(Q)*J,V.lineTo(rt,gt),Q+=ht,rt=F.x+Math.cos(Q)*H,gt=F.y+Math.sin(Q)*H,V.lineTo(rt,gt),Q+=ht;else V.moveTo(Math.floor(F.x),Math.floor(F.y)),V.lineTo(Math.floor(F.wobbleX),Math.floor(Ot)),V.lineTo(Math.floor(_t),Math.floor(Tt)),V.lineTo(Math.floor(Mt),Math.floor(F.wobbleY));return V.closePath(),V.fill(),F.tick<F.totalTicks}function Z(V,F,ft,Mt,Ot){var _t=F.slice(),Tt=V.getContext("2d"),Et,yt,bt=c(function(Kt){function Yt(){Et=yt=null,Tt.clearRect(0,0,Mt.width,Mt.height),u.clear(),Ot(),Kt()}function E(){i&&!(Mt.width===s.width&&Mt.height===s.height)&&(Mt.width=V.width=s.width,Mt.height=V.height=s.height),!Mt.width&&!Mt.height&&(ft(V),Mt.width=V.width,Mt.height=V.height),Tt.clearRect(0,0,Mt.width,Mt.height),_t=_t.filter(function(j){return N(Tt,j)}),_t.length?Et=h.frame(E):Yt()}Et=h.frame(E),yt=Yt});return{addFettis:function(Kt){return _t=_t.concat(Kt),bt},canvas:V,promise:bt,reset:function(){Et&&h.cancel(Et),yt&&yt()}}}function ot(V,F){var ft=!V,Mt=!!b(F||{},"resize"),Ot=!1,_t=b(F,"disableForReducedMotion",Boolean),Tt=r&&!!b(F||{},"useWorker"),Et=Tt?f():null,yt=ft?P:A,bt=V&&Et?!!V.__confetti_initialized:!1,Kt=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Yt;function E(Q,H,J){for(var rt=b(Q,"particleCount",x),gt=b(Q,"angle",Number),lt=b(Q,"spread",Number),ht=b(Q,"startVelocity",Number),dt=b(Q,"decay",Number),Rt=b(Q,"gravity",Number),wt=b(Q,"drift",Number),Ft=b(Q,"colors",M),Lt=b(Q,"ticks",Number),Bt=b(Q,"shapes"),Jt=b(Q,"scalar"),ne=!!b(Q,"flat"),De=k(Q),Be=rt,Qe=[],Ke=V.width*De.x,ri=V.height*De.y;Be--;)Qe.push(R({x:Ke,y:ri,angle:gt,spread:lt,startVelocity:ht,color:Ft[Be%Ft.length],shape:Bt[T(0,Bt.length)],ticks:Lt,decay:dt,gravity:Rt,drift:wt,scalar:Jt,flat:ne}));return Yt?Yt.addFettis(Qe):(Yt=Z(V,Qe,yt,H,J),Yt.promise)}function j(Q){var H=_t||b(Q,"disableForReducedMotion",Boolean),J=b(Q,"zIndex",Number);if(H&&Kt)return c(function(ht){ht()});ft&&Yt?V=Yt.canvas:ft&&!V&&(V=I(J),document.body.appendChild(V)),Mt&&!bt&&yt(V);var rt={width:V.width,height:V.height};Et&&!bt&&Et.init(V),bt=!0,Et&&(V.__confetti_initialized=!0);function gt(){if(Et){var ht={getBoundingClientRect:function(){if(!ft)return V.getBoundingClientRect()}};yt(ht),Et.postMessage({resize:{width:ht.width,height:ht.height}});return}rt.width=rt.height=null}function lt(){Yt=null,Mt&&(Ot=!1,t.removeEventListener("resize",gt)),ft&&V&&(document.body.contains(V)&&document.body.removeChild(V),V=null,bt=!1)}return Mt&&!Ot&&(Ot=!0,t.addEventListener("resize",gt,!1)),Et?Et.fire(Q,rt,lt):E(Q,rt,lt)}return j.reset=function(){Et&&Et.reset(),Yt&&Yt.reset()},j}var at;function nt(){return at||(at=ot(null,{useWorker:!0,resize:!0})),at}function st(V,F,ft,Mt,Ot,_t,Tt){var Et=new Path2D(V),yt=new Path2D;yt.addPath(Et,new DOMMatrix(F));var bt=new Path2D;return bt.addPath(yt,new DOMMatrix([Math.cos(Tt)*Ot,Math.sin(Tt)*Ot,-Math.sin(Tt)*_t,Math.cos(Tt)*_t,ft,Mt])),bt}function pt(V){if(!o)throw new Error("path confetti are not supported in this browser");var F,ft;typeof V=="string"?F=V:(F=V.path,ft=V.matrix);var Mt=new Path2D(F),Ot=document.createElement("canvas"),_t=Ot.getContext("2d");if(!ft){for(var Tt=1e3,Et=Tt,yt=Tt,bt=0,Kt=0,Yt,E,j=0;j<Tt;j+=2)for(var Q=0;Q<Tt;Q+=2)_t.isPointInPath(Mt,j,Q,"nonzero")&&(Et=Math.min(Et,j),yt=Math.min(yt,Q),bt=Math.max(bt,j),Kt=Math.max(Kt,Q));Yt=bt-Et,E=Kt-yt;var H=10,J=Math.min(H/Yt,H/E);ft=[J,0,0,J,-Math.round(Yt/2+Et)*J,-Math.round(E/2+yt)*J]}return{type:"path",path:F,matrix:ft}}function mt(V){var F,ft=1,Mt="#000000",Ot='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof V=="string"?F=V:(F=V.text,ft="scalar"in V?V.scalar:ft,Ot="fontFamily"in V?V.fontFamily:Ot,Mt="color"in V?V.color:Mt);var _t=10*ft,Tt=""+_t+"px "+Ot,Et=new OffscreenCanvas(_t,_t),yt=Et.getContext("2d");yt.font=Tt;var bt=yt.measureText(F),Kt=Math.ceil(bt.actualBoundingBoxRight+bt.actualBoundingBoxLeft),Yt=Math.ceil(bt.actualBoundingBoxAscent+bt.actualBoundingBoxDescent),E=2,j=bt.actualBoundingBoxLeft+E,Q=bt.actualBoundingBoxAscent+E;Kt+=E+E,Yt+=E+E,Et=new OffscreenCanvas(Kt,Yt),yt=Et.getContext("2d"),yt.font=Tt,yt.fillStyle=Mt,yt.fillText(F,j,Q);var H=1/ft;return{type:"bitmap",bitmap:Et.transferToImageBitmap(),matrix:[H,0,0,H,-Kt*H/2,-Yt*H/2]}}e.exports=function(){return nt().apply(this,arguments)},e.exports.reset=function(){nt().reset()},e.exports.create=ot,e.exports.shapeFromPath=pt,e.exports.shapeFromText=mt})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),Cl,!1);const WT=Cl.exports;Cl.exports.create;/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Ml(n){return n+.5|0}const Bs=(n,t,e)=>Math.max(Math.min(n,e),t);function Sa(n){return Bs(Ml(n*2.55),0,255)}function Us(n){return Bs(Ml(n*255),0,255)}function ss(n){return Bs(Ml(n/2.55)/100,0,1)}function Am(n){return Bs(Ml(n*100),0,100)}const ai={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},of=[..."0123456789ABCDEF"],jT=n=>of[n&15],zT=n=>of[(n&240)>>4]+of[n&15],fc=n=>(n&240)>>4===(n&15),qT=n=>fc(n.r)&&fc(n.g)&&fc(n.b)&&fc(n.a);function $T(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&ai[n[1]]*17,g:255&ai[n[2]]*17,b:255&ai[n[3]]*17,a:t===5?ai[n[4]]*17:255}:(t===7||t===9)&&(e={r:ai[n[1]]<<4|ai[n[2]],g:ai[n[3]]<<4|ai[n[4]],b:ai[n[5]]<<4|ai[n[6]],a:t===9?ai[n[7]]<<4|ai[n[8]]:255})),e}const UT=(n,t)=>n<255?t(n):"";function HT(n){var t=qT(n)?jT:zT;return n?"#"+t(n.r)+t(n.g)+t(n.b)+UT(n.a,t):void 0}const KT=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function wb(n,t,e){const i=t*Math.min(e,1-e),s=(r,o=(r+n/30)%12)=>e-i*Math.max(Math.min(o-3,9-o,1),-1);return[s(0),s(8),s(4)]}function YT(n,t,e){const i=(s,r=(s+n/60)%6)=>e-e*t*Math.max(Math.min(r,4-r,1),0);return[i(5),i(3),i(1)]}function GT(n,t,e){const i=wb(n,1,.5);let s;for(t+e>1&&(s=1/(t+e),t*=s,e*=s),s=0;s<3;s++)i[s]*=1-t-e,i[s]+=t;return i}function XT(n,t,e,i,s){return n===s?(t-e)/i+(t<e?6:0):t===s?(e-n)/i+2:(n-t)/i+4}function dp(n){const e=n.r/255,i=n.g/255,s=n.b/255,r=Math.max(e,i,s),o=Math.min(e,i,s),a=(r+o)/2;let l,c,u;return r!==o&&(u=r-o,c=a>.5?u/(2-r-o):u/(r+o),l=XT(e,i,s,u,r),l=l*60+.5),[l|0,c||0,a]}function fp(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(Us)}function pp(n,t,e){return fp(wb,n,t,e)}function ZT(n,t,e){return fp(GT,n,t,e)}function QT(n,t,e){return fp(YT,n,t,e)}function Sb(n){return(n%360+360)%360}function JT(n){const t=KT.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?Sa(+t[5]):Us(+t[5]));const s=Sb(+t[2]),r=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?i=ZT(s,r,o):t[1]==="hsv"?i=QT(s,r,o):i=pp(s,r,o),{r:i[0],g:i[1],b:i[2],a:e}}function tk(n,t){var e=dp(n);e[0]=Sb(e[0]+t),e=pp(e),n.r=e[0],n.g=e[1],n.b=e[2]}function ek(n){if(!n)return;const t=dp(n),e=t[0],i=Am(t[1]),s=Am(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${s}%, ${ss(n.a)})`:`hsl(${e}, ${i}%, ${s}%)`}const Om={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Pm={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function nk(){const n={},t=Object.keys(Pm),e=Object.keys(Om);let i,s,r,o,a;for(i=0;i<t.length;i++){for(o=a=t[i],s=0;s<e.length;s++)r=e[s],a=a.replace(r,Om[r]);r=parseInt(Pm[o],16),n[a]=[r>>16&255,r>>8&255,r&255]}return n}let pc;function ik(n){pc||(pc=nk(),pc.transparent=[0,0,0,0]);const t=pc[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const sk=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function rk(n){const t=sk.exec(n);let e=255,i,s,r;if(t){if(t[7]!==i){const o=+t[7];e=t[8]?Sa(o):Bs(o*255,0,255)}return i=+t[1],s=+t[3],r=+t[5],i=255&(t[2]?Sa(i):Bs(i,0,255)),s=255&(t[4]?Sa(s):Bs(s,0,255)),r=255&(t[6]?Sa(r):Bs(r,0,255)),{r:i,g:s,b:r,a:e}}}function ok(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${ss(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const dd=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,uo=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function ak(n,t,e){const i=uo(ss(n.r)),s=uo(ss(n.g)),r=uo(ss(n.b));return{r:Us(dd(i+e*(uo(ss(t.r))-i))),g:Us(dd(s+e*(uo(ss(t.g))-s))),b:Us(dd(r+e*(uo(ss(t.b))-r))),a:n.a+e*(t.a-n.a)}}function gc(n,t,e){if(n){let i=dp(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=pp(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function Tb(n,t){return n&&Object.assign(t||{},n)}function Dm(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=Us(n[3]))):(t=Tb(n,{r:0,g:0,b:0,a:1}),t.a=Us(t.a)),t}function lk(n){return n.charAt(0)==="r"?rk(n):JT(n)}class tl{constructor(t){if(t instanceof tl)return t;const e=typeof t;let i;e==="object"?i=Dm(t):e==="string"&&(i=$T(t)||ik(t)||lk(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=Tb(this._rgb);return t&&(t.a=ss(t.a)),t}set rgb(t){this._rgb=Dm(t)}rgbString(){return this._valid?ok(this._rgb):void 0}hexString(){return this._valid?HT(this._rgb):void 0}hslString(){return this._valid?ek(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,s=t.rgb;let r;const o=e===r?.5:e,a=2*o-1,l=i.a-s.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;r=1-c,i.r=255&c*i.r+r*s.r+.5,i.g=255&c*i.g+r*s.g+.5,i.b=255&c*i.b+r*s.b+.5,i.a=o*i.a+(1-o)*s.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=ak(this._rgb,t._rgb,e)),this}clone(){return new tl(this.rgb)}alpha(t){return this._rgb.a=Us(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=Ml(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return gc(this._rgb,2,t),this}darken(t){return gc(this._rgb,2,-t),this}saturate(t){return gc(this._rgb,1,t),this}desaturate(t){return gc(this._rgb,1,-t),this}rotate(t){return tk(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Zi(){}const ck=(()=>{let n=0;return()=>n++})();function Zt(n){return n==null}function Oe(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function ee(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Le(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Gn(n,t){return Le(n)?n:t}function jt(n,t){return typeof n>"u"?t:n}const uk=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/t,kb=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function ye(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function ce(n,t,e,i){let s,r,o;if(Oe(n))for(r=n.length,s=0;s<r;s++)t.call(e,n[s],s);else if(ee(n))for(o=Object.keys(n),r=o.length,s=0;s<r;s++)t.call(e,n[o[s]],o[s])}function lu(n,t){let e,i,s,r;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(s=n[e],r=t[e],s.datasetIndex!==r.datasetIndex||s.index!==r.index)return!1;return!0}function cu(n){if(Oe(n))return n.map(cu);if(ee(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let s=0;for(;s<i;++s)t[e[s]]=cu(n[e[s]]);return t}return n}function Cb(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function hk(n,t,e,i){if(!Cb(n))return;const s=t[n],r=e[n];ee(s)&&ee(r)?el(s,r,i):t[n]=cu(r)}function el(n,t,e){const i=Oe(t)?t:[t],s=i.length;if(!ee(n))return n;e=e||{};const r=e.merger||hk;let o;for(let a=0;a<s;++a){if(o=i[a],!ee(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)r(l[c],n,o,e)}return n}function La(n,t){return el(n,t,{merger:dk})}function dk(n,t,e){if(!Cb(n))return;const i=t[n],s=e[n];ee(i)&&ee(s)?La(i,s):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=cu(s))}const Em={"":n=>n,x:n=>n.x,y:n=>n.y};function fk(n){const t=n.split("."),e=[];let i="";for(const s of t)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function pk(n){const t=fk(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function Qs(n,t){return(Em[t]||(Em[t]=pk(t)))(n)}function gp(n){return n.charAt(0).toUpperCase()+n.slice(1)}const nl=n=>typeof n<"u",Js=n=>typeof n=="function",Im=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function gk(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const oe=Math.PI,we=2*oe,mk=we+oe,uu=Number.POSITIVE_INFINITY,_k=oe/180,Ue=oe/2,_r=oe/4,Rm=oe*2/3,Ws=Math.log10,Wi=Math.sign;function Va(n,t,e){return Math.abs(n-t)<e}function Nm(n){const t=Math.round(n);n=Va(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(Ws(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function yk(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((s,r)=>s-r).pop(),t}function bk(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Bo(n){return!bk(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function vk(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function Mb(n,t,e){let i,s,r;for(i=0,s=n.length;i<s;i++)r=n[i][e],isNaN(r)||(t.min=Math.min(t.min,r),t.max=Math.max(t.max,r))}function bi(n){return n*(oe/180)}function mp(n){return n*(180/oe)}function Fm(n){if(!Le(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function Ab(n,t){const e=t.x-n.x,i=t.y-n.y,s=Math.sqrt(e*e+i*i);let r=Math.atan2(i,e);return r<-.5*oe&&(r+=we),{angle:r,distance:s}}function af(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function xk(n,t){return(n-t+mk)%we-oe}function _n(n){return(n%we+we)%we}function il(n,t,e,i){const s=_n(n),r=_n(t),o=_n(e),a=_n(r-s),l=_n(o-s),c=_n(s-r),u=_n(s-o);return s===r||s===o||i&&r===o||a>l&&c<u}function on(n,t,e){return Math.max(t,Math.min(e,n))}function wk(n){return on(n,-32768,32767)}function cs(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function _p(n,t,e){e=e||(o=>n[o]<t);let i=n.length-1,s=0,r;for(;i-s>1;)r=s+i>>1,e(r)?s=r:i=r;return{lo:s,hi:i}}const us=(n,t,e,i)=>_p(n,e,i?s=>{const r=n[s][t];return r<e||r===e&&n[s+1][t]===e}:s=>n[s][t]<e),Sk=(n,t,e)=>_p(n,e,i=>n[i][t]>=e);function Tk(n,t,e){let i=0,s=n.length;for(;i<s&&n[i]<t;)i++;for(;s>i&&n[s-1]>e;)s--;return i>0||s<n.length?n.slice(i,s):n}const Ob=["push","pop","shift","splice","unshift"];function kk(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Ob.forEach(e=>{const i="_onData"+gp(e),s=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...r){const o=s.apply(this,r);return n._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...r)}),o}})})}function Lm(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,s=i.indexOf(t);s!==-1&&i.splice(s,1),!(i.length>0)&&(Ob.forEach(r=>{delete n[r]}),delete n._chartjs)}function Pb(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const Db=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function Eb(n,t){let e=[],i=!1;return function(...s){e=s,i||(i=!0,Db.call(window,()=>{i=!1,n.apply(t,e)}))}}function Ck(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const yp=n=>n==="start"?"left":n==="end"?"right":"center",mn=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,Mk=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t;function Ib(n,t,e){const i=t.length;let s=0,r=i;if(n._sorted){const{iScale:o,vScale:a,_parsed:l}=n,c=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,u=o.axis,{min:h,max:f,minDefined:g,maxDefined:_}=o.getUserBounds();if(g){if(s=Math.min(us(l,u,h).lo,e?i:us(t,u,o.getPixelForValue(h)).lo),c){const m=l.slice(0,s+1).reverse().findIndex(b=>!Zt(b[a.axis]));s-=Math.max(0,m)}s=on(s,0,i-1)}if(_){let m=Math.max(us(l,o.axis,f,!0).hi+1,e?0:us(t,u,o.getPixelForValue(f),!0).hi+1);if(c){const b=l.slice(m-1).findIndex(x=>!Zt(x[a.axis]));m+=Math.max(0,b)}r=on(m,s,i)-s}else r=i-s}return{start:s,count:r}}function Rb(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,s={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=s,!0;const r=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,s),r}const mc=n=>n===0||n===1,Vm=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*we/e)),Bm=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*we/e)+1,Ba={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Ue)+1,easeOutSine:n=>Math.sin(n*Ue),easeInOutSine:n=>-.5*(Math.cos(oe*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>mc(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>mc(n)?n:Vm(n,.075,.3),easeOutElastic:n=>mc(n)?n:Bm(n,.075,.3),easeInOutElastic(n){return mc(n)?n:n<.5?.5*Vm(n*2,.1125,.45):.5+.5*Bm(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-Ba.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Ba.easeInBounce(n*2)*.5:Ba.easeOutBounce(n*2-1)*.5+.5};function bp(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Wm(n){return bp(n)?n:new tl(n)}function fd(n){return bp(n)?n:new tl(n).saturate(.5).darken(.1).hexString()}const Ak=["x","y","borderWidth","radius","tension"],Ok=["color","borderColor","backgroundColor"];function Pk(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:Ok},numbers:{type:"number",properties:Ak}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function Dk(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const jm=new Map;function Ek(n,t){t=t||{};const e=n+JSON.stringify(t);let i=jm.get(e);return i||(i=new Intl.NumberFormat(n,t),jm.set(e,i)),i}function Al(n,t,e){return Ek(t,e).format(n)}const Nb={values(n){return Oe(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let s,r=n;if(e.length>1){const c=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(c<1e-4||c>1e15)&&(s="scientific"),r=Ik(n,e)}const o=Ws(Math.abs(r)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:s,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Al(n,i,l)},logarithmic(n,t,e){if(n===0)return"0";const i=e[t].significand||n/Math.pow(10,Math.floor(Ws(n)));return[1,2,3,5,10,15].includes(i)||t>.8*e.length?Nb.numeric.call(this,n,t,e):""}};function Ik(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var Zu={formatters:Nb};function Rk(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Zu.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Br=Object.create(null),lf=Object.create(null);function Wa(n,t){if(!t)return n;const e=t.split(".");for(let i=0,s=e.length;i<s;++i){const r=e[i];n=n[r]||(n[r]=Object.create(null))}return n}function pd(n,t,e){return typeof t=="string"?el(Wa(n,t),e):el(Wa(n,""),t)}class Nk{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>fd(s.backgroundColor),this.hoverBorderColor=(i,s)=>fd(s.borderColor),this.hoverColor=(i,s)=>fd(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return pd(this,t,e)}get(t){return Wa(this,t)}describe(t,e){return pd(lf,t,e)}override(t,e){return pd(Br,t,e)}route(t,e,i,s){const r=Wa(this,t),o=Wa(this,i),a="_"+e;Object.defineProperties(r,{[a]:{value:r[e],writable:!0},[e]:{enumerable:!0,get(){const l=this[a],c=o[s];return ee(l)?Object.assign({},c,l):jt(l,c)},set(l){this[a]=l}}})}apply(t){t.forEach(e=>e(this))}}var Pe=new Nk({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Pk,Dk,Rk]);function Fk(n){return!n||Zt(n.size)||Zt(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function hu(n,t,e,i,s){let r=t[s];return r||(r=t[s]=n.measureText(s).width,e.push(s)),r>i&&(i=r),i}function Lk(n,t,e,i){i=i||{};let s=i.data=i.data||{},r=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(s=i.data={},r=i.garbageCollect=[],i.font=t),n.save(),n.font=t;let o=0;const a=e.length;let l,c,u,h,f;for(l=0;l<a;l++)if(h=e[l],h!=null&&!Oe(h))o=hu(n,s,r,o,h);else if(Oe(h))for(c=0,u=h.length;c<u;c++)f=h[c],f!=null&&!Oe(f)&&(o=hu(n,s,r,o,f));n.restore();const g=r.length/2;if(g>e.length){for(l=0;l<g;l++)delete s[r[l]];r.splice(0,g)}return o}function yr(n,t,e){const i=n.currentDevicePixelRatio,s=e!==0?Math.max(e/2,.5):0;return Math.round((t-s)*i)/i+s}function zm(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function cf(n,t,e,i){Fb(n,t,e,i,null)}function Fb(n,t,e,i,s){let r,o,a,l,c,u,h,f;const g=t.pointStyle,_=t.rotation,m=t.radius;let b=(_||0)*_k;if(g&&typeof g=="object"&&(r=g.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(b),n.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),n.restore();return}if(!(isNaN(m)||m<=0)){switch(n.beginPath(),g){default:s?n.ellipse(e,i,s/2,m,0,0,we):n.arc(e,i,m,0,we),n.closePath();break;case"triangle":u=s?s/2:m,n.moveTo(e+Math.sin(b)*u,i-Math.cos(b)*m),b+=Rm,n.lineTo(e+Math.sin(b)*u,i-Math.cos(b)*m),b+=Rm,n.lineTo(e+Math.sin(b)*u,i-Math.cos(b)*m),n.closePath();break;case"rectRounded":c=m*.516,l=m-c,o=Math.cos(b+_r)*l,h=Math.cos(b+_r)*(s?s/2-c:l),a=Math.sin(b+_r)*l,f=Math.sin(b+_r)*(s?s/2-c:l),n.arc(e-h,i-a,c,b-oe,b-Ue),n.arc(e+f,i-o,c,b-Ue,b),n.arc(e+h,i+a,c,b,b+Ue),n.arc(e-f,i+o,c,b+Ue,b+oe),n.closePath();break;case"rect":if(!_){l=Math.SQRT1_2*m,u=s?s/2:l,n.rect(e-u,i-l,2*u,2*l);break}b+=_r;case"rectRot":h=Math.cos(b)*(s?s/2:m),o=Math.cos(b)*m,a=Math.sin(b)*m,f=Math.sin(b)*(s?s/2:m),n.moveTo(e-h,i-a),n.lineTo(e+f,i-o),n.lineTo(e+h,i+a),n.lineTo(e-f,i+o),n.closePath();break;case"crossRot":b+=_r;case"cross":h=Math.cos(b)*(s?s/2:m),o=Math.cos(b)*m,a=Math.sin(b)*m,f=Math.sin(b)*(s?s/2:m),n.moveTo(e-h,i-a),n.lineTo(e+h,i+a),n.moveTo(e+f,i-o),n.lineTo(e-f,i+o);break;case"star":h=Math.cos(b)*(s?s/2:m),o=Math.cos(b)*m,a=Math.sin(b)*m,f=Math.sin(b)*(s?s/2:m),n.moveTo(e-h,i-a),n.lineTo(e+h,i+a),n.moveTo(e+f,i-o),n.lineTo(e-f,i+o),b+=_r,h=Math.cos(b)*(s?s/2:m),o=Math.cos(b)*m,a=Math.sin(b)*m,f=Math.sin(b)*(s?s/2:m),n.moveTo(e-h,i-a),n.lineTo(e+h,i+a),n.moveTo(e+f,i-o),n.lineTo(e-f,i+o);break;case"line":o=s?s/2:Math.cos(b)*m,a=Math.sin(b)*m,n.moveTo(e-o,i-a),n.lineTo(e+o,i+a);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(b)*(s?s/2:m),i+Math.sin(b)*m);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function hs(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function Qu(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function Ju(n){n.restore()}function Vk(n,t,e,i,s){if(!t)return n.lineTo(e.x,e.y);if(s==="middle"){const r=(t.x+e.x)/2;n.lineTo(r,t.y),n.lineTo(r,e.y)}else s==="after"!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function Bk(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function Wk(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),Zt(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function jk(n,t,e,i,s){if(s.strikethrough||s.underline){const r=n.measureText(i),o=t-r.actualBoundingBoxLeft,a=t+r.actualBoundingBoxRight,l=e-r.actualBoundingBoxAscent,c=e+r.actualBoundingBoxDescent,u=s.strikethrough?(l+c)/2:c;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=s.decorationWidth||2,n.moveTo(o,u),n.lineTo(a,u),n.stroke()}}function zk(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function Wr(n,t,e,i,s,r={}){const o=Oe(t)?t:[t],a=r.strokeWidth>0&&r.strokeColor!=="";let l,c;for(n.save(),n.font=s.string,Wk(n,r),l=0;l<o.length;++l)c=o[l],r.backdrop&&zk(n,r.backdrop),a&&(r.strokeColor&&(n.strokeStyle=r.strokeColor),Zt(r.strokeWidth)||(n.lineWidth=r.strokeWidth),n.strokeText(c,e,i,r.maxWidth)),n.fillText(c,e,i,r.maxWidth),jk(n,e,i,c,r),i+=Number(s.lineHeight);n.restore()}function sl(n,t){const{x:e,y:i,w:s,h:r,radius:o}=t;n.arc(e+o.topLeft,i+o.topLeft,o.topLeft,1.5*oe,oe,!0),n.lineTo(e,i+r-o.bottomLeft),n.arc(e+o.bottomLeft,i+r-o.bottomLeft,o.bottomLeft,oe,Ue,!0),n.lineTo(e+s-o.bottomRight,i+r),n.arc(e+s-o.bottomRight,i+r-o.bottomRight,o.bottomRight,Ue,0,!0),n.lineTo(e+s,i+o.topRight),n.arc(e+s-o.topRight,i+o.topRight,o.topRight,0,-Ue,!0),n.lineTo(e+o.topLeft,i)}const qk=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,$k=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Uk(n,t){const e=(""+n).match(qk);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const Hk=n=>+n||0;function vp(n,t){const e={},i=ee(t),s=i?Object.keys(t):t,r=ee(n)?i?o=>jt(n[o],n[t[o]]):o=>n[o]:()=>n;for(const o of s)e[o]=Hk(r(o));return e}function Lb(n){return vp(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Rr(n){return vp(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Tn(n){const t=Lb(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Je(n,t){n=n||{},t=t||Pe.font;let e=jt(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=jt(n.style,t.style);i&&!(""+i).match($k)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:jt(n.family,t.family),lineHeight:Uk(jt(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:jt(n.weight,t.weight),string:""};return s.string=Fk(s),s}function Ta(n,t,e,i){let s,r,o;for(s=0,r=n.length;s<r;++s)if(o=n[s],o!==void 0&&o!==void 0)return o}function Kk(n,t,e){const{min:i,max:s}=n,r=kb(t,(s-i)/2),o=(a,l)=>e&&a===0?0:a+l;return{min:o(i,-Math.abs(r)),max:o(s,r)}}function ir(n,t){return Object.assign(Object.create(n),t)}function xp(n,t=[""],e,i,s=()=>n[0]){const r=e||n;typeof i>"u"&&(i=jb("_fallback",n));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:r,_fallback:i,_getTarget:s,override:a=>xp([a,...n],t,r,i)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete n[0][l],!0},get(a,l){return Bb(a,l,()=>eC(l,t,n,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(a,l){return $m(a).includes(l)},ownKeys(a){return $m(a)},set(a,l,c){const u=a._storage||(a._storage=s());return a[l]=u[l]=c,delete a._keys,!0}})}function Wo(n,t,e,i){const s={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:Vb(n,i),setContext:r=>Wo(n,r,e,i),override:r=>Wo(n.override(r),t,e,i)};return new Proxy(s,{deleteProperty(r,o){return delete r[o],delete n[o],!0},get(r,o,a){return Bb(r,o,()=>Gk(r,o,a))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(n,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,o)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(r,o){return Reflect.has(n,o)},ownKeys(){return Reflect.ownKeys(n)},set(r,o,a){return n[o]=a,delete r[o],!0}})}function Vb(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:s=t.allKeys}=n;return{allKeys:s,scriptable:e,indexable:i,isScriptable:Js(e)?e:()=>e,isIndexable:Js(i)?i:()=>i}}const Yk=(n,t)=>n?n+gp(t):t,wp=(n,t)=>ee(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function Bb(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function Gk(n,t,e){const{_proxy:i,_context:s,_subProxy:r,_descriptors:o}=n;let a=i[t];return Js(a)&&o.isScriptable(t)&&(a=Xk(t,a,n,e)),Oe(a)&&a.length&&(a=Zk(t,a,n,o.isIndexable)),wp(t,a)&&(a=Wo(a,s,r&&r[t],o)),a}function Xk(n,t,e,i){const{_proxy:s,_context:r,_subProxy:o,_stack:a}=e;if(a.has(n))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+n);a.add(n);let l=t(r,o||i);return a.delete(n),wp(n,l)&&(l=Sp(s._scopes,s,n,l)),l}function Zk(n,t,e,i){const{_proxy:s,_context:r,_subProxy:o,_descriptors:a}=e;if(typeof r.index<"u"&&i(n))return t[r.index%t.length];if(ee(t[0])){const l=t,c=s._scopes.filter(u=>u!==l);t=[];for(const u of l){const h=Sp(c,s,n,u);t.push(Wo(h,r,o&&o[n],a))}}return t}function Wb(n,t,e){return Js(n)?n(t,e):n}const Qk=(n,t)=>n===!0?t:typeof n=="string"?Qs(t,n):void 0;function Jk(n,t,e,i,s){for(const r of t){const o=Qk(e,r);if(o){n.add(o);const a=Wb(o._fallback,e,s);if(typeof a<"u"&&a!==e&&a!==i)return a}else if(o===!1&&typeof i<"u"&&e!==i)return null}return!1}function Sp(n,t,e,i){const s=t._rootScopes,r=Wb(t._fallback,e,i),o=[...n,...s],a=new Set;a.add(i);let l=qm(a,o,e,r||e,i);return l===null||typeof r<"u"&&r!==e&&(l=qm(a,o,r,l,i),l===null)?!1:xp(Array.from(a),[""],s,r,()=>tC(t,e,i))}function qm(n,t,e,i,s){for(;e;)e=Jk(n,t,e,i,s);return e}function tC(n,t,e){const i=n._getTarget();t in i||(i[t]={});const s=i[t];return Oe(s)&&ee(e)?e:s||{}}function eC(n,t,e,i){let s;for(const r of t)if(s=jb(Yk(r,n),e),typeof s<"u")return wp(n,s)?Sp(e,i,n,s):s}function jb(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function $m(n){let t=n._keys;return t||(t=n._keys=nC(n._scopes)),t}function nC(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(s=>!s.startsWith("_")))t.add(i);return Array.from(t)}function zb(n,t,e,i){const{iScale:s}=n,{key:r="r"}=this._parsing,o=new Array(i);let a,l,c,u;for(a=0,l=i;a<l;++a)c=a+e,u=t[c],o[a]={r:s.parse(Qs(u,r),c)};return o}const iC=Number.EPSILON||1e-14,jo=(n,t)=>t<n.length&&!n[t].skip&&n[t],qb=n=>n==="x"?"y":"x";function sC(n,t,e,i){const s=n.skip?t:n,r=t,o=e.skip?t:e,a=af(r,s),l=af(o,r);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=i*c,f=i*u;return{previous:{x:r.x-h*(o.x-s.x),y:r.y-h*(o.y-s.y)},next:{x:r.x+f*(o.x-s.x),y:r.y+f*(o.y-s.y)}}}function rC(n,t,e){const i=n.length;let s,r,o,a,l,c=jo(n,0);for(let u=0;u<i-1;++u)if(l=c,c=jo(n,u+1),!(!l||!c)){if(Va(t[u],0,iC)){e[u]=e[u+1]=0;continue}s=e[u]/t[u],r=e[u+1]/t[u],a=Math.pow(s,2)+Math.pow(r,2),!(a<=9)&&(o=3/Math.sqrt(a),e[u]=s*o*t[u],e[u+1]=r*o*t[u])}}function oC(n,t,e="x"){const i=qb(e),s=n.length;let r,o,a,l=jo(n,0);for(let c=0;c<s;++c){if(o=a,a=l,l=jo(n,c+1),!a)continue;const u=a[e],h=a[i];o&&(r=(u-o[e])/3,a[`cp1${e}`]=u-r,a[`cp1${i}`]=h-r*t[c]),l&&(r=(l[e]-u)/3,a[`cp2${e}`]=u+r,a[`cp2${i}`]=h+r*t[c])}}function aC(n,t="x"){const e=qb(t),i=n.length,s=Array(i).fill(0),r=Array(i);let o,a,l,c=jo(n,0);for(o=0;o<i;++o)if(a=l,l=c,c=jo(n,o+1),!!l){if(c){const u=c[t]-l[t];s[o]=u!==0?(c[e]-l[e])/u:0}r[o]=a?c?Wi(s[o-1])!==Wi(s[o])?0:(s[o-1]+s[o])/2:s[o-1]:s[o]}rC(n,s,r),oC(n,r,t)}function _c(n,t,e){return Math.max(Math.min(n,e),t)}function lC(n,t){let e,i,s,r,o,a=hs(n[0],t);for(e=0,i=n.length;e<i;++e)o=r,r=a,a=e<i-1&&hs(n[e+1],t),r&&(s=n[e],o&&(s.cp1x=_c(s.cp1x,t.left,t.right),s.cp1y=_c(s.cp1y,t.top,t.bottom)),a&&(s.cp2x=_c(s.cp2x,t.left,t.right),s.cp2y=_c(s.cp2y,t.top,t.bottom)))}function cC(n,t,e,i,s){let r,o,a,l;if(t.spanGaps&&(n=n.filter(c=>!c.skip)),t.cubicInterpolationMode==="monotone")aC(n,s);else{let c=i?n[n.length-1]:n[0];for(r=0,o=n.length;r<o;++r)a=n[r],l=sC(c,a,n[Math.min(r+1,o-(i?0:1))%o],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}t.capBezierPoints&&lC(n,e)}function Tp(){return typeof window<"u"&&typeof document<"u"}function kp(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function du(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const th=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function uC(n,t){return th(n).getPropertyValue(t)}const hC=["top","right","bottom","left"];function Nr(n,t,e){const i={};e=e?"-"+e:"";for(let s=0;s<4;s++){const r=hC[s];i[r]=parseFloat(n[t+"-"+r+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const dC=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function fC(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:s,offsetY:r}=i;let o=!1,a,l;if(dC(s,r,n.target))a=s,l=r;else{const c=t.getBoundingClientRect();a=i.clientX-c.left,l=i.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function Sr(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,s=th(e),r=s.boxSizing==="border-box",o=Nr(s,"padding"),a=Nr(s,"border","width"),{x:l,y:c,box:u}=fC(n,e),h=o.left+(u&&a.left),f=o.top+(u&&a.top);let{width:g,height:_}=t;return r&&(g-=o.width+a.width,_-=o.height+a.height),{x:Math.round((l-h)/g*e.width/i),y:Math.round((c-f)/_*e.height/i)}}function pC(n,t,e){let i,s;if(t===void 0||e===void 0){const r=n&&kp(n);if(!r)t=n.clientWidth,e=n.clientHeight;else{const o=r.getBoundingClientRect(),a=th(r),l=Nr(a,"border","width"),c=Nr(a,"padding");t=o.width-c.width-l.width,e=o.height-c.height-l.height,i=du(a.maxWidth,r,"clientWidth"),s=du(a.maxHeight,r,"clientHeight")}}return{width:t,height:e,maxWidth:i||uu,maxHeight:s||uu}}const yc=n=>Math.round(n*10)/10;function gC(n,t,e,i){const s=th(n),r=Nr(s,"margin"),o=du(s.maxWidth,n,"clientWidth")||uu,a=du(s.maxHeight,n,"clientHeight")||uu,l=pC(n,t,e);let{width:c,height:u}=l;if(s.boxSizing==="content-box"){const f=Nr(s,"border","width"),g=Nr(s,"padding");c-=g.width+f.width,u-=g.height+f.height}return c=Math.max(0,c-r.width),u=Math.max(0,i?c/i:u-r.height),c=yc(Math.min(c,o,l.maxWidth)),u=yc(Math.min(u,a,l.maxHeight)),c&&!u&&(u=yc(c/2)),(t!==void 0||e!==void 0)&&i&&l.height&&u>l.height&&(u=l.height,c=yc(Math.floor(u*i))),{width:c,height:u}}function Um(n,t,e){const i=t||1,s=Math.floor(n.height*i),r=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const o=n.canvas;return o.style&&(e||!o.style.height&&!o.style.width)&&(o.style.height=`${n.height}px`,o.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||o.height!==s||o.width!==r?(n.currentDevicePixelRatio=i,o.height=s,o.width=r,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const mC=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};Tp()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n}();function Hm(n,t){const e=uC(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Tr(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function _C(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:i==="middle"?e<.5?n.y:t.y:i==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function yC(n,t,e,i){const s={x:n.cp2x,y:n.cp2y},r={x:t.cp1x,y:t.cp1y},o=Tr(n,s,e),a=Tr(s,r,e),l=Tr(r,t,e),c=Tr(o,a,e),u=Tr(a,l,e);return Tr(c,u,e)}const bC=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},vC=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function Oo(n,t,e){return n?bC(t,e):vC()}function $b(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function Ub(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function Hb(n){return n==="angle"?{between:il,compare:xk,normalize:_n}:{between:cs,compare:(t,e)=>t-e,normalize:t=>t}}function Km({start:n,end:t,count:e,loop:i,style:s}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e===0,style:s}}function xC(n,t,e){const{property:i,start:s,end:r}=e,{between:o,normalize:a}=Hb(i),l=t.length;let{start:c,end:u,loop:h}=n,f,g;if(h){for(c+=l,u+=l,f=0,g=l;f<g&&o(a(t[c%l][i]),s,r);++f)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:h,style:n.style}}function Kb(n,t,e){if(!e)return[n];const{property:i,start:s,end:r}=e,o=t.length,{compare:a,between:l,normalize:c}=Hb(i),{start:u,end:h,loop:f,style:g}=xC(n,t,e),_=[];let m=!1,b=null,x,T,O;const M=()=>l(s,O,x)&&a(s,O)!==0,w=()=>a(r,x)===0||l(r,O,x),k=()=>m||M(),P=()=>!m||w();for(let A=u,I=u;A<=h;++A)T=t[A%o],!T.skip&&(x=c(T[i]),x!==O&&(m=l(x,s,r),b===null&&k()&&(b=a(x,s)===0?A:I),b!==null&&P()&&(_.push(Km({start:b,end:A,loop:f,count:o,style:g})),b=null),I=A,O=x));return b!==null&&_.push(Km({start:b,end:h,loop:f,count:o,style:g})),_}function Yb(n,t){const e=[],i=n.segments;for(let s=0;s<i.length;s++){const r=Kb(i[s],n.points,t);r.length&&e.push(...r)}return e}function wC(n,t,e,i){let s=0,r=t-1;if(e&&!i)for(;s<t&&!n[s].skip;)s++;for(;s<t&&n[s].skip;)s++;for(s%=t,e&&(r+=s);r>s&&n[r%t].skip;)r--;return r%=t,{start:s,end:r}}function SC(n,t,e,i){const s=n.length,r=[];let o=t,a=n[t],l;for(l=t+1;l<=e;++l){const c=n[l%s];c.skip||c.stop?a.skip||(i=!1,r.push({start:t%s,end:(l-1)%s,loop:i}),t=o=c.stop?l:null):(o=l,a.skip&&(t=l)),a=c}return o!==null&&r.push({start:t%s,end:o%s,loop:i}),r}function TC(n,t){const e=n.points,i=n.options.spanGaps,s=e.length;if(!s)return[];const r=!!n._loop,{start:o,end:a}=wC(e,s,r,i);if(i===!0)return Ym(n,[{start:o,end:a,loop:r}],e,t);const l=a<o?a+s:a,c=!!n._fullLoop&&o===0&&a===s-1;return Ym(n,SC(e,o,l,c),e,t)}function Ym(n,t,e,i){return!i||!i.setContext||!e?t:kC(n,t,e,i)}function kC(n,t,e,i){const s=n._chart.getContext(),r=Gm(n.options),{_datasetIndex:o,options:{spanGaps:a}}=n,l=e.length,c=[];let u=r,h=t[0].start,f=h;function g(_,m,b,x){const T=a?-1:1;if(_!==m){for(_+=l;e[_%l].skip;)_-=T;for(;e[m%l].skip;)m+=T;_%l!==m%l&&(c.push({start:_%l,end:m%l,loop:b,style:x}),u=x,h=m%l)}}for(const _ of t){h=a?h:_.start;let m=e[h%l],b;for(f=h+1;f<=_.end;f++){const x=e[f%l];b=Gm(i.setContext(ir(s,{type:"segment",p0:m,p1:x,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:o}))),CC(b,u)&&g(h,f-1,_.loop,u),m=x,u=b}h<f-1&&g(h,f-1,_.loop,u)}return c}function Gm(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function CC(n,t){if(!t)return!1;const e=[],i=function(s,r){return bp(r)?(e.includes(r)||e.push(r),e.indexOf(r)):r};return JSON.stringify(n,i)!==JSON.stringify(t,i)}function bc(n,t,e){return n.options.clip?n[e]:t[e]}function MC(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:bc(e,t,"left"),right:bc(e,t,"right"),top:bc(i,t,"top"),bottom:bc(i,t,"bottom")}:t}function Gb(n,t){const e=t._clip;if(e.disabled)return!1;const i=MC(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class AC{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,s){const r=e.listeners[s],o=e.duration;r.forEach(a=>a({chart:t,initial:e.initial,numSteps:o,currentStep:Math.min(i-e.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=Db.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const r=i.items;let o=r.length-1,a=!1,l;for(;o>=0;--o)l=r[o],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(t),a=!0):(r[o]=r[r.length-1],r.pop());a&&(s.draw(),this._notify(s,i,t,"progress")),r.length||(i.running=!1,this._notify(s,i,t,"complete"),i.initial=!1),e+=r.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Qi=new AC;const Xm="transparent",OC={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=Wm(n||Xm),s=i.valid&&Wm(t||Xm);return s&&s.valid?s.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class PC{constructor(t,e,i,s){const r=e[i];s=Ta([t.to,s,r,t.from]);const o=Ta([t.from,r,s]);this._active=!0,this._fn=t.fn||OC[t.type||typeof o],this._easing=Ba[t.easing]||Ba.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const s=this._target[this._prop],r=i-this._start,o=this._duration-r;this._start=i,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=r,this._loop=!!t.loop,this._to=Ta([t.to,e,s,t.from]),this._from=Ta([t.from,s,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,s=this._prop,r=this._from,o=this._loop,a=this._to;let l;if(this._active=r!==a&&(o||e<i),!this._active){this._target[s]=a,this._notify(!0);return}if(e<0){this._target[s]=r;return}l=e/i%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[s]=this._fn(r,a,l)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][e]()}}class Xb{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!ee(t))return;const e=Object.keys(Pe.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(s=>{const r=t[s];if(!ee(r))return;const o={};for(const a of e)o[a]=r[a];(Oe(r.properties)&&r.properties||[s]).forEach(a=>{(a===s||!i.has(a))&&i.set(a,o)})})}_animateOptions(t,e){const i=e.options,s=EC(t,i);if(!s)return[];const r=this._createAnimations(s,i);return i.$shared&&DC(t.options.$animations,i).then(()=>{t.options=i},()=>{}),r}_createAnimations(t,e){const i=this._properties,s=[],r=t.$animations||(t.$animations={}),o=Object.keys(e),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){s.push(...this._animateOptions(t,e));continue}const u=e[c];let h=r[c];const f=i.get(c);if(h)if(f&&h.active()){h.update(f,u,a);continue}else h.cancel();if(!f||!f.duration){t[c]=u;continue}r[c]=h=new PC(f,t,c,u),s.push(h)}return s}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return Qi.add(this._chart,i),!0}}function DC(n,t){const e=[],i=Object.keys(t);for(let s=0;s<i.length;s++){const r=n[i[s]];r&&r.active()&&e.push(r.wait())}return Promise.all(e)}function EC(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function Zm(n,t){const e=n&&n.options||{},i=e.reverse,s=e.min===void 0?t:0,r=e.max===void 0?t:0;return{start:i?r:s,end:i?s:r}}function IC(n,t,e){if(e===!1)return!1;const i=Zm(n,e),s=Zm(t,e);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function RC(n){let t,e,i,s;return ee(n)?(t=n.top,e=n.right,i=n.bottom,s=n.left):t=e=i=s=n,{top:t,right:e,bottom:i,left:s,disabled:n===!1}}function Zb(n,t){const e=[],i=n._getSortedDatasetMetas(t);let s,r;for(s=0,r=i.length;s<r;++s)e.push(i[s].index);return e}function Qm(n,t,e,i={}){const s=n.keys,r=i.mode==="single";let o,a,l,c;if(t===null)return;let u=!1;for(o=0,a=s.length;o<a;++o){if(l=+s[o],l===e){if(u=!0,i.all)continue;break}c=n.values[l],Le(c)&&(r||t===0||Wi(t)===Wi(c))&&(t+=c)}return!u&&!i.all?0:t}function NC(n,t){const{iScale:e,vScale:i}=t,s=e.axis==="x"?"x":"y",r=i.axis==="x"?"x":"y",o=Object.keys(n),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[s]:u,[r]:n[u]};return a}function gd(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function FC(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function LC(n){const{min:t,max:e,minDefined:i,maxDefined:s}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:s?e:Number.POSITIVE_INFINITY}}function VC(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function Jm(n,t,e,i){for(const s of t.getMatchingVisibleMetas(i).reverse()){const r=n[s.index];if(e&&r>0||!e&&r<0)return s.index}return null}function t_(n,t){const{chart:e,_cachedMeta:i}=n,s=e._stacks||(e._stacks={}),{iScale:r,vScale:o,index:a}=i,l=r.axis,c=o.axis,u=FC(r,o,i),h=t.length;let f;for(let g=0;g<h;++g){const _=t[g],{[l]:m,[c]:b}=_,x=_._stacks||(_._stacks={});f=x[c]=VC(s,u,m),f[a]=b,f._top=Jm(f,o,!0,i.type),f._bottom=Jm(f,o,!1,i.type);const T=f._visualValues||(f._visualValues={});T[a]=b}}function md(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function BC(n,t){return ir(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function WC(n,t,e){return ir(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function ga(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const s of t){const r=s._stacks;if(!r||r[i]===void 0||r[i][e]===void 0)return;delete r[i][e],r[i]._visualValues!==void 0&&r[i]._visualValues[e]!==void 0&&delete r[i]._visualValues[e]}}}const _d=n=>n==="reset"||n==="none",e_=(n,t)=>t?n:Object.assign({},n),jC=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:Zb(e,!0),values:null};class sr{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=gd(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&ga(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),s=(h,f,g,_)=>h==="x"?f:h==="r"?_:g,r=e.xAxisID=jt(i.xAxisID,md(t,"x")),o=e.yAxisID=jt(i.yAxisID,md(t,"y")),a=e.rAxisID=jt(i.rAxisID,md(t,"r")),l=e.indexAxis,c=e.iAxisID=s(l,r,o,a),u=e.vAxisID=s(l,o,r,a);e.xScale=this.getScaleForId(r),e.yScale=this.getScaleForId(o),e.rScale=this.getScaleForId(a),e.iScale=this.getScaleForId(c),e.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Lm(this._data,this),t._stacked&&ga(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(ee(e)){const s=this._cachedMeta;this._data=NC(e,s)}else if(i!==e){if(i){Lm(i,this);const s=this._cachedMeta;ga(s),s._parsed=[]}e&&Object.isExtensible(e)&&kk(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const r=e._stacked;e._stacked=gd(e.vScale,e),e.stack!==i.stack&&(s=!0,ga(e),e.stack=i.stack),this._resyncElements(t),(s||r!==e._stacked)&&(t_(this,e._parsed),e._stacked=gd(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:s}=this,{iScale:r,_stacked:o}=i,a=r.axis;let l=t===0&&e===s.length?!0:i._sorted,c=t>0&&i._parsed[t-1],u,h,f;if(this._parsing===!1)i._parsed=s,i._sorted=!0,f=s;else{Oe(s[t])?f=this.parseArrayData(i,s,t,e):ee(s[t])?f=this.parseObjectData(i,s,t,e):f=this.parsePrimitiveData(i,s,t,e);const g=()=>h[a]===null||c&&h[a]<c[a];for(u=0;u<e;++u)i._parsed[u+t]=h=f[u],l&&(g()&&(l=!1),c=h);i._sorted=l}o&&t_(this,f)}parsePrimitiveData(t,e,i,s){const{iScale:r,vScale:o}=t,a=r.axis,l=o.axis,c=r.getLabels(),u=r===o,h=new Array(s);let f,g,_;for(f=0,g=s;f<g;++f)_=f+i,h[f]={[a]:u||r.parse(c[_],_),[l]:o.parse(e[_],_)};return h}parseArrayData(t,e,i,s){const{xScale:r,yScale:o}=t,a=new Array(s);let l,c,u,h;for(l=0,c=s;l<c;++l)u=l+i,h=e[u],a[l]={x:r.parse(h[0],u),y:o.parse(h[1],u)};return a}parseObjectData(t,e,i,s){const{xScale:r,yScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(s);let u,h,f,g;for(u=0,h=s;u<h;++u)f=u+i,g=e[f],c[u]={x:r.parse(Qs(g,a),f),y:o.parse(Qs(g,l),f)};return c}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const s=this.chart,r=this._cachedMeta,o=e[t.axis],a={keys:Zb(s,!0),values:e._stacks[t.axis]._visualValues};return Qm(a,o,r.index,{mode:i})}updateRangeFromParsed(t,e,i,s){const r=i[e.axis];let o=r===null?NaN:r;const a=s&&i._stacks[e.axis];s&&a&&(s.values=a,o=Qm(s,r,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,e){const i=this._cachedMeta,s=i._parsed,r=i._sorted&&t===i.iScale,o=s.length,a=this._getOtherScale(t),l=jC(e,i,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=LC(a);let f,g;function _(){g=s[f];const m=g[a.axis];return!Le(g[t.axis])||u>m||h<m}for(f=0;f<o&&!(!_()&&(this.updateRangeFromParsed(c,t,g,l),r));++f);if(r){for(f=o-1;f>=0;--f)if(!_()){this.updateRangeFromParsed(c,t,g,l);break}}return c}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let s,r,o;for(s=0,r=e.length;s<r;++s)o=e[s][t.axis],Le(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,s=e.vScale,r=this.getParsed(t);return{label:i?""+i.getLabelForValue(r[i.axis]):"",value:s?""+s.getLabelForValue(r[s.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=RC(jt(this.options.clip,IC(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,s=i.data||[],r=e.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||s.length-a,c=this.options.drawActiveElementsOnTop;let u;for(i.dataset&&i.dataset.draw(t,r,a,l),u=a;u<a+l;++u){const h=s[u];h.hidden||(h.active&&c?o.push(h):h.draw(t,r))}for(u=0;u<o.length;++u)o[u].draw(t,r)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const s=this.getDataset();let r;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];r=o.$context||(o.$context=WC(this.getContext(),t,o)),r.parsed=this.getParsed(t),r.raw=s.data[t],r.index=r.dataIndex=t}else r=this.$context||(this.$context=BC(this.chart.getContext(),this.index)),r.dataset=s,r.index=r.datasetIndex=this.index;return r.active=!!e,r.mode=i,r}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const s=e==="active",r=this._cachedDataOpts,o=t+"-"+e,a=r[o],l=this.enableOptionSharing&&nl(i);if(a)return e_(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,t),h=s?[`${t}Hover`,"hover",t,""]:[t,""],f=c.getOptionScopes(this.getDataset(),u),g=Object.keys(Pe.elements[t]),_=()=>this.getContext(i,s,e),m=c.resolveNamedOptions(f,g,_,h);return m.$shared&&(m.$shared=l,r[o]=Object.freeze(e_(m,l))),m}_resolveAnimations(t,e,i){const s=this.chart,r=this._cachedDataOpts,o=`animation-${e}`,a=r[o];if(a)return a;let l;if(s.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,e),f=u.getOptionScopes(this.getDataset(),h);l=u.createResolver(f,this.getContext(t,i,e))}const c=new Xb(s,l&&l.animations);return l&&l._cacheable&&(r[o]=Object.freeze(c)),c}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||_d(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),s=this._sharedOptions,r=this.getSharedOptions(i),o=this.includeOptions(e,r)||r!==s;return this.updateSharedOptions(r,e,i),{sharedOptions:r,includeOptions:o}}updateElement(t,e,i,s){_d(s)?Object.assign(t,i):this._resolveAnimations(e,s).update(t,i)}updateSharedOptions(t,e,i){t&&!_d(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,s){t.active=s;const r=this.getStyle(e,s);this._resolveAnimations(e,i,s).update(t,{options:!s&&this.getSharedOptions(r)||r})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const s=i.length,r=e.length,o=Math.min(r,s);o&&this.parse(0,o),r>s?this._insertElements(s,r-s,t):r<s&&this._removeElements(r,s-r)}_insertElements(t,e,i=!0){const s=this._cachedMeta,r=s.data,o=t+e;let a;const l=c=>{for(c.length+=e,a=c.length-1;a>=o;a--)c[a]=c[a-e]};for(l(r),a=t;a<o;++a)r[a]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(t,e),i&&this.updateElements(r,t,e,"reset")}updateElements(t,e,i,s){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(t,e);i._stacked&&ga(i,s)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,s]=t;this[e](i,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function zC(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let s=0,r=e.length;s<r;s++)i=i.concat(e[s].controller.getAllParsedValues(n));n._cache.$bar=Pb(i.sort((s,r)=>s-r))}return n._cache.$bar}function qC(n){const t=n.iScale,e=zC(t,n.type);let i=t._length,s,r,o,a;const l=()=>{o===32767||o===-32768||(nl(a)&&(i=Math.min(i,Math.abs(o-a)||i)),a=o)};for(s=0,r=e.length;s<r;++s)o=t.getPixelForValue(e[s]),l();for(a=void 0,s=0,r=t.ticks.length;s<r;++s)o=t.getPixelForTick(s),l();return i}function $C(n,t,e,i){const s=e.barThickness;let r,o;return Zt(s)?(r=t.min*e.categoryPercentage,o=e.barPercentage):(r=s*i,o=1),{chunk:r/i,ratio:o,start:t.pixels[n]-r/2}}function UC(n,t,e,i){const s=t.pixels,r=s[n];let o=n>0?s[n-1]:null,a=n<s.length-1?s[n+1]:null;const l=e.categoryPercentage;o===null&&(o=r-(a===null?t.end-t.start:a-r)),a===null&&(a=r+r-o);const c=r-(r-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/i,ratio:e.barPercentage,start:c}}function HC(n,t,e,i){const s=e.parse(n[0],i),r=e.parse(n[1],i),o=Math.min(s,r),a=Math.max(s,r);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),t[e.axis]=c,t._custom={barStart:l,barEnd:c,start:s,end:r,min:o,max:a}}function Qb(n,t,e,i){return Oe(n)?HC(n,t,e,i):t[e.axis]=e.parse(n,i),t}function n_(n,t,e,i){const s=n.iScale,r=n.vScale,o=s.getLabels(),a=s===r,l=[];let c,u,h,f;for(c=e,u=e+i;c<u;++c)f=t[c],h={},h[s.axis]=a||s.parse(o[c],c),l.push(Qb(f,h,r,c));return l}function yd(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function KC(n,t,e){return n!==0?Wi(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function YC(n){let t,e,i,s,r;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(s="end",r="start"):(s="start",r="end"),{start:e,end:i,reverse:t,top:s,bottom:r}}function GC(n,t,e,i){let s=t.borderSkipped;const r={};if(!s){n.borderSkipped=r;return}if(s===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:u}=YC(n);s==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?s=c:(e._bottom||0)===i?s=u:(r[i_(u,o,a,l)]=!0,s=c)),r[i_(s,o,a,l)]=!0,n.borderSkipped=r}function i_(n,t,e,i){return i?(n=XC(n,t,e),n=s_(n,e,t)):n=s_(n,t,e),n}function XC(n,t,e){return n===t?e:n===e?t:n}function s_(n,t,e){return n==="start"?t:n==="end"?e:n}function ZC(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}class QC extends sr{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,e,i,s){return n_(t,e,i,s)}parseArrayData(t,e,i,s){return n_(t,e,i,s)}parseObjectData(t,e,i,s){const{iScale:r,vScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=r.axis==="x"?a:l,u=o.axis==="x"?a:l,h=[];let f,g,_,m;for(f=i,g=i+s;f<g;++f)m=e[f],_={},_[r.axis]=r.parse(Qs(m,c),f),h.push(Qb(Qs(m,u),_,o,f));return h}updateRangeFromParsed(t,e,i,s){super.updateRangeFromParsed(t,e,i,s);const r=i._custom;r&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,r.min),t.max=Math.max(t.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:s}=e,r=this.getParsed(t),o=r._custom,a=yd(o)?"["+o.start+", "+o.end+"]":""+s.getLabelForValue(r[s.axis]);return{label:""+i.getLabelForValue(r[i.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,s){const r=s==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:f}=this._getSharedOptions(e,s);for(let g=e;g<e+i;g++){const _=this.getParsed(g),m=r||Zt(_[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(g),b=this._calculateBarIndexPixels(g,u),x=(_._stacks||{})[a.axis],T={horizontal:c,base:m.base,enableBorderRadius:!x||yd(_._custom)||o===x._top||o===x._bottom,x:c?m.head:b.center,y:c?b.center:m.head,height:c?b.size:Math.abs(m.size),width:c?Math.abs(m.size):b.size};f&&(T.options=h||this.resolveDataElementOptions(g,t[g].active?"active":s));const O=T.options||t[g].options;GC(T,O,x,o),ZC(T,O,u.ratio),this.updateElement(t[g],g,T,s)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),r=i.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(e),l=a&&a[i.axis],c=u=>{const h=u._parsed.find(g=>g[i.axis]===l),f=h&&h[u.vScale.axis];if(Zt(f)||isNaN(f))return!0};for(const u of s)if(!(e!==void 0&&c(u))&&((r===!1||o.indexOf(u.stack)===-1||r===void 0&&u.stack===void 0)&&o.push(u.stack),u.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,e=this.chart.options.indexAxis;return Object.keys(t).filter(i=>t[i].axis===e).shift()}_getAxis(){const t={},e=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)t[jt(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,e)]=!0;return Object.keys(t)}_getStackIndex(t,e,i){const s=this._getStacks(t,i),r=e!==void 0?s.indexOf(e):-1;return r===-1?s.length-1:r}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,s=[];let r,o;for(r=0,o=e.data.length;r<o;++r)s.push(i.getPixelForValue(this.getParsed(r)[i.axis],r));const a=t.barThickness;return{min:a||qC(e),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:a?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:s},options:{base:r,minBarLength:o}}=this,a=r||0,l=this.getParsed(t),c=l._custom,u=yd(c);let h=l[e.axis],f=0,g=i?this.applyStack(e,l,i):h,_,m;g!==h&&(f=g-h,g=h),u&&(h=c.barStart,g=c.barEnd-c.barStart,h!==0&&Wi(h)!==Wi(c.barEnd)&&(f=0),f+=h);const b=!Zt(r)&&!u?r:f;let x=e.getPixelForValue(b);if(this.chart.getDataVisibility(t)?_=e.getPixelForValue(f+g):_=x,m=_-x,Math.abs(m)<o){m=KC(m,e,a)*o,h===a&&(x-=m/2);const T=e.getPixelForDecimal(0),O=e.getPixelForDecimal(1),M=Math.min(T,O),w=Math.max(T,O);x=Math.max(Math.min(x,w),M),_=x+m,i&&!u&&(l._stacks[e.axis]._visualValues[s]=e.getValueForPixel(_)-e.getValueForPixel(x))}if(x===e.getPixelForValue(a)){const T=Wi(m)*e.getLineWidthForValue(a)/2;x+=T,m-=T}return{size:m,base:x,head:_,center:_+m/2}}_calculateBarIndexPixels(t,e){const i=e.scale,s=this.options,r=s.skipNull,o=jt(s.maxBarThickness,1/0);let a,l;const c=this._getAxisCount();if(e.grouped){const u=r?this._getStackCount(t):e.stackCount,h=s.barThickness==="flex"?UC(t,e,s,u*c):$C(t,e,s,u*c),f=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,g=this._getAxis().indexOf(jt(f,this.getFirstScaleIdForIndexAxis())),_=this._getStackIndex(this.index,this._cachedMeta.stack,r?t:void 0)+g;a=h.start+h.chunk*_+h.chunk/2,l=Math.min(o,h.chunk*h.ratio)}else a=i.getPixelForValue(this.getParsed(t)[i.axis],t),l=Math.min(o,e.min*e.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,s=i.length;let r=0;for(;r<s;++r)this.getParsed(r)[e.axis]!==null&&!i[r].hidden&&i[r].draw(this._ctx)}}class JC extends sr{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,i,s){const r=super.parsePrimitiveData(t,e,i,s);for(let o=0;o<r.length;o++)r[o]._custom=this.resolveDataElementOptions(o+i).radius;return r}parseArrayData(t,e,i,s){const r=super.parseArrayData(t,e,i,s);for(let o=0;o<r.length;o++){const a=e[i+o];r[o]._custom=jt(a[2],this.resolveDataElementOptions(o+i).radius)}return r}parseObjectData(t,e,i,s){const r=super.parseObjectData(t,e,i,s);for(let o=0;o<r.length;o++){const a=e[i+o];r[o]._custom=jt(a&&a.r&&+a.r,this.resolveDataElementOptions(o+i).radius)}return r}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let i=t.length-1;i>=0;--i)e=Math.max(e,t[i].size(this.resolveDataElementOptions(i))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:r}=e,o=this.getParsed(t),a=s.getLabelForValue(o.x),l=r.getLabelForValue(o.y),c=o._custom;return{label:i[t]||"",value:"("+a+", "+l+(c?", "+c:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,i,s){const r=s==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(e,s),u=o.axis,h=a.axis;for(let f=e;f<e+i;f++){const g=t[f],_=!r&&this.getParsed(f),m={},b=m[u]=r?o.getPixelForDecimal(.5):o.getPixelForValue(_[u]),x=m[h]=r?a.getBasePixel():a.getPixelForValue(_[h]);m.skip=isNaN(b)||isNaN(x),c&&(m.options=l||this.resolveDataElementOptions(f,g.active?"active":s),r&&(m.options.radius=0)),this.updateElement(g,f,m,s)}}resolveDataElementOptions(t,e){const i=this.getParsed(t);let s=super.resolveDataElementOptions(t,e);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const r=s.radius;return e!=="active"&&(s.radius=0),s.radius+=jt(i&&i._custom,r),s}}function tM(n,t,e){let i=1,s=1,r=0,o=0;if(t<we){const a=n,l=a+t,c=Math.cos(a),u=Math.sin(a),h=Math.cos(l),f=Math.sin(l),g=(O,M,w)=>il(O,a,l,!0)?1:Math.max(M,M*e,w,w*e),_=(O,M,w)=>il(O,a,l,!0)?-1:Math.min(M,M*e,w,w*e),m=g(0,c,h),b=g(Ue,u,f),x=_(oe,c,h),T=_(oe+Ue,u,f);i=(m-x)/2,s=(b-T)/2,r=-(m+x)/2,o=-(b+T)/2}return{ratioX:i,ratioY:s,offsetX:r,offsetY:o}}class Cp extends sr{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:s}}=t.legend.options;return e.labels.map((r,o)=>{const l=t.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}};constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=i;else{let r=l=>+i[l];if(ee(i[t])){const{key:l="value"}=this._parsing;r=c=>+Qs(i[c],l)}let o,a;for(o=t,a=t+e;o<a;++o)s._parsed[o]=r(o)}}_getRotation(){return bi(this.options.rotation-90)}_getCircumference(){return bi(this.options.circumference)}_getRotationExtents(){let t=we,e=-we;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const s=this.chart.getDatasetMeta(i).controller,r=s._getRotation(),o=s._getCircumference();t=Math.min(t,r),e=Math.max(e,r+o)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,s=this._cachedMeta,r=s.data,o=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,a=Math.max((Math.min(i.width,i.height)-o)/2,0),l=Math.min(uk(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:f,ratioY:g,offsetX:_,offsetY:m}=tM(h,u,l),b=(i.width-o)/f,x=(i.height-o)/g,T=Math.max(Math.min(b,x)/2,0),O=kb(this.options.radius,T),M=Math.max(O*l,0),w=(O-M)/this._getVisibleDatasetWeightTotal();this.offsetX=_*O,this.offsetY=m*O,s.total=this.calculateTotal(),this.outerRadius=O-w*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-w*c,0),this.updateElements(r,0,r.length,t)}_circumference(t,e){const i=this.options,s=this._cachedMeta,r=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||s._parsed[t]===null||s.data[t].hidden?0:this.calculateCircumference(s._parsed[t]*r/we)}updateElements(t,e,i,s){const r=s==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,u=(a.left+a.right)/2,h=(a.top+a.bottom)/2,f=r&&c.animateScale,g=f?0:this.innerRadius,_=f?0:this.outerRadius,{sharedOptions:m,includeOptions:b}=this._getSharedOptions(e,s);let x=this._getRotation(),T;for(T=0;T<e;++T)x+=this._circumference(T,r);for(T=e;T<e+i;++T){const O=this._circumference(T,r),M=t[T],w={x:u+this.offsetX,y:h+this.offsetY,startAngle:x,endAngle:x+O,circumference:O,outerRadius:_,innerRadius:g};b&&(w.options=m||this.resolveDataElementOptions(T,M.active?"active":s)),x+=O,this.updateElement(M,T,w,s)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let i=0,s;for(s=0;s<e.length;s++){const r=t._parsed[s];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(s)&&!e[s].hidden&&(i+=Math.abs(r))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?we*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,s=i.data.labels||[],r=Al(e._parsed[t],i.options.locale);return{label:s[t]||"",value:r}}getMaxBorderWidth(t){let e=0;const i=this.chart;let s,r,o,a,l;if(!t){for(s=0,r=i.data.datasets.length;s<r;++s)if(i.isDatasetVisible(s)){o=i.getDatasetMeta(s),t=o.data,a=o.controller;break}}if(!t)return 0;for(s=0,r=t.length;s<r;++s)l=a.resolveDataElementOptions(s),l.borderAlign!=="inner"&&(e=Math.max(e,l.borderWidth||0,l.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,s=t.length;i<s;++i){const r=this.resolveDataElementOptions(i);e=Math.max(e,r.offset||0,r.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(jt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class eM extends sr{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:s=[],_dataset:r}=e,o=this.chart._animationsDisabled;let{start:a,count:l}=Ib(e,s,o);this._drawStart=a,this._drawCount=l,Rb(e)&&(a=0,l=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!r._decimated,i.points=s;const c=this.resolveDatasetElementOptions(t);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:c},t),this.updateElements(s,a,l,t)}updateElements(t,e,i,s){const r=s==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(e,s),f=o.axis,g=a.axis,{spanGaps:_,segment:m}=this.options,b=Bo(_)?_:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||r||s==="none",T=e+i,O=t.length;let M=e>0&&this.getParsed(e-1);for(let w=0;w<O;++w){const k=t[w],P=x?k:{};if(w<e||w>=T){P.skip=!0;continue}const A=this.getParsed(w),I=Zt(A[g]),W=P[f]=o.getPixelForValue(A[f],w),R=P[g]=r||I?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,A,l):A[g],w);P.skip=isNaN(W)||isNaN(R)||I,P.stop=w>0&&Math.abs(A[f]-M[f])>b,m&&(P.parsed=A,P.raw=c.data[w]),h&&(P.options=u||this.resolveDataElementOptions(w,k.active?"active":s)),x||this.updateElement(k,w,P,s),M=A}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,s=t.data||[];if(!s.length)return i;const r=s[0].size(this.resolveDataElementOptions(0)),o=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,r,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}class Jb extends sr{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:s}}=t.legend.options;return e.labels.map((r,o)=>{const l=t.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,s=i.data.labels||[],r=Al(e._parsed[t].r,i.options.locale);return{label:s[t]||"",value:r}}parseObjectData(t,e,i,s){return zb.bind(this)(t,e,i,s)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((i,s)=>{const r=this.getParsed(s).r;!isNaN(r)&&this.chart.getDataVisibility(s)&&(r<e.min&&(e.min=r),r>e.max&&(e.max=r))}),e}_updateRadius(){const t=this.chart,e=t.chartArea,i=t.options,s=Math.min(e.right-e.left,e.bottom-e.top),r=Math.max(s/2,0),o=Math.max(i.cutoutPercentage?r/100*i.cutoutPercentage:1,0),a=(r-o)/t.getVisibleDatasetCount();this.outerRadius=r-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(t,e,i,s){const r=s==="reset",o=this.chart,l=o.options.animation,c=this._cachedMeta.rScale,u=c.xCenter,h=c.yCenter,f=c.getIndexAngle(0)-.5*oe;let g=f,_;const m=360/this.countVisibleElements();for(_=0;_<e;++_)g+=this._computeAngle(_,s,m);for(_=e;_<e+i;_++){const b=t[_];let x=g,T=g+this._computeAngle(_,s,m),O=o.getDataVisibility(_)?c.getDistanceFromCenterForValue(this.getParsed(_).r):0;g=T,r&&(l.animateScale&&(O=0),l.animateRotate&&(x=T=f));const M={x:u,y:h,innerRadius:0,outerRadius:O,startAngle:x,endAngle:T,options:this.resolveDataElementOptions(_,b.active?"active":s)};this.updateElement(b,_,M,s)}}countVisibleElements(){const t=this._cachedMeta;let e=0;return t.data.forEach((i,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&e++}),e}_computeAngle(t,e,i){return this.chart.getDataVisibility(t)?bi(this.resolveDataElementOptions(t,e).angle||i):0}}class nM extends Cp{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class iM extends sr{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(t){const e=this._cachedMeta.vScale,i=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(i[e.axis])}}parseObjectData(t,e,i,s){return zb.bind(this)(t,e,i,s)}update(t){const e=this._cachedMeta,i=e.dataset,s=e.data||[],r=e.iScale.getLabels();if(i.points=s,t!=="resize"){const o=this.resolveDatasetElementOptions(t);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:r.length===s.length,options:o};this.updateElement(i,void 0,a,t)}this.updateElements(s,0,s.length,t)}updateElements(t,e,i,s){const r=this._cachedMeta.rScale,o=s==="reset";for(let a=e;a<e+i;a++){const l=t[a],c=this.resolveDataElementOptions(a,l.active?"active":s),u=r.getPointPositionForValue(a,this.getParsed(a).r),h=o?r.xCenter:u.x,f=o?r.yCenter:u.y,g={x:h,y:f,angle:u.angle,skip:isNaN(h)||isNaN(f),options:c};this.updateElement(l,a,g,s)}}}class sM extends sr{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:r}=e,o=this.getParsed(t),a=s.getLabelForValue(o.x),l=r.getLabelForValue(o.y);return{label:i[t]||"",value:"("+a+", "+l+")"}}update(t){const e=this._cachedMeta,{data:i=[]}=e,s=this.chart._animationsDisabled;let{start:r,count:o}=Ib(e,i,s);if(this._drawStart=r,this._drawCount=o,Rb(e)&&(r=0,o=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:l}=e;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=i;const c=this.resolveDatasetElementOptions(t);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!s,options:c},t)}else this.datasetElementType&&(delete e.dataset,this.datasetElementType=!1);this.updateElements(i,r,o,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,i,s){const r=s==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,u=this.resolveDataElementOptions(e,s),h=this.getSharedOptions(u),f=this.includeOptions(s,h),g=o.axis,_=a.axis,{spanGaps:m,segment:b}=this.options,x=Bo(m)?m:Number.POSITIVE_INFINITY,T=this.chart._animationsDisabled||r||s==="none";let O=e>0&&this.getParsed(e-1);for(let M=e;M<e+i;++M){const w=t[M],k=this.getParsed(M),P=T?w:{},A=Zt(k[_]),I=P[g]=o.getPixelForValue(k[g],M),W=P[_]=r||A?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,k,l):k[_],M);P.skip=isNaN(I)||isNaN(W)||A,P.stop=M>0&&Math.abs(k[g]-O[g])>x,b&&(P.parsed=k,P.raw=c.data[M]),f&&(P.options=h||this.resolveDataElementOptions(M,w.active?"active":s)),T||this.updateElement(w,M,P,s),O=k}this.updateSharedOptions(h,s,u)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let a=0;for(let l=e.length-1;l>=0;--l)a=Math.max(a,e[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const i=t.dataset,s=i.options&&i.options.borderWidth||0;if(!e.length)return s;const r=e[0].size(this.resolveDataElementOptions(0)),o=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(s,r,o)/2}}var rM=Object.freeze({__proto__:null,BarController:QC,BubbleController:JC,DoughnutController:Cp,LineController:eM,PieController:nM,PolarAreaController:Jb,RadarController:iM,ScatterController:sM});function br(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Mp{static override(t){Object.assign(Mp.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return br()}parse(){return br()}format(){return br()}add(){return br()}diff(){return br()}startOf(){return br()}endOf(){return br()}}var oM={_date:Mp};function aM(n,t,e,i){const{controller:s,data:r,_sorted:o}=n,a=s._cachedMeta.iScale,l=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(a&&t===a.axis&&t!=="r"&&o&&r.length){const c=a._reversePixels?Sk:us;if(i){if(s._sharedOptions){const u=r[0],h=typeof u.getRange=="function"&&u.getRange(t);if(h){const f=c(r,t,e-h),g=c(r,t,e+h);return{lo:f.lo,hi:g.hi}}}}else{const u=c(r,t,e);if(l){const{vScale:h}=s._cachedMeta,{_parsed:f}=n,g=f.slice(0,u.lo+1).reverse().findIndex(m=>!Zt(m[h.axis]));u.lo-=Math.max(0,g);const _=f.slice(u.hi).findIndex(m=>!Zt(m[h.axis]));u.hi+=Math.max(0,_)}return u}}return{lo:0,hi:r.length-1}}function eh(n,t,e,i,s){const r=n.getSortedVisibleDatasetMetas(),o=e[t];for(let a=0,l=r.length;a<l;++a){const{index:c,data:u}=r[a],{lo:h,hi:f}=aM(r[a],t,o,s);for(let g=h;g<=f;++g){const _=u[g];_.skip||i(_,c,g)}}}function lM(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,s){const r=t?Math.abs(i.x-s.x):0,o=e?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function bd(n,t,e,i,s){const r=[];return!s&&!n.isPointInArea(t)||eh(n,e,t,function(a,l,c){!s&&!hs(a,n.chartArea,0)||a.inRange(t.x,t.y,i)&&r.push({element:a,datasetIndex:l,index:c})},!0),r}function cM(n,t,e,i){let s=[];function r(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],i),{angle:h}=Ab(o,{x:t.x,y:t.y});il(h,c,u)&&s.push({element:o,datasetIndex:a,index:l})}return eh(n,e,t,r),s}function uM(n,t,e,i,s,r){let o=[];const a=lM(e);let l=Number.POSITIVE_INFINITY;function c(u,h,f){const g=u.inRange(t.x,t.y,s);if(i&&!g)return;const _=u.getCenterPoint(s);if(!(!!r||n.isPointInArea(_))&&!g)return;const b=a(t,_);b<l?(o=[{element:u,datasetIndex:h,index:f}],l=b):b===l&&o.push({element:u,datasetIndex:h,index:f})}return eh(n,e,t,c),o}function vd(n,t,e,i,s,r){return!r&&!n.isPointInArea(t)?[]:e==="r"&&!i?cM(n,t,e,s):uM(n,t,e,i,s,r)}function r_(n,t,e,i,s){const r=[],o=e==="x"?"inXRange":"inYRange";let a=!1;return eh(n,e,t,(l,c,u)=>{l[o]&&l[o](t[e],s)&&(r.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(t.x,t.y,s))}),i&&!a?[]:r}var hM={modes:{index(n,t,e,i){const s=Sr(t,n),r=e.axis||"x",o=e.includeInvisible||!1,a=e.intersect?bd(n,s,r,i,o):vd(n,s,r,!1,i,o),l=[];return a.length?(n.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,h=c.data[u];h&&!h.skip&&l.push({element:h,datasetIndex:c.index,index:u})}),l):[]},dataset(n,t,e,i){const s=Sr(t,n),r=e.axis||"xy",o=e.includeInvisible||!1;let a=e.intersect?bd(n,s,r,i,o):vd(n,s,r,!1,i,o);if(a.length>0){const l=a[0].datasetIndex,c=n.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(n,t,e,i){const s=Sr(t,n),r=e.axis||"xy",o=e.includeInvisible||!1;return bd(n,s,r,i,o)},nearest(n,t,e,i){const s=Sr(t,n),r=e.axis||"xy",o=e.includeInvisible||!1;return vd(n,s,r,e.intersect,i,o)},x(n,t,e,i){const s=Sr(t,n);return r_(n,s,"x",e.intersect,i)},y(n,t,e,i){const s=Sr(t,n);return r_(n,s,"y",e.intersect,i)}}};const tv=["left","top","right","bottom"];function ma(n,t){return n.filter(e=>e.pos===t)}function o_(n,t){return n.filter(e=>tv.indexOf(e.pos)===-1&&e.box.axis===t)}function _a(n,t){return n.sort((e,i)=>{const s=t?i:e,r=t?e:i;return s.weight===r.weight?s.index-r.index:s.weight-r.weight})}function dM(n){const t=[];let e,i,s,r,o,a;for(e=0,i=(n||[]).length;e<i;++e)s=n[e],{position:r,options:{stack:o,stackWeight:a=1}}=s,t.push({index:e,box:s,pos:r,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&r+o,stackWeight:a});return t}function fM(n){const t={};for(const e of n){const{stack:i,pos:s,stackWeight:r}=e;if(!i||!tv.includes(s))continue;const o=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return t}function pM(n,t){const e=fM(n),{vBoxMaxWidth:i,hBoxMaxHeight:s}=t;let r,o,a;for(r=0,o=n.length;r<o;++r){a=n[r];const{fullSize:l}=a.box,c=e[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*i:l&&t.availableWidth,a.height=s):(a.width=i,a.height=u?u*s:l&&t.availableHeight)}return e}function gM(n){const t=dM(n),e=_a(t.filter(c=>c.box.fullSize),!0),i=_a(ma(t,"left"),!0),s=_a(ma(t,"right")),r=_a(ma(t,"top"),!0),o=_a(ma(t,"bottom")),a=o_(t,"x"),l=o_(t,"y");return{fullSize:e,leftAndTop:i.concat(r),rightAndBottom:s.concat(l).concat(o).concat(a),chartArea:ma(t,"chartArea"),vertical:i.concat(s).concat(l),horizontal:r.concat(o).concat(a)}}function a_(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function ev(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function mM(n,t,e,i){const{pos:s,box:r}=e,o=n.maxPadding;if(!ee(s)){e.size&&(n[s]-=e.size);const h=i[e.stack]||{size:0,count:1};h.size=Math.max(h.size,e.horizontal?r.height:r.width),e.size=h.size/h.count,n[s]+=e.size}r.getPadding&&ev(o,r.getPadding());const a=Math.max(0,t.outerWidth-a_(o,n,"left","right")),l=Math.max(0,t.outerHeight-a_(o,n,"top","bottom")),c=a!==n.w,u=l!==n.h;return n.w=a,n.h=l,e.horizontal?{same:c,other:u}:{same:u,other:c}}function _M(n){const t=n.maxPadding;function e(i){const s=Math.max(t[i]-n[i],0);return n[i]+=s,s}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function yM(n,t){const e=t.maxPadding;function i(s){const r={left:0,top:0,right:0,bottom:0};return s.forEach(o=>{r[o]=Math.max(t[o],e[o])}),r}return i(n?["left","right"]:["top","bottom"])}function ka(n,t,e,i){const s=[];let r,o,a,l,c,u;for(r=0,o=n.length,c=0;r<o;++r){a=n[r],l=a.box,l.update(a.width||t.w,a.height||t.h,yM(a.horizontal,t));const{same:h,other:f}=mM(t,e,a,i);c|=h&&s.length,u=u||f,l.fullSize||s.push(a)}return c&&ka(s,t,e,i)||u}function vc(n,t,e,i,s){n.top=e,n.left=t,n.right=t+i,n.bottom=e+s,n.width=i,n.height=s}function l_(n,t,e,i){const s=e.padding;let{x:r,y:o}=t;for(const a of n){const l=a.box,c=i[a.stack]||{placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const h=t.w*u,f=c.size||l.height;nl(c.start)&&(o=c.start),l.fullSize?vc(l,s.left,o,e.outerWidth-s.right-s.left,f):vc(l,t.left+c.placed,o,h,f),c.start=o,c.placed+=h,o=l.bottom}else{const h=t.h*u,f=c.size||l.width;nl(c.start)&&(r=c.start),l.fullSize?vc(l,r,s.top,f,e.outerHeight-s.bottom-s.top):vc(l,r,t.top+c.placed,f,h),c.start=r,c.placed+=h,r=l.right}}t.x=r,t.y=o}var vn={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const s=Tn(n.options.layout.padding),r=Math.max(t-s.width,0),o=Math.max(e-s.height,0),a=gM(n.boxes),l=a.vertical,c=a.horizontal;ce(n.boxes,m=>{typeof m.beforeLayout=="function"&&m.beforeLayout()});const u=l.reduce((m,b)=>b.box.options&&b.box.options.display===!1?m:m+1,0)||1,h=Object.freeze({outerWidth:t,outerHeight:e,padding:s,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/u,hBoxMaxHeight:o/2}),f=Object.assign({},s);ev(f,Tn(i));const g=Object.assign({maxPadding:f,w:r,h:o,x:s.left,y:s.top},s),_=pM(l.concat(c),h);ka(a.fullSize,g,h,_),ka(l,g,h,_),ka(c,g,h,_)&&ka(l,g,h,_),_M(g),l_(a.leftAndTop,g,h,_),g.x+=g.w,g.y+=g.h,l_(a.rightAndBottom,g,h,_),n.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},ce(a.chartArea,m=>{const b=m.box;Object.assign(b,n.chartArea),b.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}};class nv{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,s){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,s?Math.floor(e/s):i)}}isAttached(t){return!0}updateConfig(t){}}class bM extends nv{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Wc="$chartjs",vM={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},c_=n=>n===null||n==="";function xM(n,t){const e=n.style,i=n.getAttribute("height"),s=n.getAttribute("width");if(n[Wc]={initial:{height:i,width:s,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",c_(s)){const r=Hm(n,"width");r!==void 0&&(n.width=r)}if(c_(i))if(n.style.height==="")n.height=n.width/(t||2);else{const r=Hm(n,"height");r!==void 0&&(n.height=r)}return n}const iv=mC?{passive:!0}:!1;function wM(n,t,e){n&&n.addEventListener(t,e,iv)}function SM(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,iv)}function TM(n,t){const e=vM[n.type]||n.type,{x:i,y:s}=Sr(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:s!==void 0?s:null}}function fu(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function kM(n,t,e){const i=n.canvas,s=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||fu(a.addedNodes,i),o=o&&!fu(a.removedNodes,i);o&&e()});return s.observe(document,{childList:!0,subtree:!0}),s}function CM(n,t,e){const i=n.canvas,s=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||fu(a.removedNodes,i),o=o&&!fu(a.addedNodes,i);o&&e()});return s.observe(document,{childList:!0,subtree:!0}),s}const rl=new Map;let u_=0;function sv(){const n=window.devicePixelRatio;n!==u_&&(u_=n,rl.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function MM(n,t){rl.size||window.addEventListener("resize",sv),rl.set(n,t)}function AM(n){rl.delete(n),rl.size||window.removeEventListener("resize",sv)}function OM(n,t,e){const i=n.canvas,s=i&&kp(i);if(!s)return;const r=Eb((a,l)=>{const c=s.clientWidth;e(a,l),c<s.clientWidth&&e()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||r(c,u)});return o.observe(s),MM(n,r),o}function xd(n,t,e){e&&e.disconnect(),t==="resize"&&AM(n)}function PM(n,t,e){const i=n.canvas,s=Eb(r=>{n.ctx!==null&&e(TM(r,n))},n);return wM(i,t,s),s}class DM extends nv{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(xM(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[Wc])return!1;const i=e[Wc].initial;["height","width"].forEach(r=>{const o=i[r];Zt(o)?e.removeAttribute(r):e.setAttribute(r,o)});const s=i.style||{};return Object.keys(s).forEach(r=>{e.style[r]=s[r]}),e.width=e.width,delete e[Wc],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const s=t.$proxies||(t.$proxies={}),o={attach:kM,detach:CM,resize:OM}[e]||PM;s[e]=o(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),s=i[e];if(!s)return;({attach:xd,detach:xd,resize:xd}[e]||SM)(t,e,s),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,s){return gC(t,e,i,s)}isAttached(t){const e=t&&kp(t);return!!(e&&e.isConnected)}}function EM(n){return!Tp()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?bM:DM}let vs=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return Bo(this.x)&&Bo(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const s={};return t.forEach(r=>{s[r]=i[r]&&i[r].active()?i[r]._to:this[r]}),s}};function IM(n,t){const e=n.options.ticks,i=RM(n),s=Math.min(e.maxTicksLimit||i,i),r=e.major.enabled?FM(t):[],o=r.length,a=r[0],l=r[o-1],c=[];if(o>s)return LM(t,c,r,o/s),c;const u=NM(r,t,s);if(o>0){let h,f;const g=o>1?Math.round((l-a)/(o-1)):null;for(xc(t,c,u,Zt(g)?0:a-g,a),h=0,f=o-1;h<f;h++)xc(t,c,u,r[h],r[h+1]);return xc(t,c,u,l,Zt(g)?t.length:l+g),c}return xc(t,c,u),c}function RM(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),s=n._maxLength/e;return Math.floor(Math.min(i,s))}function NM(n,t,e){const i=VM(n),s=t.length/e;if(!i)return Math.max(s,1);const r=yk(i);for(let o=0,a=r.length-1;o<a;o++){const l=r[o];if(l>s)return l}return Math.max(s,1)}function FM(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function LM(n,t,e,i){let s=0,r=e[0],o;for(i=Math.ceil(i),o=0;o<n.length;o++)o===r&&(t.push(n[o]),s++,r=e[s*i])}function xc(n,t,e,i,s){const r=jt(i,0),o=Math.min(jt(s,n.length),n.length);let a=0,l,c,u;for(e=Math.ceil(e),s&&(l=s-i,e=l/Math.floor(l/e)),u=r;u<0;)a++,u=Math.round(r+a*e);for(c=Math.max(r,0);c<o;c++)c===u&&(t.push(n[c]),a++,u=Math.round(r+a*e))}function VM(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const BM=n=>n==="left"?"right":n==="right"?"left":n,h_=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,d_=(n,t)=>Math.min(t||n,n);function f_(n,t){const e=[],i=n.length/t,s=n.length;let r=0;for(;r<s;r+=i)e.push(n[Math.floor(r)]);return e}function WM(n,t,e){const i=n.ticks.length,s=Math.min(t,i-1),r=n._startPixel,o=n._endPixel,a=1e-6;let l=n.getPixelForTick(s),c;if(!(e&&(i===1?c=Math.max(l-r,o-l):t===0?c=(n.getPixelForTick(1)-l)/2:c=(l-n.getPixelForTick(s-1))/2,l+=s<t?c:-c,l<r-a||l>o+a)))return l}function jM(n,t){ce(n,e=>{const i=e.gc,s=i.length/2;let r;if(s>t){for(r=0;r<s;++r)delete e.data[i[r]];i.splice(0,s)}})}function ya(n){return n.drawTicks?n.tickLength:0}function p_(n,t){if(!n.display)return 0;const e=Je(n.font,t),i=Tn(n.padding);return(Oe(n.text)?n.text.length:1)*e.lineHeight+i.height}function zM(n,t){return ir(n,{scale:t,type:"scale"})}function qM(n,t,e){return ir(n,{tick:e,index:t,type:"tick"})}function $M(n,t,e){let i=yp(n);return(e&&t!=="right"||!e&&t==="right")&&(i=BM(i)),i}function UM(n,t,e,i){const{top:s,left:r,bottom:o,right:a,chart:l}=n,{chartArea:c,scales:u}=l;let h=0,f,g,_;const m=o-s,b=a-r;if(n.isHorizontal()){if(g=mn(i,r,a),ee(e)){const x=Object.keys(e)[0],T=e[x];_=u[x].getPixelForValue(T)+m-t}else e==="center"?_=(c.bottom+c.top)/2+m-t:_=h_(n,e,t);f=a-r}else{if(ee(e)){const x=Object.keys(e)[0],T=e[x];g=u[x].getPixelForValue(T)-b+t}else e==="center"?g=(c.left+c.right)/2-b+t:g=h_(n,e,t);_=mn(i,o,s),h=e==="left"?-Ue:Ue}return{titleX:g,titleY:_,maxWidth:f,rotation:h}}class Xr extends vs{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:s}=this;return t=Gn(t,Number.POSITIVE_INFINITY),e=Gn(e,Number.NEGATIVE_INFINITY),i=Gn(i,Number.POSITIVE_INFINITY),s=Gn(s,Number.NEGATIVE_INFINITY),{min:Gn(t,i),max:Gn(e,s),minDefined:Le(t),maxDefined:Le(e)}}getMinMax(t){let{min:e,max:i,minDefined:s,maxDefined:r}=this.getUserBounds(),o;if(s&&r)return{min:e,max:i};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,t),s||(e=Math.min(e,o.min)),r||(i=Math.max(i,o.max));return e=r&&e>i?i:e,i=s&&e>i?e:i,{min:Gn(e,Gn(i,e)),max:Gn(i,Gn(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ye(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:s,grace:r,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Kk(this,r,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?f_(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=IM(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ye(this.options.afterUpdate,[this])}beforeSetDimensions(){ye(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ye(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),ye(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ye(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,s,r;for(i=0,s=t.length;i<s;i++)r=t[i],r.label=ye(e.callback,[r.value,i,t],this)}afterTickToLabelConversion(){ye(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ye(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=d_(this.ticks.length,t.ticks.maxTicksLimit),s=e.minRotation||0,r=e.maxRotation;let o=s,a,l,c;if(!this._isVisible()||!e.display||s>=r||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const u=this._getLabelSizes(),h=u.widest.width,f=u.highest.height,g=on(this.chart.width-h,0,this.maxWidth);a=t.offset?this.maxWidth/i:g/(i-1),h+6>a&&(a=g/(i-(t.offset?.5:1)),l=this.maxHeight-ya(t.grid)-e.padding-p_(t.title,this.chart.options.font),c=Math.sqrt(h*h+f*f),o=mp(Math.min(Math.asin(on((u.highest.height+6)/a,-1,1)),Math.asin(on(l/c,-1,1))-Math.asin(on(f/c,-1,1)))),o=Math.max(s,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){ye(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ye(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:s,grid:r}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=p_(s,e.options.font);if(a?(t.width=this.maxWidth,t.height=ya(r)+l):(t.height=this.maxHeight,t.width=ya(r)+l),i.display&&this.ticks.length){const{first:c,last:u,widest:h,highest:f}=this._getLabelSizes(),g=i.padding*2,_=bi(this.labelRotation),m=Math.cos(_),b=Math.sin(_);if(a){const x=i.mirror?0:b*h.width+m*f.height;t.height=Math.min(this.maxHeight,t.height+x+g)}else{const x=i.mirror?0:m*h.width+b*f.height;t.width=Math.min(this.maxWidth,t.width+x+g)}this._calculatePadding(c,u,b,m)}}this._handleMargins(),a?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,s){const{ticks:{align:r,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,g=0;l?c?(f=s*t.width,g=i*e.height):(f=i*t.height,g=s*e.width):r==="start"?g=e.width:r==="end"?f=t.width:r!=="inner"&&(f=t.width/2,g=e.width/2),this.paddingLeft=Math.max((f-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((g-h+o)*this.width/(this.width-h),0)}else{let u=e.height/2,h=t.height/2;r==="start"?(u=0,h=t.height):r==="end"&&(u=e.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ye(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)Zt(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=f_(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:s,_longestTextCache:r}=this,o=[],a=[],l=Math.floor(e/d_(e,i));let c=0,u=0,h,f,g,_,m,b,x,T,O,M,w;for(h=0;h<e;h+=l){if(_=t[h].label,m=this._resolveTickFontOptions(h),s.font=b=m.string,x=r[b]=r[b]||{data:{},gc:[]},T=m.lineHeight,O=M=0,!Zt(_)&&!Oe(_))O=hu(s,x.data,x.gc,O,_),M=T;else if(Oe(_))for(f=0,g=_.length;f<g;++f)w=_[f],!Zt(w)&&!Oe(w)&&(O=hu(s,x.data,x.gc,O,w),M+=T);o.push(O),a.push(M),c=Math.max(O,c),u=Math.max(M,u)}jM(r,e);const k=o.indexOf(c),P=a.indexOf(u),A=I=>({width:o[I]||0,height:a[I]||0});return{first:A(0),last:A(e-1),widest:A(k),highest:A(P),widths:o,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return wk(this._alignToPixels?yr(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=qM(this.getContext(),t,i))}return this.$context||(this.$context=zM(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=bi(this.labelRotation),i=Math.abs(Math.cos(e)),s=Math.abs(Math.sin(e)),r=this._getLabelSizes(),o=t.autoSkipPadding||0,a=r?r.widest.width+o:0,l=r?r.highest.height+o:0;return this.isHorizontal()?l*i>a*s?a/i:l/s:l*s<a*i?l/i:a/s}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,s=this.options,{grid:r,position:o,border:a}=s,l=r.offset,c=this.isHorizontal(),h=this.ticks.length+(l?1:0),f=ya(r),g=[],_=a.setContext(this.getContext()),m=_.display?_.width:0,b=m/2,x=function(nt){return yr(i,nt,m)};let T,O,M,w,k,P,A,I,W,R,N,Z;if(o==="top")T=x(this.bottom),P=this.bottom-f,I=T-b,R=x(t.top)+b,Z=t.bottom;else if(o==="bottom")T=x(this.top),R=t.top,Z=x(t.bottom)-b,P=T+b,I=this.top+f;else if(o==="left")T=x(this.right),k=this.right-f,A=T-b,W=x(t.left)+b,N=t.right;else if(o==="right")T=x(this.left),W=t.left,N=x(t.right)-b,k=T+b,A=this.left+f;else if(e==="x"){if(o==="center")T=x((t.top+t.bottom)/2+.5);else if(ee(o)){const nt=Object.keys(o)[0],st=o[nt];T=x(this.chart.scales[nt].getPixelForValue(st))}R=t.top,Z=t.bottom,P=T+b,I=P+f}else if(e==="y"){if(o==="center")T=x((t.left+t.right)/2);else if(ee(o)){const nt=Object.keys(o)[0],st=o[nt];T=x(this.chart.scales[nt].getPixelForValue(st))}k=T-b,A=k-f,W=t.left,N=t.right}const ot=jt(s.ticks.maxTicksLimit,h),at=Math.max(1,Math.ceil(h/ot));for(O=0;O<h;O+=at){const nt=this.getContext(O),st=r.setContext(nt),pt=a.setContext(nt),mt=st.lineWidth,V=st.color,F=pt.dash||[],ft=pt.dashOffset,Mt=st.tickWidth,Ot=st.tickColor,_t=st.tickBorderDash||[],Tt=st.tickBorderDashOffset;M=WM(this,O,l),M!==void 0&&(w=yr(i,M,mt),c?k=A=W=N=w:P=I=R=Z=w,g.push({tx1:k,ty1:P,tx2:A,ty2:I,x1:W,y1:R,x2:N,y2:Z,width:mt,color:V,borderDash:F,borderDashOffset:ft,tickWidth:Mt,tickColor:Ot,tickBorderDash:_t,tickBorderDashOffset:Tt}))}return this._ticksLength=h,this._borderValue=T,g}_computeLabelItems(t){const e=this.axis,i=this.options,{position:s,ticks:r}=i,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:h}=r,f=ya(i.grid),g=f+u,_=h?-u:g,m=-bi(this.labelRotation),b=[];let x,T,O,M,w,k,P,A,I,W,R,N,Z="middle";if(s==="top")k=this.bottom-_,P=this._getXAxisLabelAlignment();else if(s==="bottom")k=this.top+_,P=this._getXAxisLabelAlignment();else if(s==="left"){const at=this._getYAxisLabelAlignment(f);P=at.textAlign,w=at.x}else if(s==="right"){const at=this._getYAxisLabelAlignment(f);P=at.textAlign,w=at.x}else if(e==="x"){if(s==="center")k=(t.top+t.bottom)/2+g;else if(ee(s)){const at=Object.keys(s)[0],nt=s[at];k=this.chart.scales[at].getPixelForValue(nt)+g}P=this._getXAxisLabelAlignment()}else if(e==="y"){if(s==="center")w=(t.left+t.right)/2-g;else if(ee(s)){const at=Object.keys(s)[0],nt=s[at];w=this.chart.scales[at].getPixelForValue(nt)}P=this._getYAxisLabelAlignment(f).textAlign}e==="y"&&(l==="start"?Z="top":l==="end"&&(Z="bottom"));const ot=this._getLabelSizes();for(x=0,T=a.length;x<T;++x){O=a[x],M=O.label;const at=r.setContext(this.getContext(x));A=this.getPixelForTick(x)+r.labelOffset,I=this._resolveTickFontOptions(x),W=I.lineHeight,R=Oe(M)?M.length:1;const nt=R/2,st=at.color,pt=at.textStrokeColor,mt=at.textStrokeWidth;let V=P;o?(w=A,P==="inner"&&(x===T-1?V=this.options.reverse?"left":"right":x===0?V=this.options.reverse?"right":"left":V="center"),s==="top"?c==="near"||m!==0?N=-R*W+W/2:c==="center"?N=-ot.highest.height/2-nt*W+W:N=-ot.highest.height+W/2:c==="near"||m!==0?N=W/2:c==="center"?N=ot.highest.height/2-nt*W:N=ot.highest.height-R*W,h&&(N*=-1),m!==0&&!at.showLabelBackdrop&&(w+=W/2*Math.sin(m))):(k=A,N=(1-R)*W/2);let F;if(at.showLabelBackdrop){const ft=Tn(at.backdropPadding),Mt=ot.heights[x],Ot=ot.widths[x];let _t=N-ft.top,Tt=0-ft.left;switch(Z){case"middle":_t-=Mt/2;break;case"bottom":_t-=Mt;break}switch(P){case"center":Tt-=Ot/2;break;case"right":Tt-=Ot;break;case"inner":x===T-1?Tt-=Ot:x>0&&(Tt-=Ot/2);break}F={left:Tt,top:_t,width:Ot+ft.width,height:Mt+ft.height,color:at.backdropColor}}b.push({label:M,font:I,textOffset:N,options:{rotation:m,color:st,strokeColor:pt,strokeWidth:mt,textAlign:V,textBaseline:Z,translation:[w,k],backdrop:F}})}return b}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-bi(this.labelRotation))return t==="top"?"left":"right";let s="center";return e.align==="start"?s="left":e.align==="end"?s="right":e.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:s,padding:r}}=this.options,o=this._getLabelSizes(),a=t+r,l=o.widest.width;let c,u;return e==="left"?s?(u=this.right+r,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u=this.left)):e==="right"?s?(u=this.left+r,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:s,width:r,height:o}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,s,r,o),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const s=this.ticks.findIndex(r=>r.value===t);return s>=0?e.setContext(this.getContext(s)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let r,o;const a=(l,c,u)=>{!u.width||!u.color||(i.save(),i.lineWidth=u.width,i.strokeStyle=u.color,i.setLineDash(u.borderDash||[]),i.lineDashOffset=u.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(e.display)for(r=0,o=s.length;r<o;++r){const l=s[r];e.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),e.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:s}}=this,r=i.setContext(this.getContext()),o=i.display?r.width:0;if(!o)return;const a=s.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,h,f;this.isHorizontal()?(c=yr(t,this.left,o)-o/2,u=yr(t,this.right,a)+a/2,h=f=l):(h=yr(t,this.top,o)-o/2,f=yr(t,this.bottom,a)+a/2,c=u=l),e.save(),e.lineWidth=r.width,e.strokeStyle=r.color,e.beginPath(),e.moveTo(c,h),e.lineTo(u,f),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&Qu(i,s);const r=this.getLabelItems(t);for(const o of r){const a=o.options,l=o.font,c=o.label,u=o.textOffset;Wr(i,c,0,u,l,a)}s&&Ju(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:s}}=this;if(!i.display)return;const r=Je(i.font),o=Tn(i.padding),a=i.align;let l=r.lineHeight/2;e==="bottom"||e==="center"||ee(e)?(l+=o.bottom,Oe(i.text)&&(l+=r.lineHeight*(i.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:h,rotation:f}=UM(this,l,e,a);Wr(t,i.text,0,0,r,{color:i.color,maxWidth:h,rotation:f,textAlign:$M(a,e,s),textBaseline:"middle",translation:[c,u]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=jt(t.grid&&t.grid.z,-1),s=jt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Xr.prototype.draw?[{z:e,draw:r=>{this.draw(r)}}]:[{z:i,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:e,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let r,o;for(r=0,o=e.length;r<o;++r){const a=e[r];a[i]===this.id&&(!t||a.type===t)&&s.push(a)}return s}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return Je(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class wc{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;YM(e)&&(i=this.register(e));const s=this.items,r=t.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+t);return r in s||(s[r]=t,HM(t,o,i),this.override&&Pe.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,s=this.scope;i in e&&delete e[i],s&&i in Pe[s]&&(delete Pe[s][i],this.override&&delete Br[i])}}function HM(n,t,e){const i=el(Object.create(null),[e?Pe.get(e):{},Pe.get(t),n.defaults]);Pe.set(t,i),n.defaultRoutes&&KM(t,n.defaultRoutes),n.descriptors&&Pe.describe(t,n.descriptors)}function KM(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),s=i.pop(),r=[n].concat(i).join("."),o=t[e].split("."),a=o.pop(),l=o.join(".");Pe.route(r,s,l,a)})}function YM(n){return"id"in n&&"defaults"in n}class GM{constructor(){this.controllers=new wc(sr,"datasets",!0),this.elements=new wc(vs,"elements"),this.plugins=new wc(Object,"plugins"),this.scales=new wc(Xr,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(s=>{const r=i||this._getRegistryForType(s);i||r.isForType(s)||r===this.plugins&&s.id?this._exec(t,r,s):ce(s,o=>{const a=i||this._getRegistryForType(o);this._exec(t,a,o)})})}_exec(t,e,i){const s=gp(t);ye(i["before"+s],[],i),e[t](i),ye(i["after"+s],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const s=e.get(t);if(s===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return s}}var Ri=new GM;class XM{constructor(){this._init=[]}notify(t,e,i,s){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const r=s?this._descriptors(t).filter(s):this._descriptors(t),o=this._notify(r,t,e,i);return e==="afterDestroy"&&(this._notify(r,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,e,i,s){s=s||{};for(const r of t){const o=r.plugin,a=o[i],l=[e,s,r.options];if(ye(a,l,o)===!1&&s.cancelable)return!1}return!0}invalidate(){Zt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,s=jt(i.options&&i.options.plugins,{}),r=ZM(i);return s===!1&&!e?[]:JM(t,r,s,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,s=(r,o)=>r.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(s(e,i),t,"stop"),this._notify(s(i,e),t,"start")}}function ZM(n){const t={},e=[],i=Object.keys(Ri.plugins.items);for(let r=0;r<i.length;r++)e.push(Ri.getPlugin(i[r]));const s=n.plugins||[];for(let r=0;r<s.length;r++){const o=s[r];e.indexOf(o)===-1&&(e.push(o),t[o.id]=!0)}return{plugins:e,localIds:t}}function QM(n,t){return!t&&n===!1?null:n===!0?{}:n}function JM(n,{plugins:t,localIds:e},i,s){const r=[],o=n.getContext();for(const a of t){const l=a.id,c=QM(i[l],s);c!==null&&r.push({plugin:a,options:tA(n.config,{plugin:a,local:e[l]},c,o)})}return r}function tA(n,{plugin:t,local:e},i,s){const r=n.pluginScopeKeys(t),o=n.getOptionScopes(i,r);return e&&t.defaults&&o.push(t.defaults),n.createResolver(o,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function uf(n,t){const e=Pe.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function eA(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function nA(n,t){return n===t?"_index_":"_value_"}function g_(n){if(n==="x"||n==="y"||n==="r")return n}function iA(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function hf(n,...t){if(g_(n))return n;for(const e of t){const i=e.axis||iA(e.position)||n.length>1&&g_(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function m_(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function sA(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return m_(n,"x",e[0])||m_(n,"y",e[0])}return{}}function rA(n,t){const e=Br[n.type]||{scales:{}},i=t.scales||{},s=uf(n.type,t),r=Object.create(null);return Object.keys(i).forEach(o=>{const a=i[o];if(!ee(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=hf(o,a,sA(o,n),Pe.scales[a.type]),c=nA(l,s),u=e.scales||{};r[o]=La(Object.create(null),[{axis:l},a,u[l],u[c]])}),n.data.datasets.forEach(o=>{const a=o.type||n.type,l=o.indexAxis||uf(a,t),u=(Br[a]||{}).scales||{};Object.keys(u).forEach(h=>{const f=eA(h,l),g=o[f+"AxisID"]||f;r[g]=r[g]||Object.create(null),La(r[g],[{axis:f},i[g],u[h]])})}),Object.keys(r).forEach(o=>{const a=r[o];La(a,[Pe.scales[a.type],Pe.scale])}),r}function rv(n){const t=n.options||(n.options={});t.plugins=jt(t.plugins,{}),t.scales=rA(n,t)}function ov(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function oA(n){return n=n||{},n.data=ov(n.data),rv(n),n}const __=new Map,av=new Set;function Sc(n,t){let e=__.get(n);return e||(e=t(),__.set(n,e),av.add(e)),e}const ba=(n,t,e)=>{const i=Qs(t,e);i!==void 0&&n.add(i)};class aA{constructor(t){this._config=oA(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=ov(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),rv(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Sc(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return Sc(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return Sc(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return Sc(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let s=i.get(t);return(!s||e)&&(s=new Map,i.set(t,s)),s}getOptionScopes(t,e,i){const{options:s,type:r}=this,o=this._cachedScopes(t,i),a=o.get(e);if(a)return a;const l=new Set;e.forEach(u=>{t&&(l.add(t),u.forEach(h=>ba(l,t,h))),u.forEach(h=>ba(l,s,h)),u.forEach(h=>ba(l,Br[r]||{},h)),u.forEach(h=>ba(l,Pe,h)),u.forEach(h=>ba(l,lf,h))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),av.has(e)&&o.set(e,c),c}chartOptionScopes(){const{options:t,type:e}=this;return[t,Br[e]||{},Pe.datasets[e]||{},{type:e},Pe,lf]}resolveNamedOptions(t,e,i,s=[""]){const r={$shared:!0},{resolver:o,subPrefixes:a}=y_(this._resolverCache,t,s);let l=o;if(cA(o,e)){r.$shared=!1,i=Js(i)?i():i;const c=this.createResolver(t,i,a);l=Wo(o,i,c)}for(const c of e)r[c]=l[c];return r}createResolver(t,e,i=[""],s){const{resolver:r}=y_(this._resolverCache,t,i);return ee(e)?Wo(r,e,void 0,s):r}}function y_(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const s=e.join();let r=i.get(s);return r||(r={resolver:xp(t,e),subPrefixes:e.filter(a=>!a.toLowerCase().includes("hover"))},i.set(s,r)),r}const lA=n=>ee(n)&&Object.getOwnPropertyNames(n).some(t=>Js(n[t]));function cA(n,t){const{isScriptable:e,isIndexable:i}=Vb(n);for(const s of t){const r=e(s),o=i(s),a=(o||r)&&n[s];if(r&&(Js(a)||lA(a))||o&&Oe(a))return!0}return!1}var uA="4.5.0";const hA=["top","bottom","left","right","chartArea"];function b_(n,t){return n==="top"||n==="bottom"||hA.indexOf(n)===-1&&t==="x"}function v_(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function x_(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),ye(e&&e.onComplete,[n],t)}function dA(n){const t=n.chart,e=t.options.animation;ye(e&&e.onProgress,[n],t)}function lv(n){return Tp()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const jc={},w_=n=>{const t=lv(n);return Object.values(jc).filter(e=>e.canvas===t).pop()};function fA(n,t,e){const i=Object.keys(n);for(const s of i){const r=+s;if(r>=t){const o=n[s];delete n[s],(e>0||r>t)&&(n[r+e]=o)}}}function pA(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}class Ap{static defaults=Pe;static instances=jc;static overrides=Br;static registry=Ri;static version=uA;static getChart=w_;static register(...t){Ri.add(...t),S_()}static unregister(...t){Ri.remove(...t),S_()}constructor(t,e){const i=this.config=new aA(e),s=lv(t),r=w_(s);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||EM(s)),this.platform.updateConfig(i);const a=this.platform.acquireContext(s,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=ck(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new XM,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Ck(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],jc[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Qi.listen(this,"complete",x_),Qi.listen(this,"progress",dA),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:s,_aspectRatio:r}=this;return Zt(t)?e&&r?r:s?i/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Ri}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Um(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return zm(this.canvas,this.ctx),this}stop(){return Qi.stop(this),this}resize(t,e){Qi.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,s=this.canvas,r=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(s,t,e,r),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Um(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),ye(i.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};ce(e,(i,s)=>{i.id=s})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,s=Object.keys(i).reduce((o,a)=>(o[a]=!1,o),{});let r=[];e&&(r=r.concat(Object.keys(e).map(o=>{const a=e[o],l=hf(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),ce(r,o=>{const a=o.options,l=a.id,c=hf(l,a),u=jt(a.type,o.dtype);(a.position===void 0||b_(a.position,c)!==b_(o.dposition))&&(a.position=o.dposition),s[l]=!0;let h=null;if(l in i&&i[l].type===u)h=i[l];else{const f=Ri.getScale(u);h=new f({id:l,type:u,ctx:this.ctx,chart:this}),i[h.id]=h}h.init(a,t)}),ce(s,(o,a)=>{o||delete i[a]}),ce(i,o=>{vn.configure(this,o,o.options),vn.addBox(this,o)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((s,r)=>s.index-r.index),i>e){for(let s=e;s<i;++s)this._destroyDatasetMeta(s);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(v_("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,s)=>{e.filter(r=>r===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=e.length;i<s;i++){const r=e[i];let o=this.getDatasetMeta(i);const a=r.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=a,o.indexAxis=r.indexAxis||uf(a,this.options),o.order=r.order||0,o.index=i,o.label=""+r.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const l=Ri.getController(a),{datasetElementType:c,dataElementType:u}=Pe.datasets[a];Object.assign(l,{dataElementType:Ri.getElement(u),datasetElementType:c&&Ri.getElement(c)}),o.controller=new l(this,i),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){ce(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:h}=this.getDatasetMeta(c),f=!s&&r.indexOf(h)===-1;h.buildOrUpdateElements(f),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),s||ce(r,c=>{c.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(v_("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){ce(this.scales,t=>{vn.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!Im(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:r}of e){const o=i==="_removeElements"?-r:r;fA(t,s,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=r=>new Set(t.filter(o=>o[0]===r).map((o,a)=>a+","+o.splice(1).join(","))),s=i(0);for(let r=1;r<e;r++)if(!Im(s,i(r)))return;return Array.from(s).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;vn.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],ce(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,r)=>{s._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,Js(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),s={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(e),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Qi.has(this)?this.attached&&!Qi.running(this)&&Qi.start(this):(this.draw(),x_({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let s,r;for(s=0,r=e.length;s<r;++s){const o=e[s];(!t||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},s=Gb(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(s&&Qu(e,s),t.controller.draw(),s&&Ju(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return hs(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,s){const r=hM.modes[e];return typeof r=="function"?r(this,t,i,s):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let s=i.filter(r=>r&&r._dataset===e).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=ir(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const s=i?"show":"hide",r=this.getDatasetMeta(t),o=r.controller._resolveAnimations(void 0,s);nl(e)?(r.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),o.update(r,{visible:i}),this.update(a=>a.datasetIndex===t?s:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),Qi.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),zm(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete jc[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(r,o)=>{e.addEventListener(this,r,o),t[r]=o},s=(r,o,a)=>{r.offsetX=o,r.offsetY=a,this._eventHandler(r)};ce(this.options.events,r=>i(r,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(l,c)=>{e.addEventListener(this,l,c),t[l]=c},s=(l,c)=>{t[l]&&(e.removeEventListener(this,l,c),delete t[l])},r=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{s("attach",a),this.attached=!0,this.resize(),i("resize",r),i("detach",o)};o=()=>{this.attached=!1,s("resize",r),this._stop(),this._resize(0,0),i("attach",a)},e.isAttached(this.canvas)?a():o()}unbindEvents(){ce(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},ce(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const s=i?"set":"remove";let r,o,a,l;for(e==="dataset"&&(r=this.getDatasetMeta(t[0].datasetIndex),r.controller["_"+s+"DatasetHoverStyle"]()),a=0,l=t.length;a<l;++a){o=t[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[s+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:r,index:o})=>{const a=this.getDatasetMeta(r);if(!a)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:a.data[o],index:o}});!lu(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const s=this.options.hover,r=(l,c)=>l.filter(u=>!c.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),o=r(e,t),a=i?t:r(t,e);o.length&&this.updateHoverStyle(o,s.mode,!1),a.length&&s.mode&&this.updateHoverStyle(a,s.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},s=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const r=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(r||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:s=[],options:r}=this,o=e,a=this._getActiveElements(t,s,i,o),l=gk(t),c=pA(t,this._lastEvent,i,l);i&&(this._lastEvent=null,ye(r.onHover,[t,a,this],this),l&&ye(r.onClick,[t,a,this],this));const u=!lu(a,s);return(u||e)&&(this._active=a,this._updateHoverStyles(a,s,e)),this._lastEvent=c,u}_getActiveElements(t,e,i,s){if(t.type==="mouseout")return[];if(!i)return e;const r=this.options.hover;return this.getElementsAtEventForMode(t,r.mode,r,s)}}function S_(){return ce(Ap.instances,n=>n._plugins.invalidate())}function gA(n,t,e){const{startAngle:i,x:s,y:r,outerRadius:o,innerRadius:a,options:l}=t,{borderWidth:c,borderJoinStyle:u}=l,h=Math.min(c/o,_n(i-e));if(n.beginPath(),n.arc(s,r,o-c/2,i+h/2,e-h/2),a>0){const f=Math.min(c/a,_n(i-e));n.arc(s,r,a+c/2,e-f/2,i+f/2,!0)}else{const f=Math.min(c/2,o*_n(i-e));if(u==="round")n.arc(s,r,f,e-oe/2,i+oe/2,!0);else if(u==="bevel"){const g=2*f*f,_=-g*Math.cos(e+oe/2)+s,m=-g*Math.sin(e+oe/2)+r,b=g*Math.cos(i+oe/2)+s,x=g*Math.sin(i+oe/2)+r;n.lineTo(_,m),n.lineTo(b,x)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function mA(n,t,e){const{startAngle:i,pixelMargin:s,x:r,y:o,outerRadius:a,innerRadius:l}=t;let c=s/a;n.beginPath(),n.arc(r,o,a,i-c,e+c),l>s?(c=s/l,n.arc(r,o,l,e+c,i-c,!0)):n.arc(r,o,s,e+Ue,i-Ue),n.closePath(),n.clip()}function _A(n){return vp(n,["outerStart","outerEnd","innerStart","innerEnd"])}function yA(n,t,e,i){const s=_A(n.options.borderRadius),r=(e-t)/2,o=Math.min(r,i*t/2),a=l=>{const c=(e-Math.min(r,l))*i/2;return on(l,0,Math.min(r,c))};return{outerStart:a(s.outerStart),outerEnd:a(s.outerEnd),innerStart:on(s.innerStart,0,o),innerEnd:on(s.innerEnd,0,o)}}function ho(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function pu(n,t,e,i,s,r){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=t,h=Math.max(t.outerRadius+i+e-c,0),f=u>0?u+i+e+c:0;let g=0;const _=s-l;if(i){const at=u>0?u-i:0,nt=h>0?h-i:0,st=(at+nt)/2,pt=st!==0?_*st/(st+i):_;g=(_-pt)/2}const m=Math.max(.001,_*h-e/oe)/h,b=(_-m)/2,x=l+b+g,T=s-b-g,{outerStart:O,outerEnd:M,innerStart:w,innerEnd:k}=yA(t,f,h,T-x),P=h-O,A=h-M,I=x+O/P,W=T-M/A,R=f+w,N=f+k,Z=x+w/R,ot=T-k/N;if(n.beginPath(),r){const at=(I+W)/2;if(n.arc(o,a,h,I,at),n.arc(o,a,h,at,W),M>0){const mt=ho(A,W,o,a);n.arc(mt.x,mt.y,M,W,T+Ue)}const nt=ho(N,T,o,a);if(n.lineTo(nt.x,nt.y),k>0){const mt=ho(N,ot,o,a);n.arc(mt.x,mt.y,k,T+Ue,ot+Math.PI)}const st=(T-k/f+(x+w/f))/2;if(n.arc(o,a,f,T-k/f,st,!0),n.arc(o,a,f,st,x+w/f,!0),w>0){const mt=ho(R,Z,o,a);n.arc(mt.x,mt.y,w,Z+Math.PI,x-Ue)}const pt=ho(P,x,o,a);if(n.lineTo(pt.x,pt.y),O>0){const mt=ho(P,I,o,a);n.arc(mt.x,mt.y,O,x-Ue,I)}}else{n.moveTo(o,a);const at=Math.cos(I)*h+o,nt=Math.sin(I)*h+a;n.lineTo(at,nt);const st=Math.cos(W)*h+o,pt=Math.sin(W)*h+a;n.lineTo(st,pt)}n.closePath()}function bA(n,t,e,i,s){const{fullCircles:r,startAngle:o,circumference:a}=t;let l=t.endAngle;if(r){pu(n,t,e,i,l,s);for(let c=0;c<r;++c)n.fill();isNaN(a)||(l=o+(a%we||we))}return pu(n,t,e,i,l,s),n.fill(),l}function vA(n,t,e,i,s){const{fullCircles:r,startAngle:o,circumference:a,options:l}=t,{borderWidth:c,borderJoinStyle:u,borderDash:h,borderDashOffset:f,borderRadius:g}=l,_=l.borderAlign==="inner";if(!c)return;n.setLineDash(h||[]),n.lineDashOffset=f,_?(n.lineWidth=c*2,n.lineJoin=u||"round"):(n.lineWidth=c,n.lineJoin=u||"bevel");let m=t.endAngle;if(r){pu(n,t,e,i,m,s);for(let b=0;b<r;++b)n.stroke();isNaN(a)||(m=o+(a%we||we))}_&&mA(n,t,m),l.selfJoin&&m-o>=oe&&g===0&&u!=="miter"&&gA(n,t,m),r||(pu(n,t,e,i,m,s),n.stroke())}class xA extends vs{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){const s=this.getProps(["x","y"],i),{angle:r,distance:o}=Ab(s,{x:t,y:e}),{startAngle:a,endAngle:l,innerRadius:c,outerRadius:u,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),f=(this.options.spacing+this.options.borderWidth)/2,g=jt(h,l-a),_=il(r,a,l)&&a!==l,m=g>=we||_,b=cs(o,c+f,u+f);return m&&b}getCenterPoint(t){const{x:e,y:i,startAngle:s,endAngle:r,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:l,spacing:c}=this.options,u=(s+r)/2,h=(o+a+c+l)/2;return{x:e+Math.cos(u)*h,y:i+Math.sin(u)*h}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:i}=this,s=(e.offset||0)/4,r=(e.spacing||0)/2,o=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=i>we?Math.floor(i/we):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const a=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(a)*s,Math.sin(a)*s);const l=1-Math.sin(Math.min(oe,i||0)),c=s*l;t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,bA(t,this,c,r,o),vA(t,this,c,r,o),t.restore()}}function cv(n,t,e=t){n.lineCap=jt(e.borderCapStyle,t.borderCapStyle),n.setLineDash(jt(e.borderDash,t.borderDash)),n.lineDashOffset=jt(e.borderDashOffset,t.borderDashOffset),n.lineJoin=jt(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=jt(e.borderWidth,t.borderWidth),n.strokeStyle=jt(e.borderColor,t.borderColor)}function wA(n,t,e){n.lineTo(e.x,e.y)}function SA(n){return n.stepped?Vk:n.tension||n.cubicInterpolationMode==="monotone"?Bk:wA}function uv(n,t,e={}){const i=n.length,{start:s=0,end:r=i-1}=e,{start:o,end:a}=t,l=Math.max(s,o),c=Math.min(r,a),u=s<o&&r<o||s>a&&r>a;return{count:i,start:l,loop:t.loop,ilen:c<l&&!u?i+c-l:c-l}}function TA(n,t,e,i){const{points:s,options:r}=t,{count:o,start:a,loop:l,ilen:c}=uv(s,e,i),u=SA(r);let{move:h=!0,reverse:f}=i||{},g,_,m;for(g=0;g<=c;++g)_=s[(a+(f?c-g:g))%o],!_.skip&&(h?(n.moveTo(_.x,_.y),h=!1):u(n,m,_,f,r.stepped),m=_);return l&&(_=s[(a+(f?c:0))%o],u(n,m,_,f,r.stepped)),!!l}function kA(n,t,e,i){const s=t.points,{count:r,start:o,ilen:a}=uv(s,e,i),{move:l=!0,reverse:c}=i||{};let u=0,h=0,f,g,_,m,b,x;const T=M=>(o+(c?a-M:M))%r,O=()=>{m!==b&&(n.lineTo(u,b),n.lineTo(u,m),n.lineTo(u,x))};for(l&&(g=s[T(0)],n.moveTo(g.x,g.y)),f=0;f<=a;++f){if(g=s[T(f)],g.skip)continue;const M=g.x,w=g.y,k=M|0;k===_?(w<m?m=w:w>b&&(b=w),u=(h*u+M)/++h):(O(),n.lineTo(M,w),_=k,h=0,m=b=w),x=w}O()}function df(n){const t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?kA:TA}function CA(n){return n.stepped?_C:n.tension||n.cubicInterpolationMode==="monotone"?yC:Tr}function MA(n,t,e,i){let s=t._path;s||(s=t._path=new Path2D,t.path(s,e,i)&&s.closePath()),cv(n,t.options),n.stroke(s)}function AA(n,t,e,i){const{segments:s,options:r}=t,o=df(t);for(const a of s)cv(n,r,a.style),n.beginPath(),o(n,t,a,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}const OA=typeof Path2D=="function";function PA(n,t,e,i){OA&&!t.options.segment?MA(n,t,e,i):AA(n,t,e,i)}class nh extends vs{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;cC(this._points,i,t,s,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=TC(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,s=t[e],r=this.points,o=Yb(this,{property:e,start:s,end:s});if(!o.length)return;const a=[],l=CA(i);let c,u;for(c=0,u=o.length;c<u;++c){const{start:h,end:f}=o[c],g=r[h],_=r[f];if(g===_){a.push(g);continue}const m=Math.abs((s-g[e])/(_[e]-g[e])),b=l(g,_,m,i.stepped);b[e]=t[e],a.push(b)}return a.length===1?a[0]:a}pathSegment(t,e,i){return df(this)(t,this,e,i)}path(t,e,i){const s=this.segments,r=df(this);let o=this._loop;e=e||0,i=i||this.points.length-e;for(const a of s)o&=r(t,this,a,{start:e,end:e+i-1});return!!o}draw(t,e,i,s){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(t.save(),PA(t,this,i,s),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function T_(n,t,e,i){const s=n.options,{[e]:r}=n.getProps([e],i);return Math.abs(t-r)<s.radius+s.hitRadius}class DA extends vs{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,i){const s=this.options,{x:r,y:o}=this.getProps(["x","y"],i);return Math.pow(t-r,2)+Math.pow(e-o,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(t,e){return T_(this,t,"x",e)}inYRange(t,e){return T_(this,t,"y",e)}getCenterPoint(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}size(t){t=t||this.options||{};let e=t.radius||0;e=Math.max(e,e&&t.hoverRadius||0);const i=e&&t.borderWidth||0;return(e+i)*2}draw(t,e){const i=this.options;this.skip||i.radius<.1||!hs(this,e,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,cf(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function hv(n,t){const{x:e,y:i,base:s,width:r,height:o}=n.getProps(["x","y","base","width","height"],t);let a,l,c,u,h;return n.horizontal?(h=o/2,a=Math.min(e,s),l=Math.max(e,s),c=i-h,u=i+h):(h=r/2,a=e-h,l=e+h,c=Math.min(i,s),u=Math.max(i,s)),{left:a,top:c,right:l,bottom:u}}function js(n,t,e,i){return n?0:on(t,e,i)}function EA(n,t,e){const i=n.options.borderWidth,s=n.borderSkipped,r=Lb(i);return{t:js(s.top,r.top,0,e),r:js(s.right,r.right,0,t),b:js(s.bottom,r.bottom,0,e),l:js(s.left,r.left,0,t)}}function IA(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),s=n.options.borderRadius,r=Rr(s),o=Math.min(t,e),a=n.borderSkipped,l=i||ee(s);return{topLeft:js(!l||a.top||a.left,r.topLeft,0,o),topRight:js(!l||a.top||a.right,r.topRight,0,o),bottomLeft:js(!l||a.bottom||a.left,r.bottomLeft,0,o),bottomRight:js(!l||a.bottom||a.right,r.bottomRight,0,o)}}function RA(n){const t=hv(n),e=t.right-t.left,i=t.bottom-t.top,s=EA(n,e/2,i/2),r=IA(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:r},inner:{x:t.left+s.l,y:t.top+s.t,w:e-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,r.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(s.b,s.r))}}}}function wd(n,t,e,i){const s=t===null,r=e===null,a=n&&!(s&&r)&&hv(n,i);return a&&(s||cs(t,a.left,a.right))&&(r||cs(e,a.top,a.bottom))}function NA(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function FA(n,t){n.rect(t.x,t.y,t.w,t.h)}function Sd(n,t,e={}){const i=n.x!==e.x?-t:0,s=n.y!==e.y?-t:0,r=(n.x+n.w!==e.x+e.w?t:0)-i,o=(n.y+n.h!==e.y+e.h?t:0)-s;return{x:n.x+i,y:n.y+s,w:n.w+r,h:n.h+o,radius:n.radius}}class LA extends vs{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:s}}=this,{inner:r,outer:o}=RA(this),a=NA(o.radius)?sl:FA;t.save(),(o.w!==r.w||o.h!==r.h)&&(t.beginPath(),a(t,Sd(o,e,r)),t.clip(),a(t,Sd(r,-e,o)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),a(t,Sd(r,e)),t.fillStyle=s,t.fill(),t.restore()}inRange(t,e,i){return wd(this,t,e,i)}inXRange(t,e){return wd(this,t,null,e)}inYRange(t,e){return wd(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:s,horizontal:r}=this.getProps(["x","y","base","horizontal"],t);return{x:r?(e+s)/2:e,y:r?i:(i+s)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}var VA=Object.freeze({__proto__:null,ArcElement:xA,BarElement:LA,LineElement:nh,PointElement:DA});const ff=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],k_=ff.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function dv(n){return ff[n%ff.length]}function fv(n){return k_[n%k_.length]}function BA(n,t){return n.borderColor=dv(t),n.backgroundColor=fv(t),++t}function WA(n,t){return n.backgroundColor=n.data.map(()=>dv(t++)),t}function jA(n,t){return n.backgroundColor=n.data.map(()=>fv(t++)),t}function zA(n){let t=0;return(e,i)=>{const s=n.getDatasetMeta(i).controller;s instanceof Cp?t=WA(e,t):s instanceof Jb?t=jA(e,t):s&&(t=BA(e,t))}}function C_(n){let t;for(t in n)if(n[t].borderColor||n[t].backgroundColor)return!0;return!1}function qA(n){return n&&(n.borderColor||n.backgroundColor)}function $A(){return Pe.borderColor!=="rgba(0,0,0,0.1)"||Pe.backgroundColor!=="rgba(0,0,0,0.1)"}var UA={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,t,e){if(!e.enabled)return;const{data:{datasets:i},options:s}=n.config,{elements:r}=s,o=C_(i)||qA(s)||r&&C_(r)||$A();if(!e.forceOverride&&o)return;const a=zA(n);i.forEach(a)}};function HA(n,t,e,i,s){const r=s.samples||i;if(r>=e)return n.slice(t,t+e);const o=[],a=(e-2)/(r-2);let l=0;const c=t+e-1;let u=t,h,f,g,_,m;for(o[l++]=n[u],h=0;h<r-2;h++){let b=0,x=0,T;const O=Math.floor((h+1)*a)+1+t,M=Math.min(Math.floor((h+2)*a)+1,e)+t,w=M-O;for(T=O;T<M;T++)b+=n[T].x,x+=n[T].y;b/=w,x/=w;const k=Math.floor(h*a)+1+t,P=Math.min(Math.floor((h+1)*a)+1,e)+t,{x:A,y:I}=n[u];for(g=_=-1,T=k;T<P;T++)_=.5*Math.abs((A-b)*(n[T].y-I)-(A-n[T].x)*(x-I)),_>g&&(g=_,f=n[T],m=T);o[l++]=f,u=m}return o[l++]=n[c],o}function KA(n,t,e,i){let s=0,r=0,o,a,l,c,u,h,f,g,_,m;const b=[],x=t+e-1,T=n[t].x,M=n[x].x-T;for(o=t;o<t+e;++o){a=n[o],l=(a.x-T)/M*i,c=a.y;const w=l|0;if(w===u)c<_?(_=c,h=o):c>m&&(m=c,f=o),s=(r*s+a.x)/++r;else{const k=o-1;if(!Zt(h)&&!Zt(f)){const P=Math.min(h,f),A=Math.max(h,f);P!==g&&P!==k&&b.push({...n[P],x:s}),A!==g&&A!==k&&b.push({...n[A],x:s})}o>0&&k!==g&&b.push(n[k]),b.push(a),u=w,r=0,_=m=c,h=f=g=o}}return b}function pv(n){if(n._decimated){const t=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function M_(n){n.data.datasets.forEach(t=>{pv(t)})}function YA(n,t){const e=t.length;let i=0,s;const{iScale:r}=n,{min:o,max:a,minDefined:l,maxDefined:c}=r.getUserBounds();return l&&(i=on(us(t,r.axis,o).lo,0,e-1)),c?s=on(us(t,r.axis,a).hi+1,i,e)-i:s=e-i,{start:i,count:s}}var GA={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,t,e)=>{if(!e.enabled){M_(n);return}const i=n.width;n.data.datasets.forEach((s,r)=>{const{_data:o,indexAxis:a}=s,l=n.getDatasetMeta(r),c=o||s.data;if(Ta([a,n.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const u=n.scales[l.xAxisID];if(u.type!=="linear"&&u.type!=="time"||n.options.parsing)return;let{start:h,count:f}=YA(l,c);const g=e.threshold||4*i;if(f<=g){pv(s);return}Zt(o)&&(s._data=c,delete s.data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(m){this._data=m}}));let _;switch(e.algorithm){case"lttb":_=HA(c,h,f,i,e);break;case"min-max":_=KA(c,h,f,i);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}s._decimated=_})},destroy(n){M_(n)}};function XA(n,t,e){const i=n.segments,s=n.points,r=t.points,o=[];for(const a of i){let{start:l,end:c}=a;c=ih(l,c,s);const u=pf(e,s[l],s[c],a.loop);if(!t.segments){o.push({source:a,target:u,start:s[l],end:s[c]});continue}const h=Yb(t,u);for(const f of h){const g=pf(e,r[f.start],r[f.end],f.loop),_=Kb(a,s,g);for(const m of _)o.push({source:m,target:f,start:{[e]:A_(u,g,"start",Math.max)},end:{[e]:A_(u,g,"end",Math.min)}})}}return o}function pf(n,t,e,i){if(i)return;let s=t[n],r=e[n];return n==="angle"&&(s=_n(s),r=_n(r)),{property:n,start:s,end:r}}function ZA(n,t){const{x:e=null,y:i=null}=n||{},s=t.points,r=[];return t.segments.forEach(({start:o,end:a})=>{a=ih(o,a,s);const l=s[o],c=s[a];i!==null?(r.push({x:l.x,y:i}),r.push({x:c.x,y:i})):e!==null&&(r.push({x:e,y:l.y}),r.push({x:e,y:c.y}))}),r}function ih(n,t,e){for(;t>n;t--){const i=e[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function A_(n,t,e,i){return n&&t?i(n[e],t[e]):n?n[e]:t?t[e]:0}function gv(n,t){let e=[],i=!1;return Oe(n)?(i=!0,e=n):e=ZA(n,t),e.length?new nh({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function O_(n){return n&&n.fill!==!1}function QA(n,t,e){let s=n[t].fill;const r=[t];let o;if(!e)return s;for(;s!==!1&&r.indexOf(s)===-1;){if(!Le(s))return s;if(o=n[s],!o)return!1;if(o.visible)return s;r.push(s),s=o.fill}return!1}function JA(n,t,e){const i=iO(n);if(ee(i))return isNaN(i.value)?!1:i;let s=parseFloat(i);return Le(s)&&Math.floor(s)===s?tO(i[0],t,s,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function tO(n,t,e,i){return(n==="-"||n==="+")&&(e=t+e),e===t||e<0||e>=i?!1:e}function eO(n,t){let e=null;return n==="start"?e=t.bottom:n==="end"?e=t.top:ee(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}function nO(n,t,e){let i;return n==="start"?i=e:n==="end"?i=t.options.reverse?t.min:t.max:ee(n)?i=n.value:i=t.getBaseValue(),i}function iO(n){const t=n.options,e=t.fill;let i=jt(e&&e.target,e);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function sO(n){const{scale:t,index:e,line:i}=n,s=[],r=i.segments,o=i.points,a=rO(t,e);a.push(gv({x:null,y:t.bottom},i));for(let l=0;l<r.length;l++){const c=r[l];for(let u=c.start;u<=c.end;u++)oO(s,o[u],a)}return new nh({points:s,options:{}})}function rO(n,t){const e=[],i=n.getMatchingVisibleMetas("line");for(let s=0;s<i.length;s++){const r=i[s];if(r.index===t)break;r.hidden||e.unshift(r.dataset)}return e}function oO(n,t,e){const i=[];for(let s=0;s<e.length;s++){const r=e[s],{first:o,last:a,point:l}=aO(r,t,"x");if(!(!l||o&&a)){if(o)i.unshift(l);else if(n.push(l),!a)break}}n.push(...i)}function aO(n,t,e){const i=n.interpolate(t,e);if(!i)return{};const s=i[e],r=n.segments,o=n.points;let a=!1,l=!1;for(let c=0;c<r.length;c++){const u=r[c],h=o[u.start][e],f=o[u.end][e];if(cs(s,h,f)){a=s===h,l=s===f;break}}return{first:a,last:l,point:i}}class mv{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){const{x:s,y:r,radius:o}=this;return e=e||{start:0,end:we},t.arc(s,r,o,e.end,e.start,!0),!i.bounds}interpolate(t){const{x:e,y:i,radius:s}=this,r=t.angle;return{x:e+Math.cos(r)*s,y:i+Math.sin(r)*s,angle:r}}}function lO(n){const{chart:t,fill:e,line:i}=n;if(Le(e))return cO(t,e);if(e==="stack")return sO(n);if(e==="shape")return!0;const s=uO(n);return s instanceof mv?s:gv(s,i)}function cO(n,t){const e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}function uO(n){return(n.scale||{}).getPointPositionForValue?dO(n):hO(n)}function hO(n){const{scale:t={},fill:e}=n,i=eO(e,t);if(Le(i)){const s=t.isHorizontal();return{x:s?i:null,y:s?null:i}}return null}function dO(n){const{scale:t,fill:e}=n,i=t.options,s=t.getLabels().length,r=i.reverse?t.max:t.min,o=nO(e,t,r),a=[];if(i.grid.circular){const l=t.getPointPositionForValue(0,r);return new mv({x:l.x,y:l.y,radius:t.getDistanceFromCenterForValue(o)})}for(let l=0;l<s;++l)a.push(t.getPointPositionForValue(l,o));return a}function Td(n,t,e){const i=lO(t),{chart:s,index:r,line:o,scale:a,axis:l}=t,c=o.options,u=c.fill,h=c.backgroundColor,{above:f=h,below:g=h}=u||{},_=s.getDatasetMeta(r),m=Gb(s,_);i&&o.points.length&&(Qu(n,e),fO(n,{line:o,target:i,above:f,below:g,area:e,scale:a,axis:l,clip:m}),Ju(n))}function fO(n,t){const{line:e,target:i,above:s,below:r,area:o,scale:a,clip:l}=t,c=e._loop?"angle":t.axis;n.save();let u=r;r!==s&&(c==="x"?(P_(n,i,o.top),kd(n,{line:e,target:i,color:s,scale:a,property:c,clip:l}),n.restore(),n.save(),P_(n,i,o.bottom)):c==="y"&&(D_(n,i,o.left),kd(n,{line:e,target:i,color:r,scale:a,property:c,clip:l}),n.restore(),n.save(),D_(n,i,o.right),u=s)),kd(n,{line:e,target:i,color:u,scale:a,property:c,clip:l}),n.restore()}function P_(n,t,e){const{segments:i,points:s}=t;let r=!0,o=!1;n.beginPath();for(const a of i){const{start:l,end:c}=a,u=s[l],h=s[ih(l,c,s)];r?(n.moveTo(u.x,u.y),r=!1):(n.lineTo(u.x,e),n.lineTo(u.x,u.y)),o=!!t.pathSegment(n,a,{move:o}),o?n.closePath():n.lineTo(h.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function D_(n,t,e){const{segments:i,points:s}=t;let r=!0,o=!1;n.beginPath();for(const a of i){const{start:l,end:c}=a,u=s[l],h=s[ih(l,c,s)];r?(n.moveTo(u.x,u.y),r=!1):(n.lineTo(e,u.y),n.lineTo(u.x,u.y)),o=!!t.pathSegment(n,a,{move:o}),o?n.closePath():n.lineTo(e,h.y)}n.lineTo(e,t.first().y),n.closePath(),n.clip()}function kd(n,t){const{line:e,target:i,property:s,color:r,scale:o,clip:a}=t,l=XA(e,i,s);for(const{source:c,target:u,start:h,end:f}of l){const{style:{backgroundColor:g=r}={}}=c,_=i!==!0;n.save(),n.fillStyle=g,pO(n,o,a,_&&pf(s,h,f)),n.beginPath();const m=!!e.pathSegment(n,c);let b;if(_){m?n.closePath():E_(n,i,f,s);const x=!!i.pathSegment(n,u,{move:m,reverse:!0});b=m&&x,b||E_(n,i,h,s)}n.closePath(),n.fill(b?"evenodd":"nonzero"),n.restore()}}function pO(n,t,e,i){const s=t.chart.chartArea,{property:r,start:o,end:a}=i||{};if(r==="x"||r==="y"){let l,c,u,h;r==="x"?(l=o,c=s.top,u=a,h=s.bottom):(l=s.left,c=o,u=s.right,h=a),n.beginPath(),e&&(l=Math.max(l,e.left),u=Math.min(u,e.right),c=Math.max(c,e.top),h=Math.min(h,e.bottom)),n.rect(l,c,u-l,h-c),n.clip()}}function E_(n,t,e,i){const s=t.interpolate(e,i);s&&n.lineTo(s.x,s.y)}var gO={id:"filler",afterDatasetsUpdate(n,t,e){const i=(n.data.datasets||[]).length,s=[];let r,o,a,l;for(o=0;o<i;++o)r=n.getDatasetMeta(o),a=r.dataset,l=null,a&&a.options&&a instanceof nh&&(l={visible:n.isDatasetVisible(o),index:o,fill:JA(a,o,i),chart:n,axis:r.controller.options.indexAxis,scale:r.vScale,line:a}),r.$filler=l,s.push(l);for(o=0;o<i;++o)l=s[o],!(!l||l.fill===!1)&&(l.fill=QA(s,o,e.propagate))},beforeDraw(n,t,e){const i=e.drawTime==="beforeDraw",s=n.getSortedVisibleDatasetMetas(),r=n.chartArea;for(let o=s.length-1;o>=0;--o){const a=s[o].$filler;a&&(a.line.updateControlPoints(r,a.axis),i&&a.fill&&Td(n.ctx,a,r))}},beforeDatasetsDraw(n,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;const i=n.getSortedVisibleDatasetMetas();for(let s=i.length-1;s>=0;--s){const r=i[s].$filler;O_(r)&&Td(n.ctx,r,n.chartArea)}},beforeDatasetDraw(n,t,e){const i=t.meta.$filler;!O_(i)||e.drawTime!=="beforeDatasetDraw"||Td(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const I_=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},mO=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class R_ extends vs{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=ye(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,s)=>t.sort(i,s,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,s=Je(i.font),r=s.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=I_(i,r);let c,u;e.font=s.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,r,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,s,a,l)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(u,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,s){const{ctx:r,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=s+a;let h=t;r.textAlign="left",r.textBaseline="middle";let f=-1,g=-u;return this.legendItems.forEach((_,m)=>{const b=i+e/2+r.measureText(_.text).width;(m===0||c[c.length-1]+b+2*a>o)&&(h+=u,c[c.length-(m>0?0:1)]=0,g+=u,f++),l[m]={left:0,top:g,row:f,width:b,height:s},c[c.length-1]+=b+a}),h}_fitCols(t,e,i,s){const{ctx:r,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-t;let h=a,f=0,g=0,_=0,m=0;return this.legendItems.forEach((b,x)=>{const{itemWidth:T,itemHeight:O}=_O(i,e,r,b,s);x>0&&g+O+2*a>u&&(h+=f+a,c.push({width:f,height:g}),_+=f+a,m++,f=g=0),l[x]={left:_,top:g,col:m,width:T,height:O},f=Math.max(f,T),g+=O+a}),h+=f,c.push({width:f,height:g}),h}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:s},rtl:r}}=this,o=Oo(r,this.left,this.width);if(this.isHorizontal()){let a=0,l=mn(i,this.left+s,this.right-this.lineWidths[a]);for(const c of e)a!==c.row&&(a=c.row,l=mn(i,this.left+s,this.right-this.lineWidths[a])),c.top+=this.top+t+s,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+s}else{let a=0,l=mn(i,this.top+t+s,this.bottom-this.columnSizes[a].height);for(const c of e)c.col!==a&&(a=c.col,l=mn(i,this.top+t+s,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+s,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Qu(t,this),this._draw(),Ju(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:s}=this,{align:r,labels:o}=t,a=Pe.color,l=Oo(t.rtl,this.left,this.width),c=Je(o.font),{padding:u}=o,h=c.size,f=h/2;let g;this.drawTitle(),s.textAlign=l.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=c.string;const{boxWidth:_,boxHeight:m,itemHeight:b}=I_(o,h),x=function(k,P,A){if(isNaN(_)||_<=0||isNaN(m)||m<0)return;s.save();const I=jt(A.lineWidth,1);if(s.fillStyle=jt(A.fillStyle,a),s.lineCap=jt(A.lineCap,"butt"),s.lineDashOffset=jt(A.lineDashOffset,0),s.lineJoin=jt(A.lineJoin,"miter"),s.lineWidth=I,s.strokeStyle=jt(A.strokeStyle,a),s.setLineDash(jt(A.lineDash,[])),o.usePointStyle){const W={radius:m*Math.SQRT2/2,pointStyle:A.pointStyle,rotation:A.rotation,borderWidth:I},R=l.xPlus(k,_/2),N=P+f;Fb(s,W,R,N,o.pointStyleWidth&&_)}else{const W=P+Math.max((h-m)/2,0),R=l.leftForLtr(k,_),N=Rr(A.borderRadius);s.beginPath(),Object.values(N).some(Z=>Z!==0)?sl(s,{x:R,y:W,w:_,h:m,radius:N}):s.rect(R,W,_,m),s.fill(),I!==0&&s.stroke()}s.restore()},T=function(k,P,A){Wr(s,A.text,k,P+b/2,c,{strikethrough:A.hidden,textAlign:l.textAlign(A.textAlign)})},O=this.isHorizontal(),M=this._computeTitleHeight();O?g={x:mn(r,this.left+u,this.right-i[0]),y:this.top+u+M,line:0}:g={x:this.left+u,y:mn(r,this.top+M+u,this.bottom-e[0].height),line:0},$b(this.ctx,t.textDirection);const w=b+u;this.legendItems.forEach((k,P)=>{s.strokeStyle=k.fontColor,s.fillStyle=k.fontColor;const A=s.measureText(k.text).width,I=l.textAlign(k.textAlign||(k.textAlign=o.textAlign)),W=_+f+A;let R=g.x,N=g.y;l.setWidth(this.width),O?P>0&&R+W+u>this.right&&(N=g.y+=w,g.line++,R=g.x=mn(r,this.left+u,this.right-i[g.line])):P>0&&N+w>this.bottom&&(R=g.x=R+e[g.line].width+u,g.line++,N=g.y=mn(r,this.top+M+u,this.bottom-e[g.line].height));const Z=l.x(R);if(x(Z,N,k),R=Mk(I,R+_+f,O?R+W:this.right,t.rtl),T(l.x(R),N,k),O)g.x+=W+u;else if(typeof k.text!="string"){const ot=c.lineHeight;g.y+=_v(k,ot)+u}else g.y+=w}),Ub(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=Je(e.font),s=Tn(e.padding);if(!e.display)return;const r=Oo(t.rtl,this.left,this.width),o=this.ctx,a=e.position,l=i.size/2,c=s.top+l;let u,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),u=this.top+c,h=mn(t.align,h,this.right-f);else{const _=this.columnSizes.reduce((m,b)=>Math.max(m,b.height),0);u=c+mn(t.align,this.top,this.bottom-_-t.labels.padding-this._computeTitleHeight())}const g=mn(a,h,h+f);o.textAlign=r.textAlign(yp(a)),o.textBaseline="middle",o.strokeStyle=e.color,o.fillStyle=e.color,o.font=i.string,Wr(o,e.text,g,u,i)}_computeTitleHeight(){const t=this.options.title,e=Je(t.font),i=Tn(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,s,r;if(cs(t,this.left,this.right)&&cs(e,this.top,this.bottom)){for(r=this.legendHitBoxes,i=0;i<r.length;++i)if(s=r[i],cs(t,s.left,s.left+s.width)&&cs(e,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!vO(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const s=this._hoveredItem,r=mO(s,i);s&&!r&&ye(e.onLeave,[t,s,this],this),this._hoveredItem=i,i&&!r&&ye(e.onHover,[t,i,this],this)}else i&&ye(e.onClick,[t,i,this],this)}}function _O(n,t,e,i,s){const r=yO(i,n,t,e),o=bO(s,i,t.lineHeight);return{itemWidth:r,itemHeight:o}}function yO(n,t,e,i){let s=n.text;return s&&typeof s!="string"&&(s=s.reduce((r,o)=>r.length>o.length?r:o)),t+e.size/2+i.measureText(s).width}function bO(n,t,e){let i=n;return typeof t.text!="string"&&(i=_v(t,e)),i}function _v(n,t){const e=n.text?n.text.length:0;return t*e}function vO(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var xO={id:"legend",_element:R_,start(n,t,e){const i=n.legend=new R_({ctx:n.ctx,options:e,chart:n});vn.configure(n,i,e),vn.addBox(n,i)},stop(n){vn.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;vn.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,s=e.chart;s.isDatasetVisible(i)?(s.hide(i),t.hidden=!0):(s.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:s,color:r,useBorderRadius:o,borderRadius:a}}=n.legend.options;return n._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(e?0:void 0),u=Tn(c.borderWidth);return{text:t[l.index].label,fillStyle:c.backgroundColor,fontColor:r,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:i||c.pointStyle,rotation:c.rotation,textAlign:s||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class Op extends vs{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const s=Oe(i.text)?i.text.length:1;this._padding=Tn(i.padding);const r=s*Je(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:i,bottom:s,right:r,options:o}=this,a=o.align;let l=0,c,u,h;return this.isHorizontal()?(u=mn(a,i,r),h=e+t,c=r-i):(o.position==="left"?(u=i+t,h=mn(a,s,e),l=oe*-.5):(u=r-t,h=mn(a,e,s),l=oe*.5),c=s-e),{titleX:u,titleY:h,maxWidth:c,rotation:l}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=Je(e.font),r=i.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(r);Wr(t,e.text,0,0,i,{color:e.color,maxWidth:l,rotation:c,textAlign:yp(e.align),textBaseline:"middle",translation:[o,a]})}}function wO(n,t){const e=new Op({ctx:n.ctx,options:t,chart:n});vn.configure(n,e,t),vn.addBox(n,e),n.titleBlock=e}var SO={id:"title",_element:Op,start(n,t,e){wO(n,e)},stop(n){const t=n.titleBlock;vn.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;vn.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Tc=new WeakMap;var TO={id:"subtitle",start(n,t,e){const i=new Op({ctx:n.ctx,options:e,chart:n});vn.configure(n,i,e),vn.addBox(n,i),Tc.set(n,i)},stop(n){vn.removeBox(n,Tc.get(n)),Tc.delete(n)},beforeUpdate(n,t,e){const i=Tc.get(n);vn.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ca={average(n){if(!n.length)return!1;let t,e,i=new Set,s=0,r=0;for(t=0,e=n.length;t<e;++t){const a=n[t].element;if(a&&a.hasValue()){const l=a.tooltipPosition();i.add(l.x),s+=l.y,++r}}return r===0||i.size===0?!1:{x:[...i].reduce((a,l)=>a+l)/i.size,y:s/r}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,s=Number.POSITIVE_INFINITY,r,o,a;for(r=0,o=n.length;r<o;++r){const l=n[r].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=af(t,c);u<s&&(s=u,a=l)}}if(a){const l=a.tooltipPosition();e=l.x,i=l.y}return{x:e,y:i}}};function Ei(n,t){return t&&(Oe(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function Ji(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function kO(n,t){const{element:e,datasetIndex:i,index:s}=t,r=n.getDatasetMeta(i).controller,{label:o,value:a}=r.getLabelAndValue(s);return{chart:n,label:o,parsed:r.getParsed(s),raw:n.data.datasets[i].data[s],formattedValue:a,dataset:r.getDataset(),dataIndex:s,datasetIndex:i,element:e}}function N_(n,t){const e=n.chart.ctx,{body:i,footer:s,title:r}=n,{boxWidth:o,boxHeight:a}=t,l=Je(t.bodyFont),c=Je(t.titleFont),u=Je(t.footerFont),h=r.length,f=s.length,g=i.length,_=Tn(t.padding);let m=_.height,b=0,x=i.reduce((M,w)=>M+w.before.length+w.lines.length+w.after.length,0);if(x+=n.beforeBody.length+n.afterBody.length,h&&(m+=h*c.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),x){const M=t.displayColors?Math.max(a,l.lineHeight):l.lineHeight;m+=g*M+(x-g)*l.lineHeight+(x-1)*t.bodySpacing}f&&(m+=t.footerMarginTop+f*u.lineHeight+(f-1)*t.footerSpacing);let T=0;const O=function(M){b=Math.max(b,e.measureText(M).width+T)};return e.save(),e.font=c.string,ce(n.title,O),e.font=l.string,ce(n.beforeBody.concat(n.afterBody),O),T=t.displayColors?o+2+t.boxPadding:0,ce(i,M=>{ce(M.before,O),ce(M.lines,O),ce(M.after,O)}),T=0,e.font=u.string,ce(n.footer,O),e.restore(),b+=_.width,{width:b,height:m}}function CO(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function MO(n,t,e,i){const{x:s,width:r}=i,o=e.caretSize+e.caretPadding;if(n==="left"&&s+r+o>t.width||n==="right"&&s-r-o<0)return!0}function AO(n,t,e,i){const{x:s,width:r}=e,{width:o,chartArea:{left:a,right:l}}=n;let c="center";return i==="center"?c=s<=(a+l)/2?"left":"right":s<=r/2?c="left":s>=o-r/2&&(c="right"),MO(c,n,t,e)&&(c="center"),c}function F_(n,t,e){const i=e.yAlign||t.yAlign||CO(n,e);return{xAlign:e.xAlign||t.xAlign||AO(n,t,e,i),yAlign:i}}function OO(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function PO(n,t,e){let{y:i,height:s}=n;return t==="top"?i+=e:t==="bottom"?i-=s+e:i-=s/2,i}function L_(n,t,e,i){const{caretSize:s,caretPadding:r,cornerRadius:o}=n,{xAlign:a,yAlign:l}=e,c=s+r,{topLeft:u,topRight:h,bottomLeft:f,bottomRight:g}=Rr(o);let _=OO(t,a);const m=PO(t,l,c);return l==="center"?a==="left"?_+=c:a==="right"&&(_-=c):a==="left"?_-=Math.max(u,f)+s:a==="right"&&(_+=Math.max(h,g)+s),{x:on(_,0,i.width-t.width),y:on(m,0,i.height-t.height)}}function kc(n,t,e){const i=Tn(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function V_(n){return Ei([],Ji(n))}function DO(n,t,e){return ir(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function B_(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const yv={beforeTitle:Zi,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:Zi,beforeBody:Zi,beforeLabel:Zi,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return Zt(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Zi,afterBody:Zi,beforeFooter:Zi,footer:Zi,afterFooter:Zi};function Rn(n,t,e,i){const s=n[t].call(e,i);return typeof s>"u"?yv[t].call(e,i):s}class W_ extends vs{static positioners=Ca;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&e.options.animation&&i.animations,r=new Xb(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=DO(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,s=Rn(i,"beforeTitle",this,t),r=Rn(i,"title",this,t),o=Rn(i,"afterTitle",this,t);let a=[];return a=Ei(a,Ji(s)),a=Ei(a,Ji(r)),a=Ei(a,Ji(o)),a}getBeforeBody(t,e){return V_(Rn(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,s=[];return ce(t,r=>{const o={before:[],lines:[],after:[]},a=B_(i,r);Ei(o.before,Ji(Rn(a,"beforeLabel",this,r))),Ei(o.lines,Rn(a,"label",this,r)),Ei(o.after,Ji(Rn(a,"afterLabel",this,r))),s.push(o)}),s}getAfterBody(t,e){return V_(Rn(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,s=Rn(i,"beforeFooter",this,t),r=Rn(i,"footer",this,t),o=Rn(i,"afterFooter",this,t);let a=[];return a=Ei(a,Ji(s)),a=Ei(a,Ji(r)),a=Ei(a,Ji(o)),a}_createItems(t){const e=this._active,i=this.chart.data,s=[],r=[],o=[];let a=[],l,c;for(l=0,c=e.length;l<c;++l)a.push(kO(this.chart,e[l]));return t.filter&&(a=a.filter((u,h,f)=>t.filter(u,h,f,i))),t.itemSort&&(a=a.sort((u,h)=>t.itemSort(u,h,i))),ce(a,u=>{const h=B_(t.callbacks,u);s.push(Rn(h,"labelColor",this,u)),r.push(Rn(h,"labelPointStyle",this,u)),o.push(Rn(h,"labelTextColor",this,u))}),this.labelColors=s,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=a,a}update(t,e){const i=this.options.setContext(this.getContext()),s=this._active;let r,o=[];if(!s.length)this.opacity!==0&&(r={opacity:0});else{const a=Ca[i.position].call(this,s,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const l=this._size=N_(this,i),c=Object.assign({},a,l),u=F_(this.chart,i,c),h=L_(i,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,r={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,s){const r=this.getCaretPosition(t,i,s);e.lineTo(r.x1,r.y1),e.lineTo(r.x2,r.y2),e.lineTo(r.x3,r.y3)}getCaretPosition(t,e,i){const{xAlign:s,yAlign:r}=this,{caretSize:o,cornerRadius:a}=i,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:h}=Rr(a),{x:f,y:g}=t,{width:_,height:m}=e;let b,x,T,O,M,w;return r==="center"?(M=g+m/2,s==="left"?(b=f,x=b-o,O=M+o,w=M-o):(b=f+_,x=b+o,O=M-o,w=M+o),T=b):(s==="left"?x=f+Math.max(l,u)+o:s==="right"?x=f+_-Math.max(c,h)-o:x=this.caretX,r==="top"?(O=g,M=O-o,b=x-o,T=x+o):(O=g+m,M=O+o,b=x+o,T=x-o),w=O),{x1:b,x2:x,x3:T,y1:O,y2:M,y3:w}}drawTitle(t,e,i){const s=this.title,r=s.length;let o,a,l;if(r){const c=Oo(i.rtl,this.x,this.width);for(t.x=kc(this,i.titleAlign,i),e.textAlign=c.textAlign(i.titleAlign),e.textBaseline="middle",o=Je(i.titleFont),a=i.titleSpacing,e.fillStyle=i.titleColor,e.font=o.string,l=0;l<r;++l)e.fillText(s[l],c.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+a,l+1===r&&(t.y+=i.titleMarginBottom-a)}}_drawColorBox(t,e,i,s,r){const o=this.labelColors[i],a=this.labelPointStyles[i],{boxHeight:l,boxWidth:c}=r,u=Je(r.bodyFont),h=kc(this,"left",r),f=s.x(h),g=l<u.lineHeight?(u.lineHeight-l)/2:0,_=e.y+g;if(r.usePointStyle){const m={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},b=s.leftForLtr(f,c)+c/2,x=_+l/2;t.strokeStyle=r.multiKeyBackground,t.fillStyle=r.multiKeyBackground,cf(t,m,b,x),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,cf(t,m,b,x)}else{t.lineWidth=ee(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const m=s.leftForLtr(f,c),b=s.leftForLtr(s.xPlus(f,1),c-2),x=Rr(o.borderRadius);Object.values(x).some(T=>T!==0)?(t.beginPath(),t.fillStyle=r.multiKeyBackground,sl(t,{x:m,y:_,w:c,h:l,radius:x}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),sl(t,{x:b,y:_+1,w:c-2,h:l-2,radius:x}),t.fill()):(t.fillStyle=r.multiKeyBackground,t.fillRect(m,_,c,l),t.strokeRect(m,_,c,l),t.fillStyle=o.backgroundColor,t.fillRect(b,_+1,c-2,l-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:s}=this,{bodySpacing:r,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=i,h=Je(i.bodyFont);let f=h.lineHeight,g=0;const _=Oo(i.rtl,this.x,this.width),m=function(A){e.fillText(A,_.x(t.x+g),t.y+f/2),t.y+=f+r},b=_.textAlign(o);let x,T,O,M,w,k,P;for(e.textAlign=o,e.textBaseline="middle",e.font=h.string,t.x=kc(this,b,i),e.fillStyle=i.bodyColor,ce(this.beforeBody,m),g=a&&b!=="right"?o==="center"?c/2+u:c+2+u:0,M=0,k=s.length;M<k;++M){for(x=s[M],T=this.labelTextColors[M],e.fillStyle=T,ce(x.before,m),O=x.lines,a&&O.length&&(this._drawColorBox(e,t,M,_,i),f=Math.max(h.lineHeight,l)),w=0,P=O.length;w<P;++w)m(O[w]),f=h.lineHeight;ce(x.after,m)}g=0,f=h.lineHeight,ce(this.afterBody,m),t.y-=r}drawFooter(t,e,i){const s=this.footer,r=s.length;let o,a;if(r){const l=Oo(i.rtl,this.x,this.width);for(t.x=kc(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=l.textAlign(i.footerAlign),e.textBaseline="middle",o=Je(i.footerFont),e.fillStyle=i.footerColor,e.font=o.string,a=0;a<r;++a)e.fillText(s[a],l.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+i.footerSpacing}}drawBackground(t,e,i,s){const{xAlign:r,yAlign:o}=this,{x:a,y:l}=t,{width:c,height:u}=i,{topLeft:h,topRight:f,bottomLeft:g,bottomRight:_}=Rr(s.cornerRadius);e.fillStyle=s.backgroundColor,e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.beginPath(),e.moveTo(a+h,l),o==="top"&&this.drawCaret(t,e,i,s),e.lineTo(a+c-f,l),e.quadraticCurveTo(a+c,l,a+c,l+f),o==="center"&&r==="right"&&this.drawCaret(t,e,i,s),e.lineTo(a+c,l+u-_),e.quadraticCurveTo(a+c,l+u,a+c-_,l+u),o==="bottom"&&this.drawCaret(t,e,i,s),e.lineTo(a+g,l+u),e.quadraticCurveTo(a,l+u,a,l+u-g),o==="center"&&r==="left"&&this.drawCaret(t,e,i,s),e.lineTo(a,l+h),e.quadraticCurveTo(a,l,a+h,l),e.closePath(),e.fill(),s.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,s=i&&i.x,r=i&&i.y;if(s||r){const o=Ca[t.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=N_(this,t),l=Object.assign({},o,this._size),c=F_(e,t,l),u=L_(t,l,c,e);(s._to!==u.x||r._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const s={width:this.width,height:this.height},r={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=Tn(e.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&a&&(t.save(),t.globalAlpha=i,this.drawBackground(r,t,s,e),$b(t,e.textDirection),r.y+=o.top,this.drawTitle(r,t,e),this.drawBody(r,t,e),this.drawFooter(r,t,e),Ub(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,s=t.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),r=!lu(i,s),o=this._positionChanged(s,e);(r||o)&&(this._active=s,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,r=this._active||[],o=this._getActiveElements(t,r,e,i),a=this._positionChanged(o,t),l=e||!lu(o,r)||a;return l&&(this._active=o,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),l}_getActiveElements(t,e,i,s){const r=this.options;if(t.type==="mouseout")return[];if(!s)return e.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(t,r.mode,r,i);return r.reverse&&o.reverse(),o}_positionChanged(t,e){const{caretX:i,caretY:s,options:r}=this,o=Ca[r.position].call(this,t,e);return o!==!1&&(i!==o.x||s!==o.y)}}var EO={id:"tooltip",_element:W_,positioners:Ca,afterInit(n,t,e){e&&(n.tooltip=new W_({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:yv},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},IO=Object.freeze({__proto__:null,Colors:UA,Decimation:GA,Filler:gO,Legend:xO,SubTitle:TO,Title:SO,Tooltip:EO});const RO=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function NO(n,t,e,i){const s=n.indexOf(t);if(s===-1)return RO(n,t,e,i);const r=n.lastIndexOf(t);return s!==r?e:s}const FO=(n,t)=>n===null?null:on(Math.round(n),0,t);function j_(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class LO extends Xr{static id="category";static defaults={ticks:{callback:j_}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:s,label:r}of e)i[s]===r&&i.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(Zt(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:NO(i,t,jt(e,t),this._addedLabels),FO(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,s=[];let r=this.getLabels();r=t===0&&e===r.length-1?r:r.slice(t,e+1),this._valueRange=Math.max(r.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=t;o<=e;o++)s.push({value:o});return s}getLabelForValue(t){return j_.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function VO(n,t){const e=[],{bounds:s,step:r,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:h,includeBounds:f}=n,g=r||1,_=u-1,{min:m,max:b}=t,x=!Zt(o),T=!Zt(a),O=!Zt(c),M=(b-m)/(h+1);let w=Nm((b-m)/_/g)*g,k,P,A,I;if(w<1e-14&&!x&&!T)return[{value:m},{value:b}];I=Math.ceil(b/w)-Math.floor(m/w),I>_&&(w=Nm(I*w/_/g)*g),Zt(l)||(k=Math.pow(10,l),w=Math.ceil(w*k)/k),s==="ticks"?(P=Math.floor(m/w)*w,A=Math.ceil(b/w)*w):(P=m,A=b),x&&T&&r&&vk((a-o)/r,w/1e3)?(I=Math.round(Math.min((a-o)/w,u)),w=(a-o)/I,P=o,A=a):O?(P=x?o:P,A=T?a:A,I=c-1,w=(A-P)/I):(I=(A-P)/w,Va(I,Math.round(I),w/1e3)?I=Math.round(I):I=Math.ceil(I));const W=Math.max(Fm(w),Fm(P));k=Math.pow(10,Zt(l)?W:l),P=Math.round(P*k)/k,A=Math.round(A*k)/k;let R=0;for(x&&(f&&P!==o?(e.push({value:o}),P<o&&R++,Va(Math.round((P+R*w)*k)/k,o,z_(o,M,n))&&R++):P<o&&R++);R<I;++R){const N=Math.round((P+R*w)*k)/k;if(T&&N>a)break;e.push({value:N})}return T&&f&&A!==a?e.length&&Va(e[e.length-1].value,a,z_(a,M,n))?e[e.length-1].value=a:e.push({value:a}):(!T||A===a)&&e.push({value:A}),e}function z_(n,t,{horizontal:e,minRotation:i}){const s=bi(i),r=(e?Math.sin(s):Math.cos(s))||.001,o=.75*t*(""+n).length;return Math.min(t/r,o)}class gu extends Xr{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Zt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:s,max:r}=this;const o=l=>s=e?s:l,a=l=>r=i?r:l;if(t){const l=Wi(s),c=Wi(r);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(s===r){let l=r===0?1:Math.abs(r*.05);a(r+l),t||o(s-l)}this.min=s,this.max=r}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),e=e||11),e&&(s=Math.min(e,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},r=this._range||this,o=VO(s,r);return t.bounds==="ticks"&&Mb(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const s=(i-e)/Math.max(t.length-1,1)/2;e-=s,i+=s}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return Al(t,this.chart.options.locale,this.options.ticks.format)}}class BO extends gu{static id="linear";static defaults={ticks:{callback:Zu.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Le(t)?t:0,this.max=Le(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=bi(this.options.ticks.minRotation),s=(t?Math.sin(i):Math.cos(i))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,r.lineHeight/s))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const ol=n=>Math.floor(Ws(n)),vr=(n,t)=>Math.pow(10,ol(n)+t);function q_(n){return n/Math.pow(10,ol(n))===1}function $_(n,t,e){const i=Math.pow(10,e),s=Math.floor(n/i);return Math.ceil(t/i)-s}function WO(n,t){const e=t-n;let i=ol(e);for(;$_(n,t,i)>10;)i++;for(;$_(n,t,i)<10;)i--;return Math.min(i,ol(n))}function jO(n,{min:t,max:e}){t=Gn(n.min,t);const i=[],s=ol(t);let r=WO(t,e),o=r<0?Math.pow(10,Math.abs(r)):1;const a=Math.pow(10,r),l=s>r?Math.pow(10,s):0,c=Math.round((t-l)*o)/o,u=Math.floor((t-l)/a/10)*a*10;let h=Math.floor((c-u)/Math.pow(10,r)),f=Gn(n.min,Math.round((l+u+h*Math.pow(10,r))*o)/o);for(;f<e;)i.push({value:f,major:q_(f),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(r++,h=2,o=r>=0?1:o),f=Math.round((l+u+h*Math.pow(10,r))*o)/o;const g=Gn(n.max,f);return i.push({value:g,major:q_(g),significand:h}),i}class zO extends Xr{static id="logarithmic";static defaults={ticks:{callback:Zu.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const i=gu.prototype.parse.apply(this,[t,e]);if(i===0){this._zero=!0;return}return Le(i)&&i>0?i:null}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Le(t)?Math.max(0,t):null,this.max=Le(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Le(this._userMin)&&(this.min=t===vr(this.min,0)?vr(this.min,-1):vr(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let i=this.min,s=this.max;const r=a=>i=t?i:a,o=a=>s=e?s:a;i===s&&(i<=0?(r(1),o(10)):(r(vr(i,-1)),o(vr(s,1)))),i<=0&&r(vr(s,-1)),s<=0&&o(vr(i,1)),this.min=i,this.max=s}buildTicks(){const t=this.options,e={min:this._userMin,max:this._userMax},i=jO(e,this);return t.bounds==="ticks"&&Mb(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return t===void 0?"0":Al(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=Ws(t),this._valueRange=Ws(this.max)-Ws(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Ws(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}function gf(n){const t=n.ticks;if(t.display&&n.display){const e=Tn(t.backdropPadding);return jt(t.font&&t.font.size,Pe.font.size)+e.height}return 0}function qO(n,t,e){return e=Oe(e)?e:[e],{w:Lk(n,t.string,e),h:e.length*t.lineHeight}}function U_(n,t,e,i,s){return n===i||n===s?{start:t-e/2,end:t+e/2}:n<i||n>s?{start:t-e,end:t}:{start:t,end:t+e}}function $O(n){const t={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},e=Object.assign({},t),i=[],s=[],r=n._pointLabels.length,o=n.options.pointLabels,a=o.centerPointLabels?oe/r:0;for(let l=0;l<r;l++){const c=o.setContext(n.getPointLabelContext(l));s[l]=c.padding;const u=n.getPointPosition(l,n.drawingArea+s[l],a),h=Je(c.font),f=qO(n.ctx,h,n._pointLabels[l]);i[l]=f;const g=_n(n.getIndexAngle(l)+a),_=Math.round(mp(g)),m=U_(_,u.x,f.w,0,180),b=U_(_,u.y,f.h,90,270);UO(e,t,g,m,b)}n.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),n._pointLabelItems=YO(n,i,s)}function UO(n,t,e,i,s){const r=Math.abs(Math.sin(e)),o=Math.abs(Math.cos(e));let a=0,l=0;i.start<t.l?(a=(t.l-i.start)/r,n.l=Math.min(n.l,t.l-a)):i.end>t.r&&(a=(i.end-t.r)/r,n.r=Math.max(n.r,t.r+a)),s.start<t.t?(l=(t.t-s.start)/o,n.t=Math.min(n.t,t.t-l)):s.end>t.b&&(l=(s.end-t.b)/o,n.b=Math.max(n.b,t.b+l))}function HO(n,t,e){const i=n.drawingArea,{extra:s,additionalAngle:r,padding:o,size:a}=e,l=n.getPointPosition(t,i+s+o,r),c=Math.round(mp(_n(l.angle+Ue))),u=ZO(l.y,a.h,c),h=GO(c),f=XO(l.x,a.w,h);return{visible:!0,x:l.x,y:u,textAlign:h,left:f,top:u,right:f+a.w,bottom:u+a.h}}function KO(n,t){if(!t)return!0;const{left:e,top:i,right:s,bottom:r}=n;return!(hs({x:e,y:i},t)||hs({x:e,y:r},t)||hs({x:s,y:i},t)||hs({x:s,y:r},t))}function YO(n,t,e){const i=[],s=n._pointLabels.length,r=n.options,{centerPointLabels:o,display:a}=r.pointLabels,l={extra:gf(r)/2,additionalAngle:o?oe/s:0};let c;for(let u=0;u<s;u++){l.padding=e[u],l.size=t[u];const h=HO(n,u,l);i.push(h),a==="auto"&&(h.visible=KO(h,c),h.visible&&(c=h))}return i}function GO(n){return n===0||n===180?"center":n<180?"left":"right"}function XO(n,t,e){return e==="right"?n-=t:e==="center"&&(n-=t/2),n}function ZO(n,t,e){return e===90||e===270?n-=t/2:(e>270||e<90)&&(n-=t),n}function QO(n,t,e){const{left:i,top:s,right:r,bottom:o}=e,{backdropColor:a}=t;if(!Zt(a)){const l=Rr(t.borderRadius),c=Tn(t.backdropPadding);n.fillStyle=a;const u=i-c.left,h=s-c.top,f=r-i+c.width,g=o-s+c.height;Object.values(l).some(_=>_!==0)?(n.beginPath(),sl(n,{x:u,y:h,w:f,h:g,radius:l}),n.fill()):n.fillRect(u,h,f,g)}}function JO(n,t){const{ctx:e,options:{pointLabels:i}}=n;for(let s=t-1;s>=0;s--){const r=n._pointLabelItems[s];if(!r.visible)continue;const o=i.setContext(n.getPointLabelContext(s));QO(e,o,r);const a=Je(o.font),{x:l,y:c,textAlign:u}=r;Wr(e,n._pointLabels[s],l,c+a.lineHeight/2,a,{color:o.color,textAlign:u,textBaseline:"middle"})}}function bv(n,t,e,i){const{ctx:s}=n;if(e)s.arc(n.xCenter,n.yCenter,t,0,we);else{let r=n.getPointPosition(0,t);s.moveTo(r.x,r.y);for(let o=1;o<i;o++)r=n.getPointPosition(o,t),s.lineTo(r.x,r.y)}}function tP(n,t,e,i,s){const r=n.ctx,o=t.circular,{color:a,lineWidth:l}=t;!o&&!i||!a||!l||e<0||(r.save(),r.strokeStyle=a,r.lineWidth=l,r.setLineDash(s.dash||[]),r.lineDashOffset=s.dashOffset,r.beginPath(),bv(n,e,o,i),r.closePath(),r.stroke(),r.restore())}function eP(n,t,e){return ir(n,{label:e,index:t,type:"pointLabel"})}class nP extends gu{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Zu.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Tn(gf(this.options)/2),e=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=Le(t)&&!isNaN(t)?t:0,this.max=Le(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/gf(this.options))}generateTickLabels(t){gu.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,i)=>{const s=ye(this.options.pointLabels.callback,[e,i],this);return s||s===0?s:""}).filter((e,i)=>this.chart.getDataVisibility(i))}fit(){const t=this.options;t.display&&t.pointLabels.display?$O(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,i,s){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((i-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,i,s))}getIndexAngle(t){const e=we/(this._pointLabels.length||1),i=this.options.startAngle||0;return _n(t*e+bi(i))}getDistanceFromCenterForValue(t){if(Zt(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(Zt(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const i=e[t];return eP(this.getContext(),t,i)}}getPointPosition(t,e,i=0){const s=this.getIndexAngle(t)-Ue+i;return{x:Math.cos(s)*e+this.xCenter,y:Math.sin(s)*e+this.yCenter,angle:s}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:i,right:s,bottom:r}=this._pointLabelItems[t];return{left:e,top:i,right:s,bottom:r}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),bv(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:i,grid:s,border:r}=e,o=this._pointLabels.length;let a,l,c;if(e.pointLabels.display&&JO(this,o),s.display&&this.ticks.forEach((u,h)=>{if(h!==0||h===0&&this.min<0){l=this.getDistanceFromCenterForValue(u.value);const f=this.getContext(h),g=s.setContext(f),_=r.setContext(f);tP(this,g,l,o,_)}}),i.display){for(t.save(),a=o-1;a>=0;a--){const u=i.setContext(this.getPointLabelContext(a)),{color:h,lineWidth:f}=u;!f||!h||(t.lineWidth=f,t.strokeStyle=h,t.setLineDash(u.borderDash),t.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(e.reverse?this.min:this.max),c=this.getPointPosition(a,l),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(c.x,c.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,i=e.ticks;if(!i.display)return;const s=this.getIndexAngle(0);let r,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(s),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!e.reverse)return;const c=i.setContext(this.getContext(l)),u=Je(c.font);if(r=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){t.font=u.string,o=t.measureText(a.label).width,t.fillStyle=c.backdropColor;const h=Tn(c.backdropPadding);t.fillRect(-o/2-h.left,-r-u.size/2-h.top,o+h.width,u.size+h.height)}Wr(t,a.label,0,-r,u,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),t.restore()}drawTitle(){}}const sh={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Vn=Object.keys(sh);function H_(n,t){return n-t}function K_(n,t){if(Zt(t))return null;const e=n._adapter,{parser:i,round:s,isoWeekday:r}=n._parseOpts;let o=t;return typeof i=="function"&&(o=i(o)),Le(o)||(o=typeof i=="string"?e.parse(o,i):e.parse(o)),o===null?null:(s&&(o=s==="week"&&(Bo(r)||r===!0)?e.startOf(o,"isoWeek",r):e.startOf(o,s)),+o)}function Y_(n,t,e,i){const s=Vn.length;for(let r=Vn.indexOf(n);r<s-1;++r){const o=sh[Vn[r]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((e-t)/(a*o.size))<=i)return Vn[r]}return Vn[s-1]}function iP(n,t,e,i,s){for(let r=Vn.length-1;r>=Vn.indexOf(e);r--){const o=Vn[r];if(sh[o].common&&n._adapter.diff(s,i,o)>=t-1)return o}return Vn[e?Vn.indexOf(e):0]}function sP(n){for(let t=Vn.indexOf(n)+1,e=Vn.length;t<e;++t)if(sh[Vn[t]].common)return Vn[t]}function G_(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:s}=_p(e,t),r=e[i]>=t?e[i]:e[s];n[r]=!0}}function rP(n,t,e,i){const s=n._adapter,r=+s.startOf(t[0].value,i),o=t[t.length-1].value;let a,l;for(a=r;a<=o;a=+s.add(a,1,i))l=e[a],l>=0&&(t[l].major=!0);return t}function X_(n,t,e){const i=[],s={},r=t.length;let o,a;for(o=0;o<r;++o)a=t[o],s[a]=o,i.push({value:a,major:!1});return r===0||!e?i:rP(n,i,s,e)}class mf extends Xr{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),s=this._adapter=new oM._date(t.adapters.date);s.init(e),La(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:K_(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:s,max:r,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(s=Math.min(s,c.min)),!a&&!isNaN(c.max)&&(r=Math.max(r,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),s=Le(s)&&!isNaN(s)?s:+e.startOf(Date.now(),i),r=Le(r)&&!isNaN(r)?r:+e.endOf(Date.now(),i)+1,this.min=Math.min(s,r-1),this.max=Math.max(s+1,r)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const r=this.min,o=this.max,a=Tk(s,r,o);return this._unit=e.unit||(i.autoSkip?Y_(e.minUnit,this.min,this.max,this._getLabelCapacity(r)):iP(this,a.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:sP(this._unit),this.initOffsets(s),t.reverse&&a.reverse(),X_(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,s,r;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),t.length===1?e=1-s:e=(this.getDecimalForValue(t[1])-s)/2,r=this.getDecimalForValue(t[t.length-1]),t.length===1?i=r:i=(r-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;e=on(e,0,o),i=on(i,0,o),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,s=this.options,r=s.time,o=r.unit||Y_(r.minUnit,e,i,this._getLabelCapacity(e)),a=jt(s.ticks.stepSize,1),l=o==="week"?r.isoWeekday:!1,c=Bo(l)||l===!0,u={};let h=e,f,g;if(c&&(h=+t.startOf(h,"isoWeek",l)),h=+t.startOf(h,c?"day":o),t.diff(i,e,o)>1e5*a)throw new Error(e+" and "+i+" are too far apart with stepSize of "+a+" "+o);const _=s.ticks.source==="data"&&this.getDataTimestamps();for(f=h,g=0;f<i;f=+t.add(f,a,o),g++)G_(u,f,_);return(f===i||s.bounds==="ticks"||g===1)&&G_(u,f,_),Object.keys(u).sort(H_).map(m=>+m)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const s=this.options.time.displayFormats,r=this._unit,o=e||s[r];return this._adapter.format(t,o)}_tickFormatFunction(t,e,i,s){const r=this.options,o=r.ticks.callback;if(o)return ye(o,[t,e,i],this);const a=r.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],h=c&&a[c],f=i[e],g=c&&h&&f&&f.major;return this._adapter.format(t,s||(g?h:u))}generateTickLabels(t){let e,i,s;for(e=0,i=t.length;e<i;++e)s=t[e],s.label=this._tickFormatFunction(s.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,s=bi(this.isHorizontal()?e.maxRotation:e.minRotation),r=Math.cos(s),o=Math.sin(s),a=this._resolveTickFontOptions(0).size;return{w:i*r+a*o,h:i*o+a*r}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,s=i[e.unit]||i.millisecond,r=this._tickFormatFunction(t,0,X_(this,[t],this._majorUnit),s),o=this._getLabelSize(r),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(e=0,i=s.length;e<i;++e)t=t.concat(s[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const s=this.getLabels();for(e=0,i=s.length;e<i;++e)t.push(K_(this,s[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Pb(t.sort(H_))}}function Cc(n,t,e){let i=0,s=n.length-1,r,o,a,l;e?(t>=n[i].pos&&t<=n[s].pos&&({lo:i,hi:s}=us(n,"pos",t)),{pos:r,time:a}=n[i],{pos:o,time:l}=n[s]):(t>=n[i].time&&t<=n[s].time&&({lo:i,hi:s}=us(n,"time",t)),{time:r,pos:a}=n[i],{time:o,pos:l}=n[s]);const c=o-r;return c?a+(l-a)*(t-r)/c:a}class oP extends mf{static id="timeseries";static defaults=mf.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=Cc(e,this.min),this._tableRange=Cc(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,s=[],r=[];let o,a,l,c,u;for(o=0,a=t.length;o<a;++o)c=t[o],c>=e&&c<=i&&s.push(c);if(s.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(o=0,a=s.length;o<a;++o)u=s[o+1],l=s[o-1],c=s[o],Math.round((u+l)/2)!==c&&r.push({time:c,pos:o/(a-1)});return r}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((s,r)=>s-r)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(Cc(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return Cc(this._table,i*this._tableRange+this._minPos,!0)}}var aP=Object.freeze({__proto__:null,CategoryScale:LO,LinearScale:BO,LogarithmicScale:zO,RadialLinearScale:nP,TimeScale:mf,TimeSeriesScale:oP});const lP=[rM,VA,IO,aP];Ap.register(...lP);const cP={shapeSource:"first",colorSource:"second",pixelSize:1,outline:!0};async function uP(n,t,e={}){const i={...cP,...e};return new Promise((s,r)=>{const o=document.createElement("canvas"),a=o.getContext("2d");if(!a){r(new Error("canvas"));return}o.width=512,o.height=512;const l=new Image,c=new Image;l.crossOrigin="anonymous",c.crossOrigin="anonymous";let u=0;const h=()=>{if(u++,u===2)try{a.clearRect(0,0,512,512);const f=document.createElement("canvas"),g=document.createElement("canvas"),_=f.getContext("2d"),m=g.getContext("2d");f.width=g.width=512,f.height=g.height=512;const b=(M,w,k)=>{const P=M.width/M.height,A=k.width/k.height;let I,W,R,N;P>A?(I=k.width,W=k.width/P,R=0,N=(k.height-W)/2):(W=k.height,I=k.height*P,R=(k.width-I)/2,N=0),w.drawImage(M,R,N,I,W)};b(l,_,f),b(c,m,g);const x=_.getImageData(0,0,512,512),T=m.getImageData(0,0,512,512),O=a.createImageData(512,512);for(let M=0;M<512;M+=i.pixelSize)for(let w=0;w<512;w+=i.pixelSize){const k=(M*512+w)*4,P=x.data[k],A=x.data[k+1],I=x.data[k+2],W=x.data[k+3],R=T.data[k],N=T.data[k+1],Z=T.data[k+2],ot=T.data[k+3];let at,nt,st,pt;switch(i.shapeSource){case"first":if(pt=W>1?255:0,W>1)if(ot>1)at=R,nt=N,st=Z;else{const V=Cd(T,w,M,512,512);at=V.r,nt=V.g,st=V.b}else at=nt=st=pt=0;break;case"second":if(pt=ot>1?255:0,ot>1)if(W>1)at=P,nt=A,st=I;else{const V=Cd(x,w,M,512,512);at=V.r,nt=V.g,st=V.b}else at=nt=st=pt=0;break;case"blend":default:const mt=W>ot;if(pt=Math.max(W,ot)>1?255:0,pt>0){const V=mt?T:x,F=mt?[R,N,Z,ot]:[P,A,I,W];if(F[3]>1)at=F[0],nt=F[1],st=F[2];else{const ft=Cd(V,w,M,512,512);at=ft.r,nt=ft.g,st=ft.b}}else at=nt=st=pt=0;break}if(at=Math.max(0,Math.min(255,at)),nt=Math.max(0,Math.min(255,nt)),st=Math.max(0,Math.min(255,st)),pt>0)for(let mt=0;mt<i.pixelSize&&M+mt<512;mt++)for(let V=0;V<i.pixelSize&&w+V<512;V++){const F=((M+mt)*512+(w+V))*4;O.data[F]=at,O.data[F+1]=nt,O.data[F+2]=st,O.data[F+3]=pt}}if(i.pixelSize>1){const M=hP(O,i.pixelSize);a.putImageData(M,0,0)}else a.putImageData(O,0,0);i.outline&&dP(a,512,512),s(o.toDataURL())}catch(f){r(f)}};l.onload=h,c.onload=h,l.onerror=r,c.onerror=r,l.src=n,c.src=t})}function hP(n,t){const{width:e,height:i,data:s}=n,r=new Uint8ClampedArray(s);for(let o=0;o<i;o+=t)for(let a=0;a<e;a+=t){const l=(o*e+a)*4,c=s[l],u=s[l+1],h=s[l+2],f=s[l+3];for(let g=0;g<t&&o+g<i;g++)for(let _=0;_<t&&a+_<e;_++){const m=((o+g)*e+(a+_))*4;r[m]=c,r[m+1]=u,r[m+2]=h,r[m+3]=f}}return new ImageData(r,e,i)}function dP(n,t,e){const i=n.getImageData(0,0,t,e),s=n.createImageData(t,e);s.data.set(i.data);for(let r=1;r<e-1;r++)for(let o=1;o<t-1;o++){const a=(r*t+o)*4;i.data[a+3]>128&&[i.data[((r-1)*t+o)*4+3],i.data[((r+1)*t+o)*4+3],i.data[(r*t+(o-1))*4+3],i.data[(r*t+(o+1))*4+3]].some(h=>h<=128)&&(s.data[a]=0,s.data[a+1]=0,s.data[a+2]=0,s.data[a+3]=255)}n.putImageData(s,0,0)}function Cd(n,t,e,i,s){const r=n.data,o=(e*i+t)*4;if(r[o+3]>1)return{r:r[o],g:r[o+1],b:r[o+2]};const a=20;for(let l=1;l<=a;l++)for(let c=-l;c<=l;c++)for(let u=-l;u<=l;u++){const h=t+u,f=e+c;if(h<0||f<0||h>=i||f>=s||u*u+c*c>l*l)continue;const g=(f*i+h)*4;if(r[g+3]>1)return{r:r[g],g:r[g+1],b:r[g+2]}}return{r:128,g:128,b:128}}const fP={bulbasaur:"",ivysaur:"",venusaur:"",charmander:"",charmeleon:"",charizard:"",squirtle:"",wartortle:"",blastoise:"",caterpie:"",metapod:"",butterfree:"",weedle:"",kakuna:"",beedrill:"",pidgey:"",pidgeotto:"",pidgeot:"",rattata:"",raticate:"",spearow:"",fearow:"",ekans:"",arbok:"",pikachu:"",raichu:"",sandshrew:"",sandslash:"","nidoran-f":"",nidorina:"",nidoqueen:"","nidoran-m":"",nidorino:"",nidoking:"",clefairy:"",clefable:"",vulpix:"",ninetales:"",jigglypuff:"",wigglytuff:"",zubat:"",golbat:"",oddish:"",gloom:"",vileplume:"",paras:"",parasect:"",venonat:"",venomoth:"",diglett:"",dugtrio:"",meowth:"",persian:"",psyduck:"",golduck:"",mankey:"",primeape:"",growlithe:"",arcanine:"",poliwag:"",poliwhirl:"",poliwrath:"",abra:"",kadabra:"",alakazam:"",machop:"",machoke:"",machamp:"",bellsprout:"",weepinbell:"",victreebel:"",tentacool:"",tentacruel:"",geodude:"",graveler:"",golem:"",ponyta:"",rapidash:"",slowpoke:"",slowbro:"",magnemite:"",magneton:"",farfetchd:"",doduo:"",dodrio:"",seel:"",dewgong:"",grimer:"",muk:"",shellder:"",cloyster:"",gastly:"",haunter:"",gengar:"",onix:"",drowzee:"",hypno:"",krabby:"",kingler:"",voltorb:"",electrode:"",exeggcute:"",exeggutor:"",cubone:"",marowak:"",hitmonlee:"",hitmonchan:"",lickitung:"",koffing:"",weezing:"",rhyhorn:"",rhydon:"",chansey:"",tangela:"",kangaskhan:"",horsea:"",seadra:"",goldeen:"",seaking:"",staryu:"",starmie:"","mr-mime":"",scyther:"",jynx:"",electabuzz:"",magmar:"",pinsir:"",tauros:"",magikarp:"",gyarados:"",lapras:"",ditto:"",eevee:"",vaporeon:"",jolteon:"",flareon:"",porygon:"",omanyte:"",omastar:"",kabuto:"",kabutops:"",aerodactyl:"",snorlax:"",articuno:"",zapdos:"",moltres:"",dratini:"",dragonair:"",dragonite:"",mewtwo:"",mew:"",chikorita:"",bayleef:"",meganium:"",cyndaquil:"",quilava:"",typhlosion:"",totodile:"",croconaw:"",feraligatr:"",sentret:"",furret:"",hoothoot:"",noctowl:"",ledyba:"",ledian:"",spinarak:"",ariados:"",crobat:"",chinchou:"",lanturn:"",pichu:"",cleffa:"",igglybuff:"",togepi:"",togetic:"",natu:"",xatu:"",mareep:"",flaaffy:"",ampharos:"",bellossom:"",marill:"",azumarill:"",sudowoodo:"",politoed:"",hoppip:"",skiploom:"",jumpluff:"",aipom:"",sunkern:"",sunflora:"",yanma:"",wooper:"",quagsire:"",espeon:"",umbreon:"",murkrow:"",slowking:"",misdreavus:"",unown:"",wobbuffet:"",girafarig:"",pineco:"",forretress:"",dunsparce:"",gligar:"",steelix:"",snubbull:"",granbull:"",qwilfish:"",scizor:"",shuckle:"",heracross:"",sneasel:"",teddiursa:"",ursaring:"",slugma:"",magcargo:"",swinub:"",piloswine:"",corsola:"",remoraid:"",octillery:"",delibird:"",mantine:"",skarmory:"",houndour:"",houndoom:"",kingdra:"",phanpy:"",donphan:"",porygon2:"2",stantler:"",smeargle:"",tyrogue:"",hitmontop:"",smoochum:"",elekid:"",magby:"",miltank:"",blissey:"",raikou:"",entei:"",suicune:"",larvitar:"",pupitar:"",tyranitar:"",lugia:"","ho-oh":"",celebi:""};function Z_(n){return fP[n.toLowerCase()]||n}function pP(n,t){const e=Z_(n),i=Z_(t),s=e.split(""),r=i.split(""),o=[()=>{const h=s.slice(0,Math.ceil(s.length/2)).join(""),f=r.slice(Math.floor(r.length/2)).join("");return h+f},()=>{const h=Math.max(s.length,r.length);let f="";for(let g=0;g<h;g++)g<s.length&&(f+=s[g]),g<r.length&&(f+=r[g]);return f.slice(0,4)},()=>{const h=s[0]||"",f=r[r.length-1]||"";return h+f}],a=o[Math.floor(Math.random()*o.length)],l=a(),c=["","","","","","","","","","","","","","","","","","","","","","","",""],u=c[Math.floor(Math.random()*c.length)];return l+u}const gP="modulepreload",mP=function(n){return"/"+n},Q_={},_P=function(t,e,i){let s=Promise.resolve();if(e&&e.length>0){let c=function(u){return Promise.all(u.map(h=>Promise.resolve(h).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};var o=c;document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=a?.nonce||a?.getAttribute("nonce");s=c(e.map(u=>{if(u=mP(u),u in Q_)return;Q_[u]=!0;const h=u.endsWith(".css"),f=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":gP,h||(g.as="script"),g.crossOrigin="",g.href=u,l&&g.setAttribute("nonce",l),document.head.appendChild(g),h)return new Promise((_,m)=>{g.addEventListener("load",_),g.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${u}`)))})}))}function r(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return s.then(a=>{for(const l of a||[])l.status==="rejected"&&r(l.reason);return t().catch(r)})};var yP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bP(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var zc={exports:{}},vP=zc.exports,J_;function xP(){return J_||(J_=1,function(n,t){(function(e,i){n.exports=i()})(vP,function(){var e=function(d,p){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,v){y.__proto__=v}||function(y,v){for(var S in v)Object.prototype.hasOwnProperty.call(v,S)&&(y[S]=v[S])})(d,p)},i=function(){return(i=Object.assign||function(d){for(var p,y=1,v=arguments.length;y<v;y++)for(var S in p=arguments[y])Object.prototype.hasOwnProperty.call(p,S)&&(d[S]=p[S]);return d}).apply(this,arguments)};function s(d,p,y){for(var v,S=0,C=p.length;S<C;S++)!v&&S in p||((v=v||Array.prototype.slice.call(p,0,S))[S]=p[S]);return d.concat(v||Array.prototype.slice.call(p))}var r=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:yP,o=Object.keys,a=Array.isArray;function l(d,p){return typeof p!="object"||o(p).forEach(function(y){d[y]=p[y]}),d}typeof Promise>"u"||r.Promise||(r.Promise=Promise);var c=Object.getPrototypeOf,u={}.hasOwnProperty;function h(d,p){return u.call(d,p)}function f(d,p){typeof p=="function"&&(p=p(c(d))),(typeof Reflect>"u"?o:Reflect.ownKeys)(p).forEach(function(y){_(d,y,p[y])})}var g=Object.defineProperty;function _(d,p,y,v){g(d,p,l(y&&h(y,"get")&&typeof y.get=="function"?{get:y.get,set:y.set,configurable:!0}:{value:y,configurable:!0,writable:!0},v))}function m(d){return{from:function(p){return d.prototype=Object.create(p.prototype),_(d.prototype,"constructor",d),{extend:f.bind(null,d.prototype)}}}}var b=Object.getOwnPropertyDescriptor,x=[].slice;function T(d,p,y){return x.call(d,p,y)}function O(d,p){return p(d)}function M(d){if(!d)throw new Error("Assertion Failed")}function w(d){r.setImmediate?setImmediate(d):setTimeout(d,0)}function k(d,p){if(typeof p=="string"&&h(d,p))return d[p];if(!p)return d;if(typeof p!="string"){for(var y=[],v=0,S=p.length;v<S;++v){var C=k(d,p[v]);y.push(C)}return y}var D=p.indexOf(".");if(D!==-1){var L=d[p.substr(0,D)];return L==null?void 0:k(L,p.substr(D+1))}}function P(d,p,y){if(d&&p!==void 0&&!("isFrozen"in Object&&Object.isFrozen(d)))if(typeof p!="string"&&"length"in p){M(typeof y!="string"&&"length"in y);for(var v=0,S=p.length;v<S;++v)P(d,p[v],y[v])}else{var C,D,L=p.indexOf(".");L!==-1?(C=p.substr(0,L),(D=p.substr(L+1))===""?y===void 0?a(d)&&!isNaN(parseInt(C))?d.splice(C,1):delete d[C]:d[C]=y:P(L=!(L=d[C])||!h(d,C)?d[C]={}:L,D,y)):y===void 0?a(d)&&!isNaN(parseInt(p))?d.splice(p,1):delete d[p]:d[p]=y}}function A(d){var p,y={};for(p in d)h(d,p)&&(y[p]=d[p]);return y}var I=[].concat;function W(d){return I.apply([],d)}var Bt="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(W([8,16,32,64].map(function(d){return["Int","Uint","Float"].map(function(p){return p+d+"Array"})}))).filter(function(d){return r[d]}),R=new Set(Bt.map(function(d){return r[d]})),N=null;function Z(d){return N=new WeakMap,d=function p(y){if(!y||typeof y!="object")return y;var v=N.get(y);if(v)return v;if(a(y)){v=[],N.set(y,v);for(var S=0,C=y.length;S<C;++S)v.push(p(y[S]))}else if(R.has(y.constructor))v=y;else{var D,L=c(y);for(D in v=L===Object.prototype?{}:Object.create(L),N.set(y,v),y)h(y,D)&&(v[D]=p(y[D]))}return v}(d),N=null,d}var ot={}.toString;function at(d){return ot.call(d).slice(8,-1)}var nt=typeof Symbol<"u"?Symbol.iterator:"@@iterator",st=typeof nt=="symbol"?function(d){var p;return d!=null&&(p=d[nt])&&p.apply(d)}:function(){return null};function pt(d,p){return p=d.indexOf(p),0<=p&&d.splice(p,1),0<=p}var mt={};function V(d){var p,y,v,S;if(arguments.length===1){if(a(d))return d.slice();if(this===mt&&typeof d=="string")return[d];if(S=st(d)){for(y=[];!(v=S.next()).done;)y.push(v.value);return y}if(d==null)return[d];if(typeof(p=d.length)!="number")return[d];for(y=new Array(p);p--;)y[p]=d[p];return y}for(p=arguments.length,y=new Array(p);p--;)y[p]=arguments[p];return y}var F=typeof Symbol<"u"?function(d){return d[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Lt=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],oi=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Lt),ft={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Mt(d,p){this.name=d,this.message=p}function Ot(d,p){return d+". Errors: "+Object.keys(p).map(function(y){return p[y].toString()}).filter(function(y,v,S){return S.indexOf(y)===v}).join(`
`)}function _t(d,p,y,v){this.failures=p,this.failedKeys=v,this.successCount=y,this.message=Ot(d,p)}function Tt(d,p){this.name="BulkError",this.failures=Object.keys(p).map(function(y){return p[y]}),this.failuresByPos=p,this.message=Ot(d,this.failures)}m(Mt).from(Error).extend({toString:function(){return this.name+": "+this.message}}),m(_t).from(Mt),m(Tt).from(Mt);var Et=oi.reduce(function(d,p){return d[p]=p+"Error",d},{}),yt=Mt,bt=oi.reduce(function(d,p){var y=p+"Error";function v(S,C){this.name=y,S?typeof S=="string"?(this.message="".concat(S).concat(C?`
 `+C:""),this.inner=C||null):typeof S=="object"&&(this.message="".concat(S.name," ").concat(S.message),this.inner=S):(this.message=ft[p]||y,this.inner=null)}return m(v).from(yt),d[p]=v,d},{});bt.Syntax=SyntaxError,bt.Type=TypeError,bt.Range=RangeError;var Kt=Lt.reduce(function(d,p){return d[p+"Error"]=bt[p],d},{}),Yt=oi.reduce(function(d,p){return["Syntax","Type","Range"].indexOf(p)===-1&&(d[p+"Error"]=bt[p]),d},{});function E(){}function j(d){return d}function Q(d,p){return d==null||d===j?p:function(y){return p(d(y))}}function H(d,p){return function(){d.apply(this,arguments),p.apply(this,arguments)}}function J(d,p){return d===E?p:function(){var y=d.apply(this,arguments);y!==void 0&&(arguments[0]=y);var v=this.onsuccess,S=this.onerror;this.onsuccess=null,this.onerror=null;var C=p.apply(this,arguments);return v&&(this.onsuccess=this.onsuccess?H(v,this.onsuccess):v),S&&(this.onerror=this.onerror?H(S,this.onerror):S),C!==void 0?C:y}}function rt(d,p){return d===E?p:function(){d.apply(this,arguments);var y=this.onsuccess,v=this.onerror;this.onsuccess=this.onerror=null,p.apply(this,arguments),y&&(this.onsuccess=this.onsuccess?H(y,this.onsuccess):y),v&&(this.onerror=this.onerror?H(v,this.onerror):v)}}function gt(d,p){return d===E?p:function(y){var v=d.apply(this,arguments);l(y,v);var S=this.onsuccess,C=this.onerror;return this.onsuccess=null,this.onerror=null,y=p.apply(this,arguments),S&&(this.onsuccess=this.onsuccess?H(S,this.onsuccess):S),C&&(this.onerror=this.onerror?H(C,this.onerror):C),v===void 0?y===void 0?void 0:y:l(v,y)}}function lt(d,p){return d===E?p:function(){return p.apply(this,arguments)!==!1&&d.apply(this,arguments)}}function ht(d,p){return d===E?p:function(){var y=d.apply(this,arguments);if(y&&typeof y.then=="function"){for(var v=this,S=arguments.length,C=new Array(S);S--;)C[S]=arguments[S];return y.then(function(){return p.apply(v,C)})}return p.apply(this,arguments)}}Yt.ModifyError=_t,Yt.DexieError=Mt,Yt.BulkError=Tt;var dt=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Rt(d){dt=d}var wt={},Ft=100,Bt=typeof Promise>"u"?[]:function(){var d=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[d,c(d),d];var p=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[p,c(p),d]}(),Lt=Bt[0],oi=Bt[1],Bt=Bt[2],oi=oi&&oi.then,Jt=Lt&&Lt.constructor,ne=!!Bt,De=function(d,p){Ts.push([d,p]),Qe&&(queueMicrotask(Ox),Qe=!1)},Be=!0,Qe=!0,Ke=[],ri=[],to=j,Re={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:E,pgp:!1,env:{},finalize:E},It=Re,Ts=[],Ai=0,Bl=[];function Dt(d){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var p=this._PSD=It;if(typeof d!="function"){if(d!==wt)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&mh(this,this._value))}this._state=null,this._value=null,++p.ref,function y(v,S){try{S(function(C){if(v._state===null){if(C===v)throw new TypeError("A promise cannot be resolved with itself.");var D=v._lib&&eo();C&&typeof C.then=="function"?y(v,function(L,z){C instanceof Dt?C._then(L,z):C.then(L,z)}):(v._state=!0,v._value=C,rg(v)),D&&no()}},mh.bind(null,v))}catch(C){mh(v,C)}}(this,d)}var gh={get:function(){var d=It,p=ql;function y(v,S){var C=this,D=!d.global&&(d!==It||p!==ql),L=D&&!Cs(),z=new Dt(function($,Y){_h(C,new sg(ag(v,d,D,L),ag(S,d,D,L),$,Y,d))});return this._consoleTask&&(z._consoleTask=this._consoleTask),z}return y.prototype=wt,y},set:function(d){_(this,"then",d&&d.prototype===wt?gh:{get:function(){return d},set:gh.set})}};function sg(d,p,y,v,S){this.onFulfilled=typeof d=="function"?d:null,this.onRejected=typeof p=="function"?p:null,this.resolve=y,this.reject=v,this.psd=S}function mh(d,p){var y,v;ri.push(p),d._state===null&&(y=d._lib&&eo(),p=to(p),d._state=!1,d._value=p,v=d,Ke.some(function(S){return S._value===v._value})||Ke.push(v),rg(d),y&&no())}function rg(d){var p=d._listeners;d._listeners=[];for(var y=0,v=p.length;y<v;++y)_h(d,p[y]);var S=d._PSD;--S.ref||S.finalize(),Ai===0&&(++Ai,De(function(){--Ai==0&&yh()},[]))}function _h(d,p){if(d._state!==null){var y=d._state?p.onFulfilled:p.onRejected;if(y===null)return(d._state?p.resolve:p.reject)(d._value);++p.psd.ref,++Ai,De(Ax,[y,d,p])}else d._listeners.push(p)}function Ax(d,p,y){try{var v,S=p._value;!p._state&&ri.length&&(ri=[]),v=dt&&p._consoleTask?p._consoleTask.run(function(){return d(S)}):d(S),p._state||ri.indexOf(S)!==-1||function(C){for(var D=Ke.length;D;)if(Ke[--D]._value===C._value)return Ke.splice(D,1)}(p),y.resolve(v)}catch(C){y.reject(C)}finally{--Ai==0&&yh(),--y.psd.ref||y.psd.finalize()}}function Ox(){ar(Re,function(){eo()&&no()})}function eo(){var d=Be;return Qe=Be=!1,d}function no(){var d,p,y;do for(;0<Ts.length;)for(d=Ts,Ts=[],y=d.length,p=0;p<y;++p){var v=d[p];v[0].apply(null,v[1])}while(0<Ts.length);Qe=Be=!0}function yh(){var d=Ke;Ke=[],d.forEach(function(v){v._PSD.onunhandled.call(null,v._value,v)});for(var p=Bl.slice(0),y=p.length;y;)p[--y]()}function Wl(d){return new Dt(wt,!1,d)}function ke(d,p){var y=It;return function(){var v=eo(),S=It;try{return Ms(y,!0),d.apply(this,arguments)}catch(C){p&&p(C)}finally{Ms(S,!1),v&&no()}}}f(Dt.prototype,{then:gh,_then:function(d,p){_h(this,new sg(null,null,d,p,It))},catch:function(d){if(arguments.length===1)return this.then(null,d);var p=d,y=arguments[1];return typeof p=="function"?this.then(null,function(v){return(v instanceof p?y:Wl)(v)}):this.then(null,function(v){return(v&&v.name===p?y:Wl)(v)})},finally:function(d){return this.then(function(p){return Dt.resolve(d()).then(function(){return p})},function(p){return Dt.resolve(d()).then(function(){return Wl(p)})})},timeout:function(d,p){var y=this;return d<1/0?new Dt(function(v,S){var C=setTimeout(function(){return S(new bt.Timeout(p))},d);y.then(v,S).finally(clearTimeout.bind(null,C))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&_(Dt.prototype,Symbol.toStringTag,"Dexie.Promise"),Re.env=og(),f(Dt,{all:function(){var d=V.apply(null,arguments).map($l);return new Dt(function(p,y){d.length===0&&p([]);var v=d.length;d.forEach(function(S,C){return Dt.resolve(S).then(function(D){d[C]=D,--v||p(d)},y)})})},resolve:function(d){return d instanceof Dt?d:d&&typeof d.then=="function"?new Dt(function(p,y){d.then(p,y)}):new Dt(wt,!0,d)},reject:Wl,race:function(){var d=V.apply(null,arguments).map($l);return new Dt(function(p,y){d.map(function(v){return Dt.resolve(v).then(p,y)})})},PSD:{get:function(){return It},set:function(d){return It=d}},totalEchoes:{get:function(){return ql}},newPSD:ks,usePSD:ar,scheduler:{get:function(){return De},set:function(d){De=d}},rejectionMapper:{get:function(){return to},set:function(d){to=d}},follow:function(d,p){return new Dt(function(y,v){return ks(function(S,C){var D=It;D.unhandleds=[],D.onunhandled=C,D.finalize=H(function(){var L,z=this;L=function(){z.unhandleds.length===0?S():C(z.unhandleds[0])},Bl.push(function $(){L(),Bl.splice(Bl.indexOf($),1)}),++Ai,De(function(){--Ai==0&&yh()},[])},D.finalize),d()},p,y,v)})}}),Jt&&(Jt.allSettled&&_(Dt,"allSettled",function(){var d=V.apply(null,arguments).map($l);return new Dt(function(p){d.length===0&&p([]);var y=d.length,v=new Array(y);d.forEach(function(S,C){return Dt.resolve(S).then(function(D){return v[C]={status:"fulfilled",value:D}},function(D){return v[C]={status:"rejected",reason:D}}).then(function(){return--y||p(v)})})})}),Jt.any&&typeof AggregateError<"u"&&_(Dt,"any",function(){var d=V.apply(null,arguments).map($l);return new Dt(function(p,y){d.length===0&&y(new AggregateError([]));var v=d.length,S=new Array(v);d.forEach(function(C,D){return Dt.resolve(C).then(function(L){return p(L)},function(L){S[D]=L,--v||y(new AggregateError(S))})})})}),Jt.withResolvers&&(Dt.withResolvers=Jt.withResolvers));var nn={awaits:0,echoes:0,id:0},Px=0,jl=[],zl=0,ql=0,Dx=0;function ks(d,p,y,v){var S=It,C=Object.create(S);return C.parent=S,C.ref=0,C.global=!1,C.id=++Dx,Re.env,C.env=ne?{Promise:Dt,PromiseProp:{value:Dt,configurable:!0,writable:!0},all:Dt.all,race:Dt.race,allSettled:Dt.allSettled,any:Dt.any,resolve:Dt.resolve,reject:Dt.reject}:{},p&&l(C,p),++S.ref,C.finalize=function(){--this.parent.ref||this.parent.finalize()},v=ar(C,d,y,v),C.ref===0&&C.finalize(),v}function io(){return nn.id||(nn.id=++Px),++nn.awaits,nn.echoes+=Ft,nn.id}function Cs(){return!!nn.awaits&&(--nn.awaits==0&&(nn.id=0),nn.echoes=nn.awaits*Ft,!0)}function $l(d){return nn.echoes&&d&&d.constructor===Jt?(io(),d.then(function(p){return Cs(),p},function(p){return Cs(),We(p)})):d}function Ex(){var d=jl[jl.length-1];jl.pop(),Ms(d,!1)}function Ms(d,p){var y,v=It;(p?!nn.echoes||zl++&&d===It:!zl||--zl&&d===It)||queueMicrotask(p?(function(S){++ql,nn.echoes&&--nn.echoes!=0||(nn.echoes=nn.awaits=nn.id=0),jl.push(It),Ms(S,!0)}).bind(null,d):Ex),d!==It&&(It=d,v===Re&&(Re.env=og()),ne&&(y=Re.env.Promise,p=d.env,(v.global||d.global)&&(Object.defineProperty(r,"Promise",p.PromiseProp),y.all=p.all,y.race=p.race,y.resolve=p.resolve,y.reject=p.reject,p.allSettled&&(y.allSettled=p.allSettled),p.any&&(y.any=p.any))))}function og(){var d=r.Promise;return ne?{Promise:d,PromiseProp:Object.getOwnPropertyDescriptor(r,"Promise"),all:d.all,race:d.race,allSettled:d.allSettled,any:d.any,resolve:d.resolve,reject:d.reject}:{}}function ar(d,p,y,v,S){var C=It;try{return Ms(d,!0),p(y,v,S)}finally{Ms(C,!1)}}function ag(d,p,y,v){return typeof d!="function"?d:function(){var S=It;y&&io(),Ms(p,!0);try{return d.apply(this,arguments)}finally{Ms(S,!1),v&&queueMicrotask(Cs)}}}function bh(d){Promise===Jt&&nn.echoes===0?zl===0?d():enqueueNativeMicroTask(d):setTimeout(d,0)}(""+oi).indexOf("[native code]")===-1&&(io=Cs=E);var We=Dt.reject,lr="",Yi="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",lg="String expected.",so=[],Ul="__dbnames",vh="readonly",xh="readwrite";function cr(d,p){return d?p?function(){return d.apply(this,arguments)&&p.apply(this,arguments)}:d:p}var cg={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Hl(d){return typeof d!="string"||/\./.test(d)?function(p){return p}:function(p){return p[d]===void 0&&d in p&&delete(p=Z(p))[d],p}}function ug(){throw bt.Type()}function ie(d,p){try{var y=hg(d),v=hg(p);if(y!==v)return y==="Array"?1:v==="Array"?-1:y==="binary"?1:v==="binary"?-1:y==="string"?1:v==="string"?-1:y==="Date"?1:v!=="Date"?NaN:-1;switch(y){case"number":case"Date":case"string":return p<d?1:d<p?-1:0;case"binary":return function(S,C){for(var D=S.length,L=C.length,z=D<L?D:L,$=0;$<z;++$)if(S[$]!==C[$])return S[$]<C[$]?-1:1;return D===L?0:D<L?-1:1}(dg(d),dg(p));case"Array":return function(S,C){for(var D=S.length,L=C.length,z=D<L?D:L,$=0;$<z;++$){var Y=ie(S[$],C[$]);if(Y!==0)return Y}return D===L?0:D<L?-1:1}(d,p)}}catch{}return NaN}function hg(d){var p=typeof d;return p!="object"?p:ArrayBuffer.isView(d)?"binary":(d=at(d),d==="ArrayBuffer"?"binary":d)}function dg(d){return d instanceof Uint8Array?d:ArrayBuffer.isView(d)?new Uint8Array(d.buffer,d.byteOffset,d.byteLength):new Uint8Array(d)}var fg=(ve.prototype._trans=function(d,p,y){var v=this._tx||It.trans,S=this.name,C=dt&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(d==="readonly"?"read":"write"," ").concat(this.name));function D($,Y,B){if(!B.schema[S])throw new bt.NotFound("Table "+S+" not part of transaction");return p(B.idbtrans,B)}var L=eo();try{var z=v&&v.db._novip===this.db._novip?v===It.trans?v._promise(d,D,y):ks(function(){return v._promise(d,D,y)},{trans:v,transless:It.transless||It}):function $(Y,B,X,q){if(Y.idbdb&&(Y._state.openComplete||It.letThrough||Y._vip)){var K=Y._createTransaction(B,X,Y._dbSchema);try{K.create(),Y._state.PR1398_maxLoop=3}catch(G){return G.name===Et.InvalidState&&Y.isOpen()&&0<--Y._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Y.close({disableAutoOpen:!1}),Y.open().then(function(){return $(Y,B,X,q)})):We(G)}return K._promise(B,function(G,U){return ks(function(){return It.trans=K,q(G,U,K)})}).then(function(G){if(B==="readwrite")try{K.idbtrans.commit()}catch{}return B==="readonly"?G:K._completion.then(function(){return G})})}if(Y._state.openComplete)return We(new bt.DatabaseClosed(Y._state.dbOpenError));if(!Y._state.isBeingOpened){if(!Y._state.autoOpen)return We(new bt.DatabaseClosed);Y.open().catch(E)}return Y._state.dbReadyPromise.then(function(){return $(Y,B,X,q)})}(this.db,d,[this.name],D);return C&&(z._consoleTask=C,z=z.catch(function($){return console.trace($),We($)})),z}finally{L&&no()}},ve.prototype.get=function(d,p){var y=this;return d&&d.constructor===Object?this.where(d).first(p):d==null?We(new bt.Type("Invalid argument to Table.get()")):this._trans("readonly",function(v){return y.core.get({trans:v,key:d}).then(function(S){return y.hook.reading.fire(S)})}).then(p)},ve.prototype.where=function(d){if(typeof d=="string")return new this.db.WhereClause(this,d);if(a(d))return new this.db.WhereClause(this,"[".concat(d.join("+"),"]"));var p=o(d);if(p.length===1)return this.where(p[0]).equals(d[p[0]]);var y=this.schema.indexes.concat(this.schema.primKey).filter(function(L){if(L.compound&&p.every(function($){return 0<=L.keyPath.indexOf($)})){for(var z=0;z<p.length;++z)if(p.indexOf(L.keyPath[z])===-1)return!1;return!0}return!1}).sort(function(L,z){return L.keyPath.length-z.keyPath.length})[0];if(y&&this.db._maxKey!==lr){var C=y.keyPath.slice(0,p.length);return this.where(C).equals(C.map(function(z){return d[z]}))}!y&&dt&&console.warn("The query ".concat(JSON.stringify(d)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(p.join("+"),"]"));var v=this.schema.idxByName;function S(L,z){return ie(L,z)===0}var D=p.reduce(function(B,z){var $=B[0],Y=B[1],B=v[z],X=d[z];return[$||B,$||!B?cr(Y,B&&B.multi?function(q){return q=k(q,z),a(q)&&q.some(function(K){return S(X,K)})}:function(q){return S(X,k(q,z))}):Y]},[null,null]),C=D[0],D=D[1];return C?this.where(C.name).equals(d[C.keyPath]).filter(D):y?this.filter(D):this.where(p).equals("")},ve.prototype.filter=function(d){return this.toCollection().and(d)},ve.prototype.count=function(d){return this.toCollection().count(d)},ve.prototype.offset=function(d){return this.toCollection().offset(d)},ve.prototype.limit=function(d){return this.toCollection().limit(d)},ve.prototype.each=function(d){return this.toCollection().each(d)},ve.prototype.toArray=function(d){return this.toCollection().toArray(d)},ve.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},ve.prototype.orderBy=function(d){return new this.db.Collection(new this.db.WhereClause(this,a(d)?"[".concat(d.join("+"),"]"):d))},ve.prototype.reverse=function(){return this.toCollection().reverse()},ve.prototype.mapToClass=function(d){var p,y=this.db,v=this.name;function S(){return p!==null&&p.apply(this,arguments)||this}(this.schema.mappedClass=d).prototype instanceof ug&&(function(z,$){if(typeof $!="function"&&$!==null)throw new TypeError("Class extends value "+String($)+" is not a constructor or null");function Y(){this.constructor=z}e(z,$),z.prototype=$===null?Object.create($):(Y.prototype=$.prototype,new Y)}(S,p=d),Object.defineProperty(S.prototype,"db",{get:function(){return y},enumerable:!1,configurable:!0}),S.prototype.table=function(){return v},d=S);for(var C=new Set,D=d.prototype;D;D=c(D))Object.getOwnPropertyNames(D).forEach(function(z){return C.add(z)});function L(z){if(!z)return z;var $,Y=Object.create(d.prototype);for($ in z)if(!C.has($))try{Y[$]=z[$]}catch{}return Y}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=L,this.hook("reading",L),d},ve.prototype.defineClass=function(){return this.mapToClass(function(d){l(this,d)})},ve.prototype.add=function(d,p){var y=this,v=this.schema.primKey,S=v.auto,C=v.keyPath,D=d;return C&&S&&(D=Hl(C)(d)),this._trans("readwrite",function(L){return y.core.mutate({trans:L,type:"add",keys:p!=null?[p]:null,values:[D]})}).then(function(L){return L.numFailures?Dt.reject(L.failures[0]):L.lastResult}).then(function(L){if(C)try{P(d,C,L)}catch{}return L})},ve.prototype.update=function(d,p){return typeof d!="object"||a(d)?this.where(":id").equals(d).modify(p):(d=k(d,this.schema.primKey.keyPath),d===void 0?We(new bt.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(d).modify(p))},ve.prototype.put=function(d,p){var y=this,v=this.schema.primKey,S=v.auto,C=v.keyPath,D=d;return C&&S&&(D=Hl(C)(d)),this._trans("readwrite",function(L){return y.core.mutate({trans:L,type:"put",values:[D],keys:p!=null?[p]:null})}).then(function(L){return L.numFailures?Dt.reject(L.failures[0]):L.lastResult}).then(function(L){if(C)try{P(d,C,L)}catch{}return L})},ve.prototype.delete=function(d){var p=this;return this._trans("readwrite",function(y){return p.core.mutate({trans:y,type:"delete",keys:[d]})}).then(function(y){return y.numFailures?Dt.reject(y.failures[0]):void 0})},ve.prototype.clear=function(){var d=this;return this._trans("readwrite",function(p){return d.core.mutate({trans:p,type:"deleteRange",range:cg})}).then(function(p){return p.numFailures?Dt.reject(p.failures[0]):void 0})},ve.prototype.bulkGet=function(d){var p=this;return this._trans("readonly",function(y){return p.core.getMany({keys:d,trans:y}).then(function(v){return v.map(function(S){return p.hook.reading.fire(S)})})})},ve.prototype.bulkAdd=function(d,p,y){var v=this,S=Array.isArray(p)?p:void 0,C=(y=y||(S?void 0:p))?y.allKeys:void 0;return this._trans("readwrite",function(D){var $=v.schema.primKey,L=$.auto,$=$.keyPath;if($&&S)throw new bt.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(S&&S.length!==d.length)throw new bt.InvalidArgument("Arguments objects and keys must have the same length");var z=d.length,$=$&&L?d.map(Hl($)):d;return v.core.mutate({trans:D,type:"add",keys:S,values:$,wantResults:C}).then(function(K){var B=K.numFailures,X=K.results,q=K.lastResult,K=K.failures;if(B===0)return C?X:q;throw new Tt("".concat(v.name,".bulkAdd(): ").concat(B," of ").concat(z," operations failed"),K)})})},ve.prototype.bulkPut=function(d,p,y){var v=this,S=Array.isArray(p)?p:void 0,C=(y=y||(S?void 0:p))?y.allKeys:void 0;return this._trans("readwrite",function(D){var $=v.schema.primKey,L=$.auto,$=$.keyPath;if($&&S)throw new bt.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(S&&S.length!==d.length)throw new bt.InvalidArgument("Arguments objects and keys must have the same length");var z=d.length,$=$&&L?d.map(Hl($)):d;return v.core.mutate({trans:D,type:"put",keys:S,values:$,wantResults:C}).then(function(K){var B=K.numFailures,X=K.results,q=K.lastResult,K=K.failures;if(B===0)return C?X:q;throw new Tt("".concat(v.name,".bulkPut(): ").concat(B," of ").concat(z," operations failed"),K)})})},ve.prototype.bulkUpdate=function(d){var p=this,y=this.core,v=d.map(function(D){return D.key}),S=d.map(function(D){return D.changes}),C=[];return this._trans("readwrite",function(D){return y.getMany({trans:D,keys:v,cache:"clone"}).then(function(L){var z=[],$=[];d.forEach(function(B,X){var q=B.key,K=B.changes,G=L[X];if(G){for(var U=0,tt=Object.keys(K);U<tt.length;U++){var et=tt[U],it=K[et];if(et===p.schema.primKey.keyPath){if(ie(it,q)!==0)throw new bt.Constraint("Cannot update primary key in bulkUpdate()")}else P(G,et,it)}C.push(X),z.push(q),$.push(G)}});var Y=z.length;return y.mutate({trans:D,type:"put",keys:z,values:$,updates:{keys:v,changeSpecs:S}}).then(function(B){var X=B.numFailures,q=B.failures;if(X===0)return Y;for(var K=0,G=Object.keys(q);K<G.length;K++){var U,tt=G[K],et=C[Number(tt)];et!=null&&(U=q[tt],delete q[tt],q[et]=U)}throw new Tt("".concat(p.name,".bulkUpdate(): ").concat(X," of ").concat(Y," operations failed"),q)})})})},ve.prototype.bulkDelete=function(d){var p=this,y=d.length;return this._trans("readwrite",function(v){return p.core.mutate({trans:v,type:"delete",keys:d})}).then(function(D){var S=D.numFailures,C=D.lastResult,D=D.failures;if(S===0)return C;throw new Tt("".concat(p.name,".bulkDelete(): ").concat(S," of ").concat(y," operations failed"),D)})},ve);function ve(){}function ia(d){function p(D,L){if(L){for(var z=arguments.length,$=new Array(z-1);--z;)$[z-1]=arguments[z];return y[D].subscribe.apply(null,$),d}if(typeof D=="string")return y[D]}var y={};p.addEventType=C;for(var v=1,S=arguments.length;v<S;++v)C(arguments[v]);return p;function C(D,L,z){if(typeof D!="object"){var $;L=L||lt;var Y={subscribers:[],fire:z=z||E,subscribe:function(B){Y.subscribers.indexOf(B)===-1&&(Y.subscribers.push(B),Y.fire=L(Y.fire,B))},unsubscribe:function(B){Y.subscribers=Y.subscribers.filter(function(X){return X!==B}),Y.fire=Y.subscribers.reduce(L,z)}};return y[D]=p[D]=Y}o($=D).forEach(function(B){var X=$[B];if(a(X))C(B,$[B][0],$[B][1]);else{if(X!=="asap")throw new bt.InvalidArgument("Invalid event config");var q=C(B,j,function(){for(var K=arguments.length,G=new Array(K);K--;)G[K]=arguments[K];q.subscribers.forEach(function(U){w(function(){U.apply(null,G)})})})}})}}function sa(d,p){return m(p).from({prototype:d}),p}function ro(d,p){return!(d.filter||d.algorithm||d.or)&&(p?d.justLimit:!d.replayFilter)}function wh(d,p){d.filter=cr(d.filter,p)}function Sh(d,p,y){var v=d.replayFilter;d.replayFilter=v?function(){return cr(v(),p())}:p,d.justLimit=y&&!v}function Kl(d,p){if(d.isPrimKey)return p.primaryKey;var y=p.getIndexByKeyPath(d.index);if(!y)throw new bt.Schema("KeyPath "+d.index+" on object store "+p.name+" is not indexed");return y}function pg(d,p,y){var v=Kl(d,p.schema);return p.openCursor({trans:y,values:!d.keysOnly,reverse:d.dir==="prev",unique:!!d.unique,query:{index:v,range:d.range}})}function Yl(d,p,y,v){var S=d.replayFilter?cr(d.filter,d.replayFilter()):d.filter;if(d.or){var C={},D=function(L,z,$){var Y,B;S&&!S(z,$,function(X){return z.stop(X)},function(X){return z.fail(X)})||((B=""+(Y=z.primaryKey))=="[object ArrayBuffer]"&&(B=""+new Uint8Array(Y)),h(C,B)||(C[B]=!0,p(L,z,$)))};return Promise.all([d.or._iterate(D,y),gg(pg(d,v,y),d.algorithm,D,!d.keysOnly&&d.valueMapper)])}return gg(pg(d,v,y),cr(d.algorithm,S),p,!d.keysOnly&&d.valueMapper)}function gg(d,p,y,v){var S=ke(v?function(C,D,L){return y(v(C),D,L)}:y);return d.then(function(C){if(C)return C.start(function(){var D=function(){return C.continue()};p&&!p(C,function(L){return D=L},function(L){C.stop(L),D=E},function(L){C.fail(L),D=E})||S(C.value,C,function(L){return D=L}),D()})})}var ra=(mg.prototype.execute=function(d){var p=this["@@propmod"];if(p.add!==void 0){var y=p.add;if(a(y))return s(s([],a(d)?d:[],!0),y).sort();if(typeof y=="number")return(Number(d)||0)+y;if(typeof y=="bigint")try{return BigInt(d)+y}catch{return BigInt(0)+y}throw new TypeError("Invalid term ".concat(y))}if(p.remove!==void 0){var v=p.remove;if(a(v))return a(d)?d.filter(function(S){return!v.includes(S)}).sort():[];if(typeof v=="number")return Number(d)-v;if(typeof v=="bigint")try{return BigInt(d)-v}catch{return BigInt(0)-v}throw new TypeError("Invalid subtrahend ".concat(v))}return y=(y=p.replacePrefix)===null||y===void 0?void 0:y[0],y&&typeof d=="string"&&d.startsWith(y)?p.replacePrefix[1]+d.substring(y.length):d},mg);function mg(d){this["@@propmod"]=d}var Ix=(re.prototype._read=function(d,p){var y=this._ctx;return y.error?y.table._trans(null,We.bind(null,y.error)):y.table._trans("readonly",d).then(p)},re.prototype._write=function(d){var p=this._ctx;return p.error?p.table._trans(null,We.bind(null,p.error)):p.table._trans("readwrite",d,"locked")},re.prototype._addAlgorithm=function(d){var p=this._ctx;p.algorithm=cr(p.algorithm,d)},re.prototype._iterate=function(d,p){return Yl(this._ctx,d,p,this._ctx.table.core)},re.prototype.clone=function(d){var p=Object.create(this.constructor.prototype),y=Object.create(this._ctx);return d&&l(y,d),p._ctx=y,p},re.prototype.raw=function(){return this._ctx.valueMapper=null,this},re.prototype.each=function(d){var p=this._ctx;return this._read(function(y){return Yl(p,d,y,p.table.core)})},re.prototype.count=function(d){var p=this;return this._read(function(y){var v=p._ctx,S=v.table.core;if(ro(v,!0))return S.count({trans:y,query:{index:Kl(v,S.schema),range:v.range}}).then(function(D){return Math.min(D,v.limit)});var C=0;return Yl(v,function(){return++C,!1},y,S).then(function(){return C})}).then(d)},re.prototype.sortBy=function(d,p){var y=d.split(".").reverse(),v=y[0],S=y.length-1;function C(z,$){return $?C(z[y[$]],$-1):z[v]}var D=this._ctx.dir==="next"?1:-1;function L(z,$){return ie(C(z,S),C($,S))*D}return this.toArray(function(z){return z.sort(L)}).then(p)},re.prototype.toArray=function(d){var p=this;return this._read(function(y){var v=p._ctx;if(v.dir==="next"&&ro(v,!0)&&0<v.limit){var S=v.valueMapper,C=Kl(v,v.table.core.schema);return v.table.core.query({trans:y,limit:v.limit,values:!0,query:{index:C,range:v.range}}).then(function(L){return L=L.result,S?L.map(S):L})}var D=[];return Yl(v,function(L){return D.push(L)},y,v.table.core).then(function(){return D})},d)},re.prototype.offset=function(d){var p=this._ctx;return d<=0||(p.offset+=d,ro(p)?Sh(p,function(){var y=d;return function(v,S){return y===0||(y===1?--y:S(function(){v.advance(y),y=0}),!1)}}):Sh(p,function(){var y=d;return function(){return--y<0}})),this},re.prototype.limit=function(d){return this._ctx.limit=Math.min(this._ctx.limit,d),Sh(this._ctx,function(){var p=d;return function(y,v,S){return--p<=0&&v(S),0<=p}},!0),this},re.prototype.until=function(d,p){return wh(this._ctx,function(y,v,S){return!d(y.value)||(v(S),p)}),this},re.prototype.first=function(d){return this.limit(1).toArray(function(p){return p[0]}).then(d)},re.prototype.last=function(d){return this.reverse().first(d)},re.prototype.filter=function(d){var p;return wh(this._ctx,function(y){return d(y.value)}),(p=this._ctx).isMatch=cr(p.isMatch,d),this},re.prototype.and=function(d){return this.filter(d)},re.prototype.or=function(d){return new this.db.WhereClause(this._ctx.table,d,this)},re.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},re.prototype.desc=function(){return this.reverse()},re.prototype.eachKey=function(d){var p=this._ctx;return p.keysOnly=!p.isMatch,this.each(function(y,v){d(v.key,v)})},re.prototype.eachUniqueKey=function(d){return this._ctx.unique="unique",this.eachKey(d)},re.prototype.eachPrimaryKey=function(d){var p=this._ctx;return p.keysOnly=!p.isMatch,this.each(function(y,v){d(v.primaryKey,v)})},re.prototype.keys=function(d){var p=this._ctx;p.keysOnly=!p.isMatch;var y=[];return this.each(function(v,S){y.push(S.key)}).then(function(){return y}).then(d)},re.prototype.primaryKeys=function(d){var p=this._ctx;if(p.dir==="next"&&ro(p,!0)&&0<p.limit)return this._read(function(v){var S=Kl(p,p.table.core.schema);return p.table.core.query({trans:v,values:!1,limit:p.limit,query:{index:S,range:p.range}})}).then(function(v){return v.result}).then(d);p.keysOnly=!p.isMatch;var y=[];return this.each(function(v,S){y.push(S.primaryKey)}).then(function(){return y}).then(d)},re.prototype.uniqueKeys=function(d){return this._ctx.unique="unique",this.keys(d)},re.prototype.firstKey=function(d){return this.limit(1).keys(function(p){return p[0]}).then(d)},re.prototype.lastKey=function(d){return this.reverse().firstKey(d)},re.prototype.distinct=function(){var d=this._ctx,d=d.index&&d.table.schema.idxByName[d.index];if(!d||!d.multi)return this;var p={};return wh(this._ctx,function(S){var v=S.primaryKey.toString(),S=h(p,v);return p[v]=!0,!S}),this},re.prototype.modify=function(d){var p=this,y=this._ctx;return this._write(function(v){var S,C,D;D=typeof d=="function"?d:(S=o(d),C=S.length,function(U){for(var tt=!1,et=0;et<C;++et){var it=S[et],ct=d[it],vt=k(U,it);ct instanceof ra?(P(U,it,ct.execute(vt)),tt=!0):vt!==ct&&(P(U,it,ct),tt=!0)}return tt});var L=y.table.core,B=L.schema.primaryKey,z=B.outbound,$=B.extractKey,Y=200,B=p.db._options.modifyChunkSize;B&&(Y=typeof B=="object"?B[L.name]||B["*"]||200:B);function X(U,it){var et=it.failures,it=it.numFailures;K+=U-it;for(var ct=0,vt=o(et);ct<vt.length;ct++){var Ct=vt[ct];q.push(et[Ct])}}var q=[],K=0,G=[];return p.clone().primaryKeys().then(function(U){function tt(it){var ct=Math.min(Y,U.length-it);return L.getMany({trans:v,keys:U.slice(it,it+ct),cache:"immutable"}).then(function(vt){for(var Ct=[],xt=[],St=z?[]:null,At=[],kt=0;kt<ct;++kt){var Nt=vt[kt],$t={value:Z(Nt),primKey:U[it+kt]};D.call($t,$t.value,$t)!==!1&&($t.value==null?At.push(U[it+kt]):z||ie($(Nt),$($t.value))===0?(xt.push($t.value),z&&St.push(U[it+kt])):(At.push(U[it+kt]),Ct.push($t.value)))}return Promise.resolve(0<Ct.length&&L.mutate({trans:v,type:"add",values:Ct}).then(function(Gt){for(var Xt in Gt.failures)At.splice(parseInt(Xt),1);X(Ct.length,Gt)})).then(function(){return(0<xt.length||et&&typeof d=="object")&&L.mutate({trans:v,type:"put",keys:St,values:xt,criteria:et,changeSpec:typeof d!="function"&&d,isAdditionalChunk:0<it}).then(function(Gt){return X(xt.length,Gt)})}).then(function(){return(0<At.length||et&&d===Th)&&L.mutate({trans:v,type:"delete",keys:At,criteria:et,isAdditionalChunk:0<it}).then(function(Gt){return X(At.length,Gt)})}).then(function(){return U.length>it+ct&&tt(it+Y)})})}var et=ro(y)&&y.limit===1/0&&(typeof d!="function"||d===Th)&&{index:y.index,range:y.range};return tt(0).then(function(){if(0<q.length)throw new _t("Error modifying one or more objects",q,K,G);return U.length})})})},re.prototype.delete=function(){var d=this._ctx,p=d.range;return ro(d)&&(d.isPrimKey||p.type===3)?this._write(function(y){var v=d.table.core.schema.primaryKey,S=p;return d.table.core.count({trans:y,query:{index:v,range:S}}).then(function(C){return d.table.core.mutate({trans:y,type:"deleteRange",range:S}).then(function(D){var L=D.failures;if(D.lastResult,D.results,D=D.numFailures,D)throw new _t("Could not delete some values",Object.keys(L).map(function(z){return L[z]}),C-D);return C-D})})}):this.modify(Th)},re);function re(){}var Th=function(d,p){return p.value=null};function Rx(d,p){return d<p?-1:d===p?0:1}function Nx(d,p){return p<d?-1:d===p?0:1}function Hn(d,p,y){return d=d instanceof yg?new d.Collection(d):d,d._ctx.error=new(y||TypeError)(p),d}function oo(d){return new d.Collection(d,function(){return _g("")}).limit(0)}function Gl(d,p,y,v){var S,C,D,L,z,$,Y,B=y.length;if(!y.every(function(K){return typeof K=="string"}))return Hn(d,lg);function X(K){S=K==="next"?function(U){return U.toUpperCase()}:function(U){return U.toLowerCase()},C=K==="next"?function(U){return U.toLowerCase()}:function(U){return U.toUpperCase()},D=K==="next"?Rx:Nx;var G=y.map(function(U){return{lower:C(U),upper:S(U)}}).sort(function(U,tt){return D(U.lower,tt.lower)});L=G.map(function(U){return U.upper}),z=G.map(function(U){return U.lower}),Y=($=K)==="next"?"":v}X("next"),d=new d.Collection(d,function(){return As(L[0],z[B-1]+v)}),d._ondirectionchange=function(K){X(K)};var q=0;return d._addAlgorithm(function(K,G,U){var tt=K.key;if(typeof tt!="string")return!1;var et=C(tt);if(p(et,z,q))return!0;for(var it=null,ct=q;ct<B;++ct){var vt=function(Ct,xt,St,At,kt,Nt){for(var $t=Math.min(Ct.length,At.length),Gt=-1,Xt=0;Xt<$t;++Xt){var Kn=xt[Xt];if(Kn!==At[Xt])return kt(Ct[Xt],St[Xt])<0?Ct.substr(0,Xt)+St[Xt]+St.substr(Xt+1):kt(Ct[Xt],At[Xt])<0?Ct.substr(0,Xt)+At[Xt]+St.substr(Xt+1):0<=Gt?Ct.substr(0,Gt)+xt[Gt]+St.substr(Gt+1):null;kt(Ct[Xt],Kn)<0&&(Gt=Xt)}return $t<At.length&&Nt==="next"?Ct+St.substr(Ct.length):$t<Ct.length&&Nt==="prev"?Ct.substr(0,St.length):Gt<0?null:Ct.substr(0,Gt)+At[Gt]+St.substr(Gt+1)}(tt,et,L[ct],z[ct],D,$);vt===null&&it===null?q=ct+1:(it===null||0<D(it,vt))&&(it=vt)}return G(it!==null?function(){K.continue(it+Y)}:U),!1}),d}function As(d,p,y,v){return{type:2,lower:d,upper:p,lowerOpen:y,upperOpen:v}}function _g(d){return{type:1,lower:d,upper:d}}var yg=(Object.defineProperty(sn.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),sn.prototype.between=function(d,p,y,v){y=y!==!1,v=v===!0;try{return 0<this._cmp(d,p)||this._cmp(d,p)===0&&(y||v)&&(!y||!v)?oo(this):new this.Collection(this,function(){return As(d,p,!y,!v)})}catch{return Hn(this,Yi)}},sn.prototype.equals=function(d){return d==null?Hn(this,Yi):new this.Collection(this,function(){return _g(d)})},sn.prototype.above=function(d){return d==null?Hn(this,Yi):new this.Collection(this,function(){return As(d,void 0,!0)})},sn.prototype.aboveOrEqual=function(d){return d==null?Hn(this,Yi):new this.Collection(this,function(){return As(d,void 0,!1)})},sn.prototype.below=function(d){return d==null?Hn(this,Yi):new this.Collection(this,function(){return As(void 0,d,!1,!0)})},sn.prototype.belowOrEqual=function(d){return d==null?Hn(this,Yi):new this.Collection(this,function(){return As(void 0,d)})},sn.prototype.startsWith=function(d){return typeof d!="string"?Hn(this,lg):this.between(d,d+lr,!0,!0)},sn.prototype.startsWithIgnoreCase=function(d){return d===""?this.startsWith(d):Gl(this,function(p,y){return p.indexOf(y[0])===0},[d],lr)},sn.prototype.equalsIgnoreCase=function(d){return Gl(this,function(p,y){return p===y[0]},[d],"")},sn.prototype.anyOfIgnoreCase=function(){var d=V.apply(mt,arguments);return d.length===0?oo(this):Gl(this,function(p,y){return y.indexOf(p)!==-1},d,"")},sn.prototype.startsWithAnyOfIgnoreCase=function(){var d=V.apply(mt,arguments);return d.length===0?oo(this):Gl(this,function(p,y){return y.some(function(v){return p.indexOf(v)===0})},d,lr)},sn.prototype.anyOf=function(){var d=this,p=V.apply(mt,arguments),y=this._cmp;try{p.sort(y)}catch{return Hn(this,Yi)}if(p.length===0)return oo(this);var v=new this.Collection(this,function(){return As(p[0],p[p.length-1])});v._ondirectionchange=function(C){y=C==="next"?d._ascending:d._descending,p.sort(y)};var S=0;return v._addAlgorithm(function(C,D,L){for(var z=C.key;0<y(z,p[S]);)if(++S===p.length)return D(L),!1;return y(z,p[S])===0||(D(function(){C.continue(p[S])}),!1)}),v},sn.prototype.notEqual=function(d){return this.inAnyRange([[-1/0,d],[d,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},sn.prototype.noneOf=function(){var d=V.apply(mt,arguments);if(d.length===0)return new this.Collection(this);try{d.sort(this._ascending)}catch{return Hn(this,Yi)}var p=d.reduce(function(y,v){return y?y.concat([[y[y.length-1][1],v]]):[[-1/0,v]]},null);return p.push([d[d.length-1],this.db._maxKey]),this.inAnyRange(p,{includeLowers:!1,includeUppers:!1})},sn.prototype.inAnyRange=function(tt,p){var y=this,v=this._cmp,S=this._ascending,C=this._descending,D=this._min,L=this._max;if(tt.length===0)return oo(this);if(!tt.every(function(et){return et[0]!==void 0&&et[1]!==void 0&&S(et[0],et[1])<=0}))return Hn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",bt.InvalidArgument);var z=!p||p.includeLowers!==!1,$=p&&p.includeUppers===!0,Y,B=S;function X(et,it){return B(et[0],it[0])}try{(Y=tt.reduce(function(et,it){for(var ct=0,vt=et.length;ct<vt;++ct){var Ct=et[ct];if(v(it[0],Ct[1])<0&&0<v(it[1],Ct[0])){Ct[0]=D(Ct[0],it[0]),Ct[1]=L(Ct[1],it[1]);break}}return ct===vt&&et.push(it),et},[])).sort(X)}catch{return Hn(this,Yi)}var q=0,K=$?function(et){return 0<S(et,Y[q][1])}:function(et){return 0<=S(et,Y[q][1])},G=z?function(et){return 0<C(et,Y[q][0])}:function(et){return 0<=C(et,Y[q][0])},U=K,tt=new this.Collection(this,function(){return As(Y[0][0],Y[Y.length-1][1],!z,!$)});return tt._ondirectionchange=function(et){B=et==="next"?(U=K,S):(U=G,C),Y.sort(X)},tt._addAlgorithm(function(et,it,ct){for(var vt,Ct=et.key;U(Ct);)if(++q===Y.length)return it(ct),!1;return!K(vt=Ct)&&!G(vt)||(y._cmp(Ct,Y[q][1])===0||y._cmp(Ct,Y[q][0])===0||it(function(){B===S?et.continue(Y[q][0]):et.continue(Y[q][1])}),!1)}),tt},sn.prototype.startsWithAnyOf=function(){var d=V.apply(mt,arguments);return d.every(function(p){return typeof p=="string"})?d.length===0?oo(this):this.inAnyRange(d.map(function(p){return[p,p+lr]})):Hn(this,"startsWithAnyOf() only works with strings")},sn);function sn(){}function Oi(d){return ke(function(p){return oa(p),d(p.target.error),!1})}function oa(d){d.stopPropagation&&d.stopPropagation(),d.preventDefault&&d.preventDefault()}var aa="storagemutated",kh="x-storagemutated-1",Os=ia(null,aa),Fx=(Pi.prototype._lock=function(){return M(!It.global),++this._reculock,this._reculock!==1||It.global||(It.lockOwnerFor=this),this},Pi.prototype._unlock=function(){if(M(!It.global),--this._reculock==0)for(It.global||(It.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var d=this._blockedFuncs.shift();try{ar(d[1],d[0])}catch{}}return this},Pi.prototype._locked=function(){return this._reculock&&It.lockOwnerFor!==this},Pi.prototype.create=function(d){var p=this;if(!this.mode)return this;var y=this.db.idbdb,v=this.db._state.dbOpenError;if(M(!this.idbtrans),!d&&!y)switch(v&&v.name){case"DatabaseClosedError":throw new bt.DatabaseClosed(v);case"MissingAPIError":throw new bt.MissingAPI(v.message,v);default:throw new bt.OpenFailed(v)}if(!this.active)throw new bt.TransactionInactive;return M(this._completion._state===null),(d=this.idbtrans=d||(this.db.core||y).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=ke(function(S){oa(S),p._reject(d.error)}),d.onabort=ke(function(S){oa(S),p.active&&p._reject(new bt.Abort(d.error)),p.active=!1,p.on("abort").fire(S)}),d.oncomplete=ke(function(){p.active=!1,p._resolve(),"mutatedParts"in d&&Os.storagemutated.fire(d.mutatedParts)}),this},Pi.prototype._promise=function(d,p,y){var v=this;if(d==="readwrite"&&this.mode!=="readwrite")return We(new bt.ReadOnly("Transaction is readonly"));if(!this.active)return We(new bt.TransactionInactive);if(this._locked())return new Dt(function(C,D){v._blockedFuncs.push([function(){v._promise(d,p,y).then(C,D)},It])});if(y)return ks(function(){var C=new Dt(function(D,L){v._lock();var z=p(D,L,v);z&&z.then&&z.then(D,L)});return C.finally(function(){return v._unlock()}),C._lib=!0,C});var S=new Dt(function(C,D){var L=p(C,D,v);L&&L.then&&L.then(C,D)});return S._lib=!0,S},Pi.prototype._root=function(){return this.parent?this.parent._root():this},Pi.prototype.waitFor=function(d){var p,y=this._root(),v=Dt.resolve(d);y._waitingFor?y._waitingFor=y._waitingFor.then(function(){return v}):(y._waitingFor=v,y._waitingQueue=[],p=y.idbtrans.objectStore(y.storeNames[0]),function C(){for(++y._spinCount;y._waitingQueue.length;)y._waitingQueue.shift()();y._waitingFor&&(p.get(-1/0).onsuccess=C)}());var S=y._waitingFor;return new Dt(function(C,D){v.then(function(L){return y._waitingQueue.push(ke(C.bind(null,L)))},function(L){return y._waitingQueue.push(ke(D.bind(null,L)))}).finally(function(){y._waitingFor===S&&(y._waitingFor=null)})})},Pi.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new bt.Abort))},Pi.prototype.table=function(d){var p=this._memoizedTables||(this._memoizedTables={});if(h(p,d))return p[d];var y=this.schema[d];if(!y)throw new bt.NotFound("Table "+d+" not part of transaction");return y=new this.db.Table(d,y,this),y.core=this.db.core.table(d),p[d]=y},Pi);function Pi(){}function Ch(d,p,y,v,S,C,D){return{name:d,keyPath:p,unique:y,multi:v,auto:S,compound:C,src:(y&&!D?"&":"")+(v?"*":"")+(S?"++":"")+bg(p)}}function bg(d){return typeof d=="string"?d:d?"["+[].join.call(d,"+")+"]":""}function Mh(d,p,y){return{name:d,primKey:p,indexes:y,mappedClass:null,idxByName:(v=function(S){return[S.name,S]},y.reduce(function(S,C,D){return D=v(C,D),D&&(S[D[0]]=D[1]),S},{}))};var v}var la=function(d){try{return d.only([[]]),la=function(){return[[]]},[[]]}catch{return la=function(){return lr},lr}};function Ah(d){return d==null?function(){}:typeof d=="string"?(p=d).split(".").length===1?function(y){return y[p]}:function(y){return k(y,p)}:function(y){return k(y,d)};var p}function vg(d){return[].slice.call(d)}var Lx=0;function ca(d){return d==null?":id":typeof d=="string"?d:"[".concat(d.join("+"),"]")}function Vx(d,p,z){function v(U){if(U.type===3)return null;if(U.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var q=U.lower,K=U.upper,G=U.lowerOpen,U=U.upperOpen;return q===void 0?K===void 0?null:p.upperBound(K,!!U):K===void 0?p.lowerBound(q,!!G):p.bound(q,K,!!G,!!U)}function S(X){var q,K=X.name;return{name:K,schema:X,mutate:function(G){var U=G.trans,tt=G.type,et=G.keys,it=G.values,ct=G.range;return new Promise(function(vt,Ct){vt=ke(vt);var xt=U.objectStore(K),St=xt.keyPath==null,At=tt==="put"||tt==="add";if(!At&&tt!=="delete"&&tt!=="deleteRange")throw new Error("Invalid operation type: "+tt);var kt,Nt=(et||it||{length:1}).length;if(et&&it&&et.length!==it.length)throw new Error("Given keys array must have same length as given values array.");if(Nt===0)return vt({numFailures:0,failures:{},results:[],lastResult:void 0});function $t(Cn){++Kn,oa(Cn)}var Gt=[],Xt=[],Kn=0;if(tt==="deleteRange"){if(ct.type===4)return vt({numFailures:Kn,failures:Xt,results:[],lastResult:void 0});ct.type===3?Gt.push(kt=xt.clear()):Gt.push(kt=xt.delete(v(ct)))}else{var St=At?St?[it,et]:[it,null]:[et,null],zt=St[0],pn=St[1];if(At)for(var gn=0;gn<Nt;++gn)Gt.push(kt=pn&&pn[gn]!==void 0?xt[tt](zt[gn],pn[gn]):xt[tt](zt[gn])),kt.onerror=$t;else for(gn=0;gn<Nt;++gn)Gt.push(kt=xt[tt](zt[gn])),kt.onerror=$t}function lc(Cn){Cn=Cn.target.result,Gt.forEach(function(dr,Hh){return dr.error!=null&&(Xt[Hh]=dr.error)}),vt({numFailures:Kn,failures:Xt,results:tt==="delete"?et:Gt.map(function(dr){return dr.result}),lastResult:Cn})}kt.onerror=function(Cn){$t(Cn),lc(Cn)},kt.onsuccess=lc})},getMany:function(G){var U=G.trans,tt=G.keys;return new Promise(function(et,it){et=ke(et);for(var ct,vt=U.objectStore(K),Ct=tt.length,xt=new Array(Ct),St=0,At=0,kt=function(Gt){Gt=Gt.target,xt[Gt._pos]=Gt.result,++At===St&&et(xt)},Nt=Oi(it),$t=0;$t<Ct;++$t)tt[$t]!=null&&((ct=vt.get(tt[$t]))._pos=$t,ct.onsuccess=kt,ct.onerror=Nt,++St);St===0&&et(xt)})},get:function(G){var U=G.trans,tt=G.key;return new Promise(function(et,it){et=ke(et);var ct=U.objectStore(K).get(tt);ct.onsuccess=function(vt){return et(vt.target.result)},ct.onerror=Oi(it)})},query:(q=$,function(G){return new Promise(function(U,tt){U=ke(U);var et,it,ct,St=G.trans,vt=G.values,Ct=G.limit,kt=G.query,xt=Ct===1/0?void 0:Ct,At=kt.index,kt=kt.range,St=St.objectStore(K),At=At.isPrimaryKey?St:St.index(At.name),kt=v(kt);if(Ct===0)return U({result:[]});q?((xt=vt?At.getAll(kt,xt):At.getAllKeys(kt,xt)).onsuccess=function(Nt){return U({result:Nt.target.result})},xt.onerror=Oi(tt)):(et=0,it=!vt&&"openKeyCursor"in At?At.openKeyCursor(kt):At.openCursor(kt),ct=[],it.onsuccess=function(Nt){var $t=it.result;return $t?(ct.push(vt?$t.value:$t.primaryKey),++et===Ct?U({result:ct}):void $t.continue()):U({result:ct})},it.onerror=Oi(tt))})}),openCursor:function(G){var U=G.trans,tt=G.values,et=G.query,it=G.reverse,ct=G.unique;return new Promise(function(vt,Ct){vt=ke(vt);var At=et.index,xt=et.range,St=U.objectStore(K),St=At.isPrimaryKey?St:St.index(At.name),At=it?ct?"prevunique":"prev":ct?"nextunique":"next",kt=!tt&&"openKeyCursor"in St?St.openKeyCursor(v(xt),At):St.openCursor(v(xt),At);kt.onerror=Oi(Ct),kt.onsuccess=ke(function(Nt){var $t,Gt,Xt,Kn,zt=kt.result;zt?(zt.___id=++Lx,zt.done=!1,$t=zt.continue.bind(zt),Gt=(Gt=zt.continuePrimaryKey)&&Gt.bind(zt),Xt=zt.advance.bind(zt),Kn=function(){throw new Error("Cursor not stopped")},zt.trans=U,zt.stop=zt.continue=zt.continuePrimaryKey=zt.advance=function(){throw new Error("Cursor not started")},zt.fail=ke(Ct),zt.next=function(){var pn=this,gn=1;return this.start(function(){return gn--?pn.continue():pn.stop()}).then(function(){return pn})},zt.start=function(pn){function gn(){if(kt.result)try{pn()}catch(Cn){zt.fail(Cn)}else zt.done=!0,zt.start=function(){throw new Error("Cursor behind last entry")},zt.stop()}var lc=new Promise(function(Cn,dr){Cn=ke(Cn),kt.onerror=Oi(dr),zt.fail=dr,zt.stop=function(Hh){zt.stop=zt.continue=zt.continuePrimaryKey=zt.advance=Kn,Cn(Hh)}});return kt.onsuccess=ke(function(Cn){kt.onsuccess=gn,gn()}),zt.continue=$t,zt.continuePrimaryKey=Gt,zt.advance=Xt,gn(),lc},vt(zt)):vt(null)},Ct)})},count:function(G){var U=G.query,tt=G.trans,et=U.index,it=U.range;return new Promise(function(ct,vt){var Ct=tt.objectStore(K),xt=et.isPrimaryKey?Ct:Ct.index(et.name),Ct=v(it),xt=Ct?xt.count(Ct):xt.count();xt.onsuccess=ke(function(St){return ct(St.target.result)}),xt.onerror=Oi(vt)})}}}var C,D,L,Y=(D=z,L=vg((C=d).objectStoreNames),{schema:{name:C.name,tables:L.map(function(X){return D.objectStore(X)}).map(function(X){var q=X.keyPath,U=X.autoIncrement,K=a(q),G={},U={name:X.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:q==null,compound:K,keyPath:q,autoIncrement:U,unique:!0,extractKey:Ah(q)},indexes:vg(X.indexNames).map(function(tt){return X.index(tt)}).map(function(ct){var et=ct.name,it=ct.unique,vt=ct.multiEntry,ct=ct.keyPath,vt={name:et,compound:a(ct),keyPath:ct,unique:it,multiEntry:vt,extractKey:Ah(ct)};return G[ca(ct)]=vt}),getIndexByKeyPath:function(tt){return G[ca(tt)]}};return G[":id"]=U.primaryKey,q!=null&&(G[ca(q)]=U.primaryKey),U})},hasGetAll:0<L.length&&"getAll"in D.objectStore(L[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),z=Y.schema,$=Y.hasGetAll,Y=z.tables.map(S),B={};return Y.forEach(function(X){return B[X.name]=X}),{stack:"dbcore",transaction:d.transaction.bind(d),table:function(X){if(!B[X])throw new Error("Table '".concat(X,"' not found"));return B[X]},MIN_KEY:-1/0,MAX_KEY:la(p),schema:z}}function Bx(d,p,y,v){var S=y.IDBKeyRange;return y.indexedDB,{dbcore:(v=Vx(p,S,v),d.dbcore.reduce(function(C,D){return D=D.create,i(i({},C),D(C))},v))}}function Xl(d,v){var y=v.db,v=Bx(d._middlewares,y,d._deps,v);d.core=v.dbcore,d.tables.forEach(function(S){var C=S.name;d.core.schema.tables.some(function(D){return D.name===C})&&(S.core=d.core.table(C),d[C]instanceof d.Table&&(d[C].core=S.core))})}function Zl(d,p,y,v){y.forEach(function(S){var C=v[S];p.forEach(function(D){var L=function z($,Y){return b($,Y)||($=c($))&&z($,Y)}(D,S);(!L||"value"in L&&L.value===void 0)&&(D===d.Transaction.prototype||D instanceof d.Transaction?_(D,S,{get:function(){return this.table(S)},set:function(z){g(this,S,{value:z,writable:!0,configurable:!0,enumerable:!0})}}):D[S]=new d.Table(S,C))})})}function Oh(d,p){p.forEach(function(y){for(var v in y)y[v]instanceof d.Table&&delete y[v]})}function Wx(d,p){return d._cfg.version-p._cfg.version}function jx(d,p,y,v){var S=d._dbSchema;y.objectStoreNames.contains("$meta")&&!S.$meta&&(S.$meta=Mh("$meta",wg("")[0],[]),d._storeNames.push("$meta"));var C=d._createTransaction("readwrite",d._storeNames,S);C.create(y),C._completion.catch(v);var D=C._reject.bind(C),L=It.transless||It;ks(function(){return It.trans=C,It.transless=L,p!==0?(Xl(d,y),$=p,((z=C).storeNames.includes("$meta")?z.table("$meta").get("version").then(function(Y){return Y??$}):Dt.resolve($)).then(function(Y){return X=Y,q=C,K=y,G=[],Y=(B=d)._versions,U=B._dbSchema=Jl(0,B.idbdb,K),(Y=Y.filter(function(tt){return tt._cfg.version>=X})).length!==0?(Y.forEach(function(tt){G.push(function(){var et=U,it=tt._cfg.dbschema;tc(B,et,K),tc(B,it,K),U=B._dbSchema=it;var ct=Ph(et,it);ct.add.forEach(function(At){Dh(K,At[0],At[1].primKey,At[1].indexes)}),ct.change.forEach(function(At){if(At.recreate)throw new bt.Upgrade("Not yet support for changing primary key");var kt=K.objectStore(At.name);At.add.forEach(function(Nt){return Ql(kt,Nt)}),At.change.forEach(function(Nt){kt.deleteIndex(Nt.name),Ql(kt,Nt)}),At.del.forEach(function(Nt){return kt.deleteIndex(Nt)})});var vt=tt._cfg.contentUpgrade;if(vt&&tt._cfg.version>X){Xl(B,K),q._memoizedTables={};var Ct=A(it);ct.del.forEach(function(At){Ct[At]=et[At]}),Oh(B,[B.Transaction.prototype]),Zl(B,[B.Transaction.prototype],o(Ct),Ct),q.schema=Ct;var xt,St=F(vt);return St&&io(),ct=Dt.follow(function(){var At;(xt=vt(q))&&St&&(At=Cs.bind(null,null),xt.then(At,At))}),xt&&typeof xt.then=="function"?Dt.resolve(xt):ct.then(function(){return xt})}}),G.push(function(et){var it,ct,vt=tt._cfg.dbschema;it=vt,ct=et,[].slice.call(ct.db.objectStoreNames).forEach(function(Ct){return it[Ct]==null&&ct.db.deleteObjectStore(Ct)}),Oh(B,[B.Transaction.prototype]),Zl(B,[B.Transaction.prototype],B._storeNames,B._dbSchema),q.schema=B._dbSchema}),G.push(function(et){B.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(B.idbdb.version/10)===tt._cfg.version?(B.idbdb.deleteObjectStore("$meta"),delete B._dbSchema.$meta,B._storeNames=B._storeNames.filter(function(it){return it!=="$meta"})):et.objectStore("$meta").put(tt._cfg.version,"version"))})}),function tt(){return G.length?Dt.resolve(G.shift()(q.idbtrans)).then(tt):Dt.resolve()}().then(function(){xg(U,K)})):Dt.resolve();var B,X,q,K,G,U}).catch(D)):(o(S).forEach(function(Y){Dh(y,Y,S[Y].primKey,S[Y].indexes)}),Xl(d,y),void Dt.follow(function(){return d.on.populate.fire(C)}).catch(D));var z,$})}function zx(d,p){xg(d._dbSchema,p),p.db.version%10!=0||p.objectStoreNames.contains("$meta")||p.db.createObjectStore("$meta").add(Math.ceil(p.db.version/10-1),"version");var y=Jl(0,d.idbdb,p);tc(d,d._dbSchema,p);for(var v=0,S=Ph(y,d._dbSchema).change;v<S.length;v++){var C=function(D){if(D.change.length||D.recreate)return console.warn("Unable to patch indexes of table ".concat(D.name," because it has changes on the type of index or primary key.")),{value:void 0};var L=p.objectStore(D.name);D.add.forEach(function(z){dt&&console.debug("Dexie upgrade patch: Creating missing index ".concat(D.name,".").concat(z.src)),Ql(L,z)})}(S[v]);if(typeof C=="object")return C.value}}function Ph(d,p){var y,v={del:[],add:[],change:[]};for(y in d)p[y]||v.del.push(y);for(y in p){var S=d[y],C=p[y];if(S){var D={name:y,def:C,recreate:!1,del:[],add:[],change:[]};if(""+(S.primKey.keyPath||"")!=""+(C.primKey.keyPath||"")||S.primKey.auto!==C.primKey.auto)D.recreate=!0,v.change.push(D);else{var L=S.idxByName,z=C.idxByName,$=void 0;for($ in L)z[$]||D.del.push($);for($ in z){var Y=L[$],B=z[$];Y?Y.src!==B.src&&D.change.push(B):D.add.push(B)}(0<D.del.length||0<D.add.length||0<D.change.length)&&v.change.push(D)}}else v.add.push([y,C])}return v}function Dh(d,p,y,v){var S=d.db.createObjectStore(p,y.keyPath?{keyPath:y.keyPath,autoIncrement:y.auto}:{autoIncrement:y.auto});return v.forEach(function(C){return Ql(S,C)}),S}function xg(d,p){o(d).forEach(function(y){p.db.objectStoreNames.contains(y)||(dt&&console.debug("Dexie: Creating missing table",y),Dh(p,y,d[y].primKey,d[y].indexes))})}function Ql(d,p){d.createIndex(p.name,p.keyPath,{unique:p.unique,multiEntry:p.multi})}function Jl(d,p,y){var v={};return T(p.objectStoreNames,0).forEach(function(S){for(var C=y.objectStore(S),D=Ch(bg($=C.keyPath),$||"",!0,!1,!!C.autoIncrement,$&&typeof $!="string",!0),L=[],z=0;z<C.indexNames.length;++z){var Y=C.index(C.indexNames[z]),$=Y.keyPath,Y=Ch(Y.name,$,!!Y.unique,!!Y.multiEntry,!1,$&&typeof $!="string",!1);L.push(Y)}v[S]=Mh(S,D,L)}),v}function tc(d,p,y){for(var v=y.db.objectStoreNames,S=0;S<v.length;++S){var C=v[S],D=y.objectStore(C);d._hasGetAll="getAll"in D;for(var L=0;L<D.indexNames.length;++L){var z=D.indexNames[L],$=D.index(z).keyPath,Y=typeof $=="string"?$:"["+T($).join("+")+"]";!p[C]||($=p[C].idxByName[Y])&&($.name=z,delete p[C].idxByName[Y],p[C].idxByName[z]=$)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&r.WorkerGlobalScope&&r instanceof r.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(d._hasGetAll=!1)}function wg(d){return d.split(",").map(function(p,y){var v=(p=p.trim()).replace(/([&*]|\+\+)/g,""),S=/^\[/.test(v)?v.match(/^\[(.*)\]$/)[1].split("+"):v;return Ch(v,S||null,/\&/.test(p),/\*/.test(p),/\+\+/.test(p),a(S),y===0)})}var qx=(ec.prototype._parseStoresSpec=function(d,p){o(d).forEach(function(y){if(d[y]!==null){var v=wg(d[y]),S=v.shift();if(S.unique=!0,S.multi)throw new bt.Schema("Primary key cannot be multi-valued");v.forEach(function(C){if(C.auto)throw new bt.Schema("Only primary key can be marked as autoIncrement (++)");if(!C.keyPath)throw new bt.Schema("Index must have a name and cannot be an empty string")}),p[y]=Mh(y,S,v)}})},ec.prototype.stores=function(y){var p=this.db;this._cfg.storesSource=this._cfg.storesSource?l(this._cfg.storesSource,y):y;var y=p._versions,v={},S={};return y.forEach(function(C){l(v,C._cfg.storesSource),S=C._cfg.dbschema={},C._parseStoresSpec(v,S)}),p._dbSchema=S,Oh(p,[p._allTables,p,p.Transaction.prototype]),Zl(p,[p._allTables,p,p.Transaction.prototype,this._cfg.tables],o(S),S),p._storeNames=o(S),this},ec.prototype.upgrade=function(d){return this._cfg.contentUpgrade=ht(this._cfg.contentUpgrade||E,d),this},ec);function ec(){}function Eh(d,p){var y=d._dbNamesDB;return y||(y=d._dbNamesDB=new Gi(Ul,{addons:[],indexedDB:d,IDBKeyRange:p})).version(1).stores({dbnames:"name"}),y.table("dbnames")}function Ih(d){return d&&typeof d.databases=="function"}function Rh(d){return ks(function(){return It.letThrough=!0,d()})}function Nh(d){return!("from"in d)}var fn=function(d,p){if(!this){var y=new fn;return d&&"d"in d&&l(y,d),y}l(this,arguments.length?{d:1,from:d,to:1<arguments.length?p:d}:{d:0})};function ua(d,p,y){var v=ie(p,y);if(!isNaN(v)){if(0<v)throw RangeError();if(Nh(d))return l(d,{from:p,to:y,d:1});var S=d.l,v=d.r;if(ie(y,d.from)<0)return S?ua(S,p,y):d.l={from:p,to:y,d:1,l:null,r:null},Tg(d);if(0<ie(p,d.to))return v?ua(v,p,y):d.r={from:p,to:y,d:1,l:null,r:null},Tg(d);ie(p,d.from)<0&&(d.from=p,d.l=null,d.d=v?v.d+1:1),0<ie(y,d.to)&&(d.to=y,d.r=null,d.d=d.l?d.l.d+1:1),y=!d.r,S&&!d.l&&ha(d,S),v&&y&&ha(d,v)}}function ha(d,p){Nh(p)||function y(v,z){var C=z.from,D=z.to,L=z.l,z=z.r;ua(v,C,D),L&&y(v,L),z&&y(v,z)}(d,p)}function Sg(d,p){var y=nc(p),v=y.next();if(v.done)return!1;for(var S=v.value,C=nc(d),D=C.next(S.from),L=D.value;!v.done&&!D.done;){if(ie(L.from,S.to)<=0&&0<=ie(L.to,S.from))return!0;ie(S.from,L.from)<0?S=(v=y.next(L.from)).value:L=(D=C.next(S.from)).value}return!1}function nc(d){var p=Nh(d)?null:{s:0,n:d};return{next:function(y){for(var v=0<arguments.length;p;)switch(p.s){case 0:if(p.s=1,v)for(;p.n.l&&ie(y,p.n.from)<0;)p={up:p,n:p.n.l,s:1};else for(;p.n.l;)p={up:p,n:p.n.l,s:1};case 1:if(p.s=2,!v||ie(y,p.n.to)<=0)return{value:p.n,done:!1};case 2:if(p.n.r){p.s=3,p={up:p,n:p.n.r,s:0};continue}case 3:p=p.up}return{done:!0}}}}function Tg(d){var p,y,v=(((p=d.r)===null||p===void 0?void 0:p.d)||0)-(((y=d.l)===null||y===void 0?void 0:y.d)||0),S=1<v?"r":v<-1?"l":"";S&&(p=S=="r"?"l":"r",y=i({},d),v=d[S],d.from=v.from,d.to=v.to,d[S]=v[S],y[S]=v[p],(d[p]=y).d=kg(y)),d.d=kg(d)}function kg(y){var p=y.r,y=y.l;return(p?y?Math.max(p.d,y.d):p.d:y?y.d:0)+1}function ic(d,p){return o(p).forEach(function(y){d[y]?ha(d[y],p[y]):d[y]=function v(S){var C,D,L={};for(C in S)h(S,C)&&(D=S[C],L[C]=!D||typeof D!="object"||R.has(D.constructor)?D:v(D));return L}(p[y])}),d}function Fh(d,p){return d.all||p.all||Object.keys(d).some(function(y){return p[y]&&Sg(p[y],d[y])})}f(fn.prototype,((oi={add:function(d){return ha(this,d),this},addKey:function(d){return ua(this,d,d),this},addKeys:function(d){var p=this;return d.forEach(function(y){return ua(p,y,y)}),this},hasKey:function(d){var p=nc(this).next(d).value;return p&&ie(p.from,d)<=0&&0<=ie(p.to,d)}})[nt]=function(){return nc(this)},oi));var ur={},Lh={},Vh=!1;function sc(d){ic(Lh,d),Vh||(Vh=!0,setTimeout(function(){Vh=!1,Bh(Lh,!(Lh={}))},0))}function Bh(d,p){p===void 0&&(p=!1);var y=new Set;if(d.all)for(var v=0,S=Object.values(ur);v<S.length;v++)Cg(D=S[v],d,y,p);else for(var C in d){var D,L=/^idb\:\/\/(.*)\/(.*)\//.exec(C);L&&(C=L[1],L=L[2],(D=ur["idb://".concat(C,"/").concat(L)])&&Cg(D,d,y,p))}y.forEach(function(z){return z()})}function Cg(d,p,y,v){for(var S=[],C=0,D=Object.entries(d.queries.query);C<D.length;C++){for(var L=D[C],z=L[0],$=[],Y=0,B=L[1];Y<B.length;Y++){var X=B[Y];Fh(p,X.obsSet)?X.subscribers.forEach(function(U){return y.add(U)}):v&&$.push(X)}v&&S.push([z,$])}if(v)for(var q=0,K=S;q<K.length;q++){var G=K[q],z=G[0],$=G[1];d.queries.query[z]=$}}function $x(d){var p=d._state,y=d._deps.indexedDB;if(p.isBeingOpened||d.idbdb)return p.dbReadyPromise.then(function(){return p.dbOpenError?We(p.dbOpenError):d});p.isBeingOpened=!0,p.dbOpenError=null,p.openComplete=!1;var v=p.openCanceller,S=Math.round(10*d.verno),C=!1;function D(){if(p.openCanceller!==v)throw new bt.DatabaseClosed("db.open() was cancelled")}function L(){return new Dt(function(X,q){if(D(),!y)throw new bt.MissingAPI;var K=d.name,G=p.autoSchema||!S?y.open(K):y.open(K,S);if(!G)throw new bt.MissingAPI;G.onerror=Oi(q),G.onblocked=ke(d._fireOnBlocked),G.onupgradeneeded=ke(function(U){var tt;Y=G.transaction,p.autoSchema&&!d._options.allowEmptyDB?(G.onerror=oa,Y.abort(),G.result.close(),(tt=y.deleteDatabase(K)).onsuccess=tt.onerror=ke(function(){q(new bt.NoSuchDatabase("Database ".concat(K," doesnt exist")))})):(Y.onerror=Oi(q),U=U.oldVersion>Math.pow(2,62)?0:U.oldVersion,B=U<1,d.idbdb=G.result,C&&zx(d,Y),jx(d,U/10,Y,q))},q),G.onsuccess=ke(function(){Y=null;var U,tt,et,it,ct,vt=d.idbdb=G.result,Ct=T(vt.objectStoreNames);if(0<Ct.length)try{var xt=vt.transaction((it=Ct).length===1?it[0]:it,"readonly");if(p.autoSchema)tt=vt,et=xt,(U=d).verno=tt.version/10,et=U._dbSchema=Jl(0,tt,et),U._storeNames=T(tt.objectStoreNames,0),Zl(U,[U._allTables],o(et),et);else if(tc(d,d._dbSchema,xt),((ct=Ph(Jl(0,(ct=d).idbdb,xt),ct._dbSchema)).add.length||ct.change.some(function(St){return St.add.length||St.change.length}))&&!C)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),vt.close(),S=vt.version+1,C=!0,X(L());Xl(d,xt)}catch{}so.push(d),vt.onversionchange=ke(function(St){p.vcFired=!0,d.on("versionchange").fire(St)}),vt.onclose=ke(function(St){d.on("close").fire(St)}),B&&(ct=d._deps,xt=K,vt=ct.indexedDB,ct=ct.IDBKeyRange,Ih(vt)||xt===Ul||Eh(vt,ct).put({name:xt}).catch(E)),X()},q)}).catch(function(X){switch(X?.name){case"UnknownError":if(0<p.PR1398_maxLoop)return p.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),L();break;case"VersionError":if(0<S)return S=0,L()}return Dt.reject(X)})}var z,$=p.dbReadyResolve,Y=null,B=!1;return Dt.race([v,(typeof navigator>"u"?Dt.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(X){function q(){return indexedDB.databases().finally(X)}z=setInterval(q,100),q()}).finally(function(){return clearInterval(z)}):Promise.resolve()).then(L)]).then(function(){return D(),p.onReadyBeingFired=[],Dt.resolve(Rh(function(){return d.on.ready.fire(d.vip)})).then(function X(){if(0<p.onReadyBeingFired.length){var q=p.onReadyBeingFired.reduce(ht,E);return p.onReadyBeingFired=[],Dt.resolve(Rh(function(){return q(d.vip)})).then(X)}})}).finally(function(){p.openCanceller===v&&(p.onReadyBeingFired=null,p.isBeingOpened=!1)}).catch(function(X){p.dbOpenError=X;try{Y&&Y.abort()}catch{}return v===p.openCanceller&&d._close(),We(X)}).finally(function(){p.openComplete=!0,$()}).then(function(){var X;return B&&(X={},d.tables.forEach(function(q){q.schema.indexes.forEach(function(K){K.name&&(X["idb://".concat(d.name,"/").concat(q.name,"/").concat(K.name)]=new fn(-1/0,[[[]]]))}),X["idb://".concat(d.name,"/").concat(q.name,"/")]=X["idb://".concat(d.name,"/").concat(q.name,"/:dels")]=new fn(-1/0,[[[]]])}),Os(aa).fire(X),Bh(X,!0)),d})}function Wh(d){function p(C){return d.next(C)}var y=S(p),v=S(function(C){return d.throw(C)});function S(C){return function(z){var L=C(z),z=L.value;return L.done?z:z&&typeof z.then=="function"?z.then(y,v):a(z)?Promise.all(z).then(y,v):y(z)}}return S(p)()}function rc(d,p,y){for(var v=a(d)?d.slice():[d],S=0;S<y;++S)v.push(p);return v}var Ux={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(d){return i(i({},d),{table:function(p){var y=d.table(p),v=y.schema,S={},C=[];function D(B,X,q){var K=ca(B),G=S[K]=S[K]||[],U=B==null?0:typeof B=="string"?1:B.length,tt=0<X,tt=i(i({},q),{name:tt?"".concat(K,"(virtual-from:").concat(q.name,")"):q.name,lowLevelIndex:q,isVirtual:tt,keyTail:X,keyLength:U,extractKey:Ah(B),unique:!tt&&q.unique});return G.push(tt),tt.isPrimaryKey||C.push(tt),1<U&&D(U===2?B[0]:B.slice(0,U-1),X+1,q),G.sort(function(et,it){return et.keyTail-it.keyTail}),tt}p=D(v.primaryKey.keyPath,0,v.primaryKey),S[":id"]=[p];for(var L=0,z=v.indexes;L<z.length;L++){var $=z[L];D($.keyPath,0,$)}function Y(B){var X,q=B.query.index;return q.isVirtual?i(i({},B),{query:{index:q.lowLevelIndex,range:(X=B.query.range,q=q.keyTail,{type:X.type===1?2:X.type,lower:rc(X.lower,X.lowerOpen?d.MAX_KEY:d.MIN_KEY,q),lowerOpen:!0,upper:rc(X.upper,X.upperOpen?d.MIN_KEY:d.MAX_KEY,q),upperOpen:!0})}}):B}return i(i({},y),{schema:i(i({},v),{primaryKey:p,indexes:C,getIndexByKeyPath:function(B){return(B=S[ca(B)])&&B[0]}}),count:function(B){return y.count(Y(B))},query:function(B){return y.query(Y(B))},openCursor:function(B){var X=B.query.index,q=X.keyTail,K=X.isVirtual,G=X.keyLength;return K?y.openCursor(Y(B)).then(function(tt){return tt&&U(tt)}):y.openCursor(B);function U(tt){return Object.create(tt,{continue:{value:function(et){et!=null?tt.continue(rc(et,B.reverse?d.MAX_KEY:d.MIN_KEY,q)):B.unique?tt.continue(tt.key.slice(0,G).concat(B.reverse?d.MIN_KEY:d.MAX_KEY,q)):tt.continue()}},continuePrimaryKey:{value:function(et,it){tt.continuePrimaryKey(rc(et,d.MAX_KEY,q),it)}},primaryKey:{get:function(){return tt.primaryKey}},key:{get:function(){var et=tt.key;return G===1?et[0]:et.slice(0,G)}},value:{get:function(){return tt.value}}})}}})}})}};function jh(d,p,y,v){return y=y||{},v=v||"",o(d).forEach(function(S){var C,D,L;h(p,S)?(C=d[S],D=p[S],typeof C=="object"&&typeof D=="object"&&C&&D?(L=at(C))!==at(D)?y[v+S]=p[S]:L==="Object"?jh(C,D,y,v+S+"."):C!==D&&(y[v+S]=p[S]):C!==D&&(y[v+S]=p[S])):y[v+S]=void 0}),o(p).forEach(function(S){h(d,S)||(y[v+S]=p[S])}),y}function zh(d,p){return p.type==="delete"?p.keys:p.keys||p.values.map(d.extractKey)}var Hx={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(d){return i(i({},d),{table:function(p){var y=d.table(p),v=y.schema.primaryKey;return i(i({},y),{mutate:function(S){var C=It.trans,D=C.table(p).hook,L=D.deleting,z=D.creating,$=D.updating;switch(S.type){case"add":if(z.fire===E)break;return C._promise("readwrite",function(){return Y(S)},!0);case"put":if(z.fire===E&&$.fire===E)break;return C._promise("readwrite",function(){return Y(S)},!0);case"delete":if(L.fire===E)break;return C._promise("readwrite",function(){return Y(S)},!0);case"deleteRange":if(L.fire===E)break;return C._promise("readwrite",function(){return function B(X,q,K){return y.query({trans:X,values:!1,query:{index:v,range:q},limit:K}).then(function(G){var U=G.result;return Y({type:"delete",keys:U,trans:X}).then(function(tt){return 0<tt.numFailures?Promise.reject(tt.failures[0]):U.length<K?{failures:[],numFailures:0,lastResult:void 0}:B(X,i(i({},q),{lower:U[U.length-1],lowerOpen:!0}),K)})})}(S.trans,S.range,1e4)},!0)}return y.mutate(S);function Y(B){var X,q,K,G=It.trans,U=B.keys||zh(v,B);if(!U)throw new Error("Keys missing");return(B=B.type==="add"||B.type==="put"?i(i({},B),{keys:U}):i({},B)).type!=="delete"&&(B.values=s([],B.values)),B.keys&&(B.keys=s([],B.keys)),X=y,K=U,((q=B).type==="add"?Promise.resolve([]):X.getMany({trans:q.trans,keys:K,cache:"immutable"})).then(function(tt){var et=U.map(function(it,ct){var vt,Ct,xt,St=tt[ct],At={onerror:null,onsuccess:null};return B.type==="delete"?L.fire.call(At,it,St,G):B.type==="add"||St===void 0?(vt=z.fire.call(At,it,B.values[ct],G),it==null&&vt!=null&&(B.keys[ct]=it=vt,v.outbound||P(B.values[ct],v.keyPath,it))):(vt=jh(St,B.values[ct]),(Ct=$.fire.call(At,vt,it,St,G))&&(xt=B.values[ct],Object.keys(Ct).forEach(function(kt){h(xt,kt)?xt[kt]=Ct[kt]:P(xt,kt,Ct[kt])}))),At});return y.mutate(B).then(function(it){for(var ct=it.failures,vt=it.results,Ct=it.numFailures,it=it.lastResult,xt=0;xt<U.length;++xt){var St=(vt||U)[xt],At=et[xt];St==null?At.onerror&&At.onerror(ct[xt]):At.onsuccess&&At.onsuccess(B.type==="put"&&tt[xt]?B.values[xt]:St)}return{failures:ct,results:vt,numFailures:Ct,lastResult:it}}).catch(function(it){return et.forEach(function(ct){return ct.onerror&&ct.onerror(it)}),Promise.reject(it)})})}}})}})}};function Mg(d,p,y){try{if(!p||p.keys.length<d.length)return null;for(var v=[],S=0,C=0;S<p.keys.length&&C<d.length;++S)ie(p.keys[S],d[C])===0&&(v.push(y?Z(p.values[S]):p.values[S]),++C);return v.length===d.length?v:null}catch{return null}}var Kx={stack:"dbcore",level:-1,create:function(d){return{table:function(p){var y=d.table(p);return i(i({},y),{getMany:function(v){if(!v.cache)return y.getMany(v);var S=Mg(v.keys,v.trans._cache,v.cache==="clone");return S?Dt.resolve(S):y.getMany(v).then(function(C){return v.trans._cache={keys:v.keys,values:v.cache==="clone"?Z(C):C},C})},mutate:function(v){return v.type!=="add"&&(v.trans._cache=null),y.mutate(v)}})}}}};function Ag(d,p){return d.trans.mode==="readonly"&&!!d.subscr&&!d.trans.explicit&&d.trans.db._options.cache!=="disabled"&&!p.schema.primaryKey.outbound}function Og(d,p){switch(d){case"query":return p.values&&!p.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Yx={stack:"dbcore",level:0,name:"Observability",create:function(d){var p=d.schema.name,y=new fn(d.MIN_KEY,d.MAX_KEY);return i(i({},d),{transaction:function(v,S,C){if(It.subscr&&S!=="readonly")throw new bt.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(It.querier));return d.transaction(v,S,C)},table:function(v){var S=d.table(v),C=S.schema,D=C.primaryKey,B=C.indexes,L=D.extractKey,z=D.outbound,$=D.autoIncrement&&B.filter(function(q){return q.compound&&q.keyPath.includes(D.keyPath)}),Y=i(i({},S),{mutate:function(q){function K(kt){return kt="idb://".concat(p,"/").concat(v,"/").concat(kt),it[kt]||(it[kt]=new fn)}var G,U,tt,et=q.trans,it=q.mutatedParts||(q.mutatedParts={}),ct=K(""),vt=K(":dels"),Ct=q.type,At=q.type==="deleteRange"?[q.range]:q.type==="delete"?[q.keys]:q.values.length<50?[zh(D,q).filter(function(kt){return kt}),q.values]:[],xt=At[0],St=At[1],At=q.trans._cache;return a(xt)?(ct.addKeys(xt),(At=Ct==="delete"||xt.length===St.length?Mg(xt,At):null)||vt.addKeys(xt),(At||St)&&(G=K,U=At,tt=St,C.indexes.forEach(function(kt){var Nt=G(kt.name||"");function $t(Xt){return Xt!=null?kt.extractKey(Xt):null}function Gt(Xt){return kt.multiEntry&&a(Xt)?Xt.forEach(function(Kn){return Nt.addKey(Kn)}):Nt.addKey(Xt)}(U||tt).forEach(function(Xt,pn){var zt=U&&$t(U[pn]),pn=tt&&$t(tt[pn]);ie(zt,pn)!==0&&(zt!=null&&Gt(zt),pn!=null&&Gt(pn))})}))):xt?(St={from:(St=xt.lower)!==null&&St!==void 0?St:d.MIN_KEY,to:(St=xt.upper)!==null&&St!==void 0?St:d.MAX_KEY},vt.add(St),ct.add(St)):(ct.add(y),vt.add(y),C.indexes.forEach(function(kt){return K(kt.name).add(y)})),S.mutate(q).then(function(kt){return!xt||q.type!=="add"&&q.type!=="put"||(ct.addKeys(kt.results),$&&$.forEach(function(Nt){for(var $t=q.values.map(function(zt){return Nt.extractKey(zt)}),Gt=Nt.keyPath.findIndex(function(zt){return zt===D.keyPath}),Xt=0,Kn=kt.results.length;Xt<Kn;++Xt)$t[Xt][Gt]=kt.results[Xt];K(Nt.name).addKeys($t)})),et.mutatedParts=ic(et.mutatedParts||{},it),kt})}}),B=function(K){var G=K.query,K=G.index,G=G.range;return[K,new fn((K=G.lower)!==null&&K!==void 0?K:d.MIN_KEY,(G=G.upper)!==null&&G!==void 0?G:d.MAX_KEY)]},X={get:function(q){return[D,new fn(q.key)]},getMany:function(q){return[D,new fn().addKeys(q.keys)]},count:B,query:B,openCursor:B};return o(X).forEach(function(q){Y[q]=function(K){var G=It.subscr,U=!!G,tt=Ag(It,S)&&Og(q,K)?K.obsSet={}:G;if(U){var et=function(St){return St="idb://".concat(p,"/").concat(v,"/").concat(St),tt[St]||(tt[St]=new fn)},it=et(""),ct=et(":dels"),G=X[q](K),U=G[0],G=G[1];if((q==="query"&&U.isPrimaryKey&&!K.values?ct:et(U.name||"")).add(G),!U.isPrimaryKey){if(q!=="count"){var vt=q==="query"&&z&&K.values&&S.query(i(i({},K),{values:!1}));return S[q].apply(this,arguments).then(function(St){if(q==="query"){if(z&&K.values)return vt.then(function($t){return $t=$t.result,it.addKeys($t),St});var At=K.values?St.result.map(L):St.result;(K.values?it:ct).addKeys(At)}else if(q==="openCursor"){var kt=St,Nt=K.values;return kt&&Object.create(kt,{key:{get:function(){return ct.addKey(kt.primaryKey),kt.key}},primaryKey:{get:function(){var $t=kt.primaryKey;return ct.addKey($t),$t}},value:{get:function(){return Nt&&it.addKey(kt.primaryKey),kt.value}}})}return St})}ct.add(y)}}return S[q].apply(this,arguments)}}),Y}})}};function Pg(d,p,y){if(y.numFailures===0)return p;if(p.type==="deleteRange")return null;var v=p.keys?p.keys.length:"values"in p&&p.values?p.values.length:1;return y.numFailures===v?null:(p=i({},p),a(p.keys)&&(p.keys=p.keys.filter(function(S,C){return!(C in y.failures)})),"values"in p&&a(p.values)&&(p.values=p.values.filter(function(S,C){return!(C in y.failures)})),p)}function qh(d,p){return y=d,((v=p).lower===void 0||(v.lowerOpen?0<ie(y,v.lower):0<=ie(y,v.lower)))&&(d=d,(p=p).upper===void 0||(p.upperOpen?ie(d,p.upper)<0:ie(d,p.upper)<=0));var y,v}function Dg(d,p,X,v,S,C){if(!X||X.length===0)return d;var D=p.query.index,L=D.multiEntry,z=p.query.range,$=v.schema.primaryKey.extractKey,Y=D.extractKey,B=(D.lowLevelIndex||D).extractKey,X=X.reduce(function(q,K){var G=q,U=[];if(K.type==="add"||K.type==="put")for(var tt=new fn,et=K.values.length-1;0<=et;--et){var it,ct=K.values[et],vt=$(ct);tt.hasKey(vt)||(it=Y(ct),(L&&a(it)?it.some(function(kt){return qh(kt,z)}):qh(it,z))&&(tt.addKey(vt),U.push(ct)))}switch(K.type){case"add":var Ct=new fn().addKeys(p.values?q.map(function(Nt){return $(Nt)}):q),G=q.concat(p.values?U.filter(function(Nt){return Nt=$(Nt),!Ct.hasKey(Nt)&&(Ct.addKey(Nt),!0)}):U.map(function(Nt){return $(Nt)}).filter(function(Nt){return!Ct.hasKey(Nt)&&(Ct.addKey(Nt),!0)}));break;case"put":var xt=new fn().addKeys(K.values.map(function(Nt){return $(Nt)}));G=q.filter(function(Nt){return!xt.hasKey(p.values?$(Nt):Nt)}).concat(p.values?U:U.map(function(Nt){return $(Nt)}));break;case"delete":var St=new fn().addKeys(K.keys);G=q.filter(function(Nt){return!St.hasKey(p.values?$(Nt):Nt)});break;case"deleteRange":var At=K.range;G=q.filter(function(Nt){return!qh($(Nt),At)})}return G},d);return X===d?d:(X.sort(function(q,K){return ie(B(q),B(K))||ie($(q),$(K))}),p.limit&&p.limit<1/0&&(X.length>p.limit?X.length=p.limit:d.length===p.limit&&X.length<p.limit&&(S.dirty=!0)),C?Object.freeze(X):X)}function Eg(d,p){return ie(d.lower,p.lower)===0&&ie(d.upper,p.upper)===0&&!!d.lowerOpen==!!p.lowerOpen&&!!d.upperOpen==!!p.upperOpen}function Gx(d,p){return function(y,v,S,C){if(y===void 0)return v!==void 0?-1:0;if(v===void 0)return 1;if((v=ie(y,v))===0){if(S&&C)return 0;if(S)return 1;if(C)return-1}return v}(d.lower,p.lower,d.lowerOpen,p.lowerOpen)<=0&&0<=function(y,v,S,C){if(y===void 0)return v!==void 0?1:0;if(v===void 0)return-1;if((v=ie(y,v))===0){if(S&&C)return 0;if(S)return-1;if(C)return 1}return v}(d.upper,p.upper,d.upperOpen,p.upperOpen)}function Xx(d,p,y,v){d.subscribers.add(y),v.addEventListener("abort",function(){var S,C;d.subscribers.delete(y),d.subscribers.size===0&&(S=d,C=p,setTimeout(function(){S.subscribers.size===0&&pt(C,S)},3e3))})}var Zx={stack:"dbcore",level:0,name:"Cache",create:function(d){var p=d.schema.name;return i(i({},d),{transaction:function(y,v,S){var C,D,L=d.transaction(y,v,S);return v==="readwrite"&&(D=(C=new AbortController).signal,S=function(z){return function(){if(C.abort(),v==="readwrite"){for(var $=new Set,Y=0,B=y;Y<B.length;Y++){var X=B[Y],q=ur["idb://".concat(p,"/").concat(X)];if(q){var K=d.table(X),G=q.optimisticOps.filter(function(Nt){return Nt.trans===L});if(L._explicit&&z&&L.mutatedParts)for(var U=0,tt=Object.values(q.queries.query);U<tt.length;U++)for(var et=0,it=(Ct=tt[U]).slice();et<it.length;et++)Fh((xt=it[et]).obsSet,L.mutatedParts)&&(pt(Ct,xt),xt.subscribers.forEach(function(Nt){return $.add(Nt)}));else if(0<G.length){q.optimisticOps=q.optimisticOps.filter(function(Nt){return Nt.trans!==L});for(var ct=0,vt=Object.values(q.queries.query);ct<vt.length;ct++)for(var Ct,xt,St,At=0,kt=(Ct=vt[ct]).slice();At<kt.length;At++)(xt=kt[At]).res!=null&&L.mutatedParts&&(z&&!xt.dirty?(St=Object.isFrozen(xt.res),St=Dg(xt.res,xt.req,G,K,xt,St),xt.dirty?(pt(Ct,xt),xt.subscribers.forEach(function(Nt){return $.add(Nt)})):St!==xt.res&&(xt.res=St,xt.promise=Dt.resolve({result:St}))):(xt.dirty&&pt(Ct,xt),xt.subscribers.forEach(function(Nt){return $.add(Nt)})))}}}$.forEach(function(Nt){return Nt()})}}},L.addEventListener("abort",S(!1),{signal:D}),L.addEventListener("error",S(!1),{signal:D}),L.addEventListener("complete",S(!0),{signal:D})),L},table:function(y){var v=d.table(y),S=v.schema.primaryKey;return i(i({},v),{mutate:function(C){var D=It.trans;if(S.outbound||D.db._options.cache==="disabled"||D.explicit||D.idbtrans.mode!=="readwrite")return v.mutate(C);var L=ur["idb://".concat(p,"/").concat(y)];return L?(D=v.mutate(C),C.type!=="add"&&C.type!=="put"||!(50<=C.values.length||zh(S,C).some(function(z){return z==null}))?(L.optimisticOps.push(C),C.mutatedParts&&sc(C.mutatedParts),D.then(function(z){0<z.numFailures&&(pt(L.optimisticOps,C),(z=Pg(0,C,z))&&L.optimisticOps.push(z),C.mutatedParts&&sc(C.mutatedParts))}),D.catch(function(){pt(L.optimisticOps,C),C.mutatedParts&&sc(C.mutatedParts)})):D.then(function(z){var $=Pg(0,i(i({},C),{values:C.values.map(function(Y,B){var X;return z.failures[B]?Y:(Y=(X=S.keyPath)!==null&&X!==void 0&&X.includes(".")?Z(Y):i({},Y),P(Y,S.keyPath,z.results[B]),Y)})}),z);L.optimisticOps.push($),queueMicrotask(function(){return C.mutatedParts&&sc(C.mutatedParts)})}),D):v.mutate(C)},query:function(C){if(!Ag(It,v)||!Og("query",C))return v.query(C);var D=(($=It.trans)===null||$===void 0?void 0:$.db._options.cache)==="immutable",B=It,L=B.requery,z=B.signal,$=function(K,G,U,tt){var et=ur["idb://".concat(K,"/").concat(G)];if(!et)return[];if(!(G=et.queries[U]))return[null,!1,et,null];var it=G[(tt.query?tt.query.index.name:null)||""];if(!it)return[null,!1,et,null];switch(U){case"query":var ct=it.find(function(vt){return vt.req.limit===tt.limit&&vt.req.values===tt.values&&Eg(vt.req.query.range,tt.query.range)});return ct?[ct,!0,et,it]:[it.find(function(vt){return("limit"in vt.req?vt.req.limit:1/0)>=tt.limit&&(!tt.values||vt.req.values)&&Gx(vt.req.query.range,tt.query.range)}),!1,et,it];case"count":return ct=it.find(function(vt){return Eg(vt.req.query.range,tt.query.range)}),[ct,!!ct,et,it]}}(p,y,"query",C),Y=$[0],B=$[1],X=$[2],q=$[3];return Y&&B?Y.obsSet=C.obsSet:(B=v.query(C).then(function(K){var G=K.result;if(Y&&(Y.res=G),D){for(var U=0,tt=G.length;U<tt;++U)Object.freeze(G[U]);Object.freeze(G)}else K.result=Z(G);return K}).catch(function(K){return q&&Y&&pt(q,Y),Promise.reject(K)}),Y={obsSet:C.obsSet,promise:B,subscribers:new Set,type:"query",req:C,dirty:!1},q?q.push(Y):(q=[Y],(X=X||(ur["idb://".concat(p,"/").concat(y)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[C.query.index.name||""]=q)),Xx(Y,q,L,z),Y.promise.then(function(K){return{result:Dg(K.result,C,X?.optimisticOps,v,Y,D)}})}})}})}};function oc(d,p){return new Proxy(d,{get:function(y,v,S){return v==="db"?p:Reflect.get(y,v,S)}})}var Gi=(je.prototype.version=function(d){if(isNaN(d)||d<.1)throw new bt.Type("Given version is not a positive number");if(d=Math.round(10*d)/10,this.idbdb||this._state.isBeingOpened)throw new bt.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,d);var p=this._versions,y=p.filter(function(v){return v._cfg.version===d})[0];return y||(y=new this.Version(d),p.push(y),p.sort(Wx),y.stores({}),this._state.autoSchema=!1,y)},je.prototype._whenReady=function(d){var p=this;return this.idbdb&&(this._state.openComplete||It.letThrough||this._vip)?d():new Dt(function(y,v){if(p._state.openComplete)return v(new bt.DatabaseClosed(p._state.dbOpenError));if(!p._state.isBeingOpened){if(!p._state.autoOpen)return void v(new bt.DatabaseClosed);p.open().catch(E)}p._state.dbReadyPromise.then(y,v)}).then(d)},je.prototype.use=function(d){var p=d.stack,y=d.create,v=d.level,S=d.name;return S&&this.unuse({stack:p,name:S}),d=this._middlewares[p]||(this._middlewares[p]=[]),d.push({stack:p,create:y,level:v??10,name:S}),d.sort(function(C,D){return C.level-D.level}),this},je.prototype.unuse=function(d){var p=d.stack,y=d.name,v=d.create;return p&&this._middlewares[p]&&(this._middlewares[p]=this._middlewares[p].filter(function(S){return v?S.create!==v:!!y&&S.name!==y})),this},je.prototype.open=function(){var d=this;return ar(Re,function(){return $x(d)})},je.prototype._close=function(){var d=this._state,p=so.indexOf(this);if(0<=p&&so.splice(p,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}d.isBeingOpened||(d.dbReadyPromise=new Dt(function(y){d.dbReadyResolve=y}),d.openCanceller=new Dt(function(y,v){d.cancelOpen=v}))},je.prototype.close=function(y){var p=(y===void 0?{disableAutoOpen:!0}:y).disableAutoOpen,y=this._state;p?(y.isBeingOpened&&y.cancelOpen(new bt.DatabaseClosed),this._close(),y.autoOpen=!1,y.dbOpenError=new bt.DatabaseClosed):(this._close(),y.autoOpen=this._options.autoOpen||y.isBeingOpened,y.openComplete=!1,y.dbOpenError=null)},je.prototype.delete=function(d){var p=this;d===void 0&&(d={disableAutoOpen:!0});var y=0<arguments.length&&typeof arguments[0]!="object",v=this._state;return new Dt(function(S,C){function D(){p.close(d);var L=p._deps.indexedDB.deleteDatabase(p.name);L.onsuccess=ke(function(){var z,$,Y;z=p._deps,$=p.name,Y=z.indexedDB,z=z.IDBKeyRange,Ih(Y)||$===Ul||Eh(Y,z).delete($).catch(E),S()}),L.onerror=Oi(C),L.onblocked=p._fireOnBlocked}if(y)throw new bt.InvalidArgument("Invalid closeOptions argument to db.delete()");v.isBeingOpened?v.dbReadyPromise.then(D):D()})},je.prototype.backendDB=function(){return this.idbdb},je.prototype.isOpen=function(){return this.idbdb!==null},je.prototype.hasBeenClosed=function(){var d=this._state.dbOpenError;return d&&d.name==="DatabaseClosed"},je.prototype.hasFailed=function(){return this._state.dbOpenError!==null},je.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(je.prototype,"tables",{get:function(){var d=this;return o(this._allTables).map(function(p){return d._allTables[p]})},enumerable:!1,configurable:!0}),je.prototype.transaction=function(){var d=(function(p,y,v){var S=arguments.length;if(S<2)throw new bt.InvalidArgument("Too few arguments");for(var C=new Array(S-1);--S;)C[S-1]=arguments[S];return v=C.pop(),[p,W(C),v]}).apply(this,arguments);return this._transaction.apply(this,d)},je.prototype._transaction=function(d,p,y){var v=this,S=It.trans;S&&S.db===this&&d.indexOf("!")===-1||(S=null);var C,D,L=d.indexOf("?")!==-1;d=d.replace("!","").replace("?","");try{if(D=p.map(function($){if($=$ instanceof v.Table?$.name:$,typeof $!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return $}),d=="r"||d===vh)C=vh;else{if(d!="rw"&&d!=xh)throw new bt.InvalidArgument("Invalid transaction mode: "+d);C=xh}if(S){if(S.mode===vh&&C===xh){if(!L)throw new bt.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");S=null}S&&D.forEach(function($){if(S&&S.storeNames.indexOf($)===-1){if(!L)throw new bt.SubTransaction("Table "+$+" not included in parent transaction.");S=null}}),L&&S&&!S.active&&(S=null)}}catch($){return S?S._promise(null,function(Y,B){B($)}):We($)}var z=(function $(Y,B,X,q,K){return Dt.resolve().then(function(){var G=It.transless||It,U=Y._createTransaction(B,X,Y._dbSchema,q);if(U.explicit=!0,G={trans:U,transless:G},q)U.idbtrans=q.idbtrans;else try{U.create(),U.idbtrans._explicit=!0,Y._state.PR1398_maxLoop=3}catch(it){return it.name===Et.InvalidState&&Y.isOpen()&&0<--Y._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Y.close({disableAutoOpen:!1}),Y.open().then(function(){return $(Y,B,X,null,K)})):We(it)}var tt,et=F(K);return et&&io(),G=Dt.follow(function(){var it;(tt=K.call(U,U))&&(et?(it=Cs.bind(null,null),tt.then(it,it)):typeof tt.next=="function"&&typeof tt.throw=="function"&&(tt=Wh(tt)))},G),(tt&&typeof tt.then=="function"?Dt.resolve(tt).then(function(it){return U.active?it:We(new bt.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):G.then(function(){return tt})).then(function(it){return q&&U._resolve(),U._completion.then(function(){return it})}).catch(function(it){return U._reject(it),We(it)})})}).bind(null,this,C,D,S,y);return S?S._promise(C,z,"lock"):It.trans?ar(It.transless,function(){return v._whenReady(z)}):this._whenReady(z)},je.prototype.table=function(d){if(!h(this._allTables,d))throw new bt.InvalidTable("Table ".concat(d," does not exist"));return this._allTables[d]},je);function je(d,p){var y=this;this._middlewares={},this.verno=0;var v=je.dependencies;this._options=p=i({addons:je.addons,autoOpen:!0,indexedDB:v.indexedDB,IDBKeyRange:v.IDBKeyRange,cache:"cloned"},p),this._deps={indexedDB:p.indexedDB,IDBKeyRange:p.IDBKeyRange},v=p.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var S,C,D,L,z,$={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:E,dbReadyPromise:null,cancelOpen:E,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:p.autoOpen};$.dbReadyPromise=new Dt(function(B){$.dbReadyResolve=B}),$.openCanceller=new Dt(function(B,X){$.cancelOpen=X}),this._state=$,this.name=d,this.on=ia(this,"populate","blocked","versionchange","close",{ready:[ht,E]}),this.on.ready.subscribe=O(this.on.ready.subscribe,function(B){return function(X,q){je.vip(function(){var K,G=y._state;G.openComplete?(G.dbOpenError||Dt.resolve().then(X),q&&B(X)):G.onReadyBeingFired?(G.onReadyBeingFired.push(X),q&&B(X)):(B(X),K=y,q||B(function U(){K.on.ready.unsubscribe(X),K.on.ready.unsubscribe(U)}))})}}),this.Collection=(S=this,sa(Ix.prototype,function(tt,U){this.db=S;var q=cg,K=null;if(U)try{q=U()}catch(et){K=et}var G=tt._ctx,U=G.table,tt=U.hook.reading.fire;this._ctx={table:U,index:G.index,isPrimKey:!G.index||U.schema.primKey.keyPath&&G.index===U.schema.primKey.name,range:q,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:K,or:G.or,valueMapper:tt!==j?tt:null}})),this.Table=(C=this,sa(fg.prototype,function(B,X,q){this.db=C,this._tx=q,this.name=B,this.schema=X,this.hook=C._allTables[B]?C._allTables[B].hook:ia(null,{creating:[J,E],reading:[Q,j],updating:[gt,E],deleting:[rt,E]})})),this.Transaction=(D=this,sa(Fx.prototype,function(B,X,q,K,G){var U=this;this.db=D,this.mode=B,this.storeNames=X,this.schema=q,this.chromeTransactionDurability=K,this.idbtrans=null,this.on=ia(this,"complete","error","abort"),this.parent=G||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Dt(function(tt,et){U._resolve=tt,U._reject=et}),this._completion.then(function(){U.active=!1,U.on.complete.fire()},function(tt){var et=U.active;return U.active=!1,U.on.error.fire(tt),U.parent?U.parent._reject(tt):et&&U.idbtrans&&U.idbtrans.abort(),We(tt)})})),this.Version=(L=this,sa(qx.prototype,function(B){this.db=L,this._cfg={version:B,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(z=this,sa(yg.prototype,function(B,X,q){if(this.db=z,this._ctx={table:B,index:X===":id"?null:X,or:q},this._cmp=this._ascending=ie,this._descending=function(K,G){return ie(G,K)},this._max=function(K,G){return 0<ie(K,G)?K:G},this._min=function(K,G){return ie(K,G)<0?K:G},this._IDBKeyRange=z._deps.IDBKeyRange,!this._IDBKeyRange)throw new bt.MissingAPI})),this.on("versionchange",function(B){0<B.newVersion?console.warn("Another connection wants to upgrade database '".concat(y.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(y.name,"'. Closing db now to resume the delete request.")),y.close({disableAutoOpen:!1})}),this.on("blocked",function(B){!B.newVersion||B.newVersion<B.oldVersion?console.warn("Dexie.delete('".concat(y.name,"') was blocked")):console.warn("Upgrade '".concat(y.name,"' blocked by other connection holding version ").concat(B.oldVersion/10))}),this._maxKey=la(p.IDBKeyRange),this._createTransaction=function(B,X,q,K){return new y.Transaction(B,X,q,y._options.chromeTransactionDurability,K)},this._fireOnBlocked=function(B){y.on("blocked").fire(B),so.filter(function(X){return X.name===y.name&&X!==y&&!X._state.vcFired}).map(function(X){return X.on("versionchange").fire(B)})},this.use(Kx),this.use(Zx),this.use(Yx),this.use(Ux),this.use(Hx);var Y=new Proxy(this,{get:function(B,X,q){if(X==="_vip")return!0;if(X==="table")return function(G){return oc(y.table(G),Y)};var K=Reflect.get(B,X,q);return K instanceof fg?oc(K,Y):X==="tables"?K.map(function(G){return oc(G,Y)}):X==="_createTransaction"?function(){return oc(K.apply(this,arguments),Y)}:K}});this.vip=Y,v.forEach(function(B){return B(y)})}var ac,oi=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Qx=($h.prototype.subscribe=function(d,p,y){return this._subscribe(d&&typeof d!="function"?d:{next:d,error:p,complete:y})},$h.prototype[oi]=function(){return this},$h);function $h(d){this._subscribe=d}try{ac={indexedDB:r.indexedDB||r.mozIndexedDB||r.webkitIndexedDB||r.msIndexedDB,IDBKeyRange:r.IDBKeyRange||r.webkitIDBKeyRange}}catch{ac={indexedDB:null,IDBKeyRange:null}}function Ig(d){var p,y=!1,v=new Qx(function(S){var C=F(d),D,L=!1,z={},$={},Y={get closed(){return L},unsubscribe:function(){L||(L=!0,D&&D.abort(),B&&Os.storagemutated.unsubscribe(q))}};S.start&&S.start(Y);var B=!1,X=function(){return bh(K)},q=function(G){ic(z,G),Fh($,z)&&X()},K=function(){var G,U,tt;!L&&ac.indexedDB&&(z={},G={},D&&D.abort(),D=new AbortController,tt=function(et){var it=eo();try{C&&io();var ct=ks(d,et);return ct=C?ct.finally(Cs):ct}finally{it&&no()}}(U={subscr:G,signal:D.signal,requery:X,querier:d,trans:null}),Promise.resolve(tt).then(function(et){y=!0,p=et,L||U.signal.aborted||(z={},function(it){for(var ct in it)if(h(it,ct))return;return 1}($=G)||B||(Os(aa,q),B=!0),bh(function(){return!L&&S.next&&S.next(et)}))},function(et){y=!1,["DatabaseClosedError","AbortError"].includes(et?.name)||L||bh(function(){L||S.error&&S.error(et)})}))};return setTimeout(X,0),Y});return v.hasValue=function(){return y},v.getValue=function(){return p},v}var hr=Gi;function Uh(d){var p=Ps;try{Ps=!0,Os.storagemutated.fire(d),Bh(d,!0)}finally{Ps=p}}f(hr,i(i({},Yt),{delete:function(d){return new hr(d,{addons:[]}).delete()},exists:function(d){return new hr(d,{addons:[]}).open().then(function(p){return p.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(d){try{return p=hr.dependencies,y=p.indexedDB,p=p.IDBKeyRange,(Ih(y)?Promise.resolve(y.databases()).then(function(v){return v.map(function(S){return S.name}).filter(function(S){return S!==Ul})}):Eh(y,p).toCollection().primaryKeys()).then(d)}catch{return We(new bt.MissingAPI)}var p,y},defineClass:function(){return function(d){l(this,d)}},ignoreTransaction:function(d){return It.trans?ar(It.transless,d):d()},vip:Rh,async:function(d){return function(){try{var p=Wh(d.apply(this,arguments));return p&&typeof p.then=="function"?p:Dt.resolve(p)}catch(y){return We(y)}}},spawn:function(d,p,y){try{var v=Wh(d.apply(y,p||[]));return v&&typeof v.then=="function"?v:Dt.resolve(v)}catch(S){return We(S)}},currentTransaction:{get:function(){return It.trans||null}},waitFor:function(d,p){return p=Dt.resolve(typeof d=="function"?hr.ignoreTransaction(d):d).timeout(p||6e4),It.trans?It.trans.waitFor(p):p},Promise:Dt,debug:{get:function(){return dt},set:function(d){Rt(d)}},derive:m,extend:l,props:f,override:O,Events:ia,on:Os,liveQuery:Ig,extendObservabilitySet:ic,getByKeyPath:k,setByKeyPath:P,delByKeyPath:function(d,p){typeof p=="string"?P(d,p,void 0):"length"in p&&[].map.call(p,function(y){P(d,y,void 0)})},shallowClone:A,deepClone:Z,getObjectDiff:jh,cmp:ie,asap:w,minKey:-1/0,addons:[],connections:so,errnames:Et,dependencies:ac,cache:ur,semVer:"4.0.11",version:"4.0.11".split(".").map(function(d){return parseInt(d)}).reduce(function(d,p,y){return d+p/Math.pow(10,2*y)})})),hr.maxKey=la(hr.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Os(aa,function(d){Ps||(d=new CustomEvent(kh,{detail:d}),Ps=!0,dispatchEvent(d),Ps=!1)}),addEventListener(kh,function(d){d=d.detail,Ps||Uh(d)}));var ao,Ps=!1,Rg=function(){};return typeof BroadcastChannel<"u"&&((Rg=function(){(ao=new BroadcastChannel(kh)).onmessage=function(d){return d.data&&Uh(d.data)}})(),typeof ao.unref=="function"&&ao.unref(),Os(aa,function(d){Ps||ao.postMessage(d)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(d){if(!Gi.disableBfCache&&d.persisted){dt&&console.debug("Dexie: handling persisted pagehide"),ao?.close();for(var p=0,y=so;p<y.length;p++)y[p].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(d){!Gi.disableBfCache&&d.persisted&&(dt&&console.debug("Dexie: handling persisted pageshow"),Rg(),Uh({all:new fn(-1/0,[[]])}))})),Dt.rejectionMapper=function(d,p){return!d||d instanceof Mt||d instanceof TypeError||d instanceof SyntaxError||!d.name||!Kt[d.name]?d:(p=new Kt[d.name](p||d.message,d),"stack"in d&&_(p,"stack",{get:function(){return this.inner.stack}}),p)},Rt(dt),i(Gi,Object.freeze({__proto__:null,Dexie:Gi,liveQuery:Ig,Entity:ug,cmp:ie,PropModification:ra,replacePrefix:function(d,p){return new ra({replacePrefix:[d,p]})},add:function(d){return new ra({add:d})},remove:function(d){return new ra({remove:d})},default:Gi,RangeSet:fn,mergeRanges:ha,rangesOverlap:Sg}),{default:Gi}),Gi})}(zc)),zc.exports}var wP=xP();const _f=bP(wP),ty=Symbol.for("Dexie"),mu=globalThis[ty]||(globalThis[ty]=_f);if(_f.semVer!==mu.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${_f.semVer} and ${mu.semVer}`);const{liveQuery:yL,mergeRanges:bL,rangesOverlap:vL,RangeSet:xL,cmp:wL,Entity:SL,PropModification:TL,replacePrefix:kL,add:CL,remove:ML}=mu;class SP extends mu{constructor(){super("PokeFusionDB"),this.version(1).stores({pokemon:"id, name, sprites, types, abilities, height, weight, cries",fusions:"id, name, pokemonA, pokemonB, fusedSprite, types, abilities, height, weight, createdAt"}),this.pokemon=this.table("pokemon"),this.fusions=this.table("fusions")}}const Ds=new SP;class vv{static async cachePokemon(t){try{await Ds.pokemon.put(t)}catch(e){console.error(":",e)}}static async getCachedPokemon(t){try{return await Ds.pokemon.get(t)}catch(e){return console.error(":",e),null}}static async cacheFusion(t){try{const e={...t,createdAt:new Date().toISOString()};await Ds.fusions.put(e)}catch(e){console.error(":",e)}}static async getAllCachedFusions(){try{return await Ds.fusions.orderBy("createdAt").reverse().toArray()}catch(t){return console.error(":",t),[]}}static async getCachedFusion(t){try{return await Ds.fusions.get(t)}catch(e){return console.error(":",e),null}}static async deleteCachedFusion(t){try{await Ds.fusions.delete(t)}catch(e){console.error(":",e)}}static async clearAllCache(){try{await Ds.pokemon.clear(),await Ds.fusions.clear()}catch(t){console.error(":",t)}}static async preloadCommonPokemon(){const t=[1,4,7,25,133,150,151,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151];for(const e of t)try{const i=await _P(()=>import("./pokemonApi-DHSMi70G.js"),[]).then(s=>s.getPokemonById(e));await this.cachePokemon(i)}catch(i){console.error(` ${e} :`,i)}}}async function TP(){try{"serviceWorker"in navigator?(window.addEventListener("load",async()=>{try{const n=await navigator.serviceWorker.register("/sw.js",{scope:"/"});console.log("Service Worker :",n),n.addEventListener("updatefound",()=>{const t=n.installing;t&&t.addEventListener("statechange",()=>{t.state==="installed"&&navigator.serviceWorker.controller&&console.log("Service Worker")})})}catch(n){console.error("Service Worker :",n)}}),navigator.serviceWorker.addEventListener("message",n=>{console.log("Service Worker:",n.data)})):console.warn("Service Worker"),await vv.preloadCommonPokemon()}catch(n){console.error(":",n)}}const xv="14.9.17",ey=(n,t,e)=>({endTime:t,insertTime:e,type:"exponentialRampToValue",value:n}),ny=(n,t,e)=>({endTime:t,insertTime:e,type:"linearRampToValue",value:n}),yf=(n,t)=>({startTime:t,type:"setValue",value:n}),wv=(n,t,e)=>({duration:e,startTime:t,type:"setValueCurve",values:n}),Sv=(n,t,{startTime:e,target:i,timeConstant:s})=>i+(t-i)*Math.exp((e-n)/s),_o=n=>n.type==="exponentialRampToValue",_u=n=>n.type==="linearRampToValue",Ns=n=>_o(n)||_u(n),Pp=n=>n.type==="setValue",ns=n=>n.type==="setValueCurve",yu=(n,t,e,i)=>{const s=n[t];return s===void 0?i:Ns(s)||Pp(s)?s.value:ns(s)?s.values[s.values.length-1]:Sv(e,yu(n,t-1,s.startTime,i),s)},iy=(n,t,e,i,s)=>e===void 0?[i.insertTime,s]:Ns(e)?[e.endTime,e.value]:Pp(e)?[e.startTime,e.value]:ns(e)?[e.startTime+e.duration,e.values[e.values.length-1]]:[e.startTime,yu(n,t-1,e.startTime,s)],bf=n=>n.type==="cancelAndHold",vf=n=>n.type==="cancelScheduledValues",Es=n=>bf(n)||vf(n)?n.cancelTime:_o(n)||_u(n)?n.endTime:n.startTime,sy=(n,t,e,{endTime:i,value:s})=>e===s?s:0<e&&0<s||e<0&&s<0?e*(s/e)**((n-t)/(i-t)):0,ry=(n,t,e,{endTime:i,value:s})=>e+(n-t)/(i-t)*(s-e),kP=(n,t)=>{const e=Math.floor(t),i=Math.ceil(t);return e===i?n[e]:(1-(t-e))*n[e]+(1-(i-t))*n[i]},CP=(n,{duration:t,startTime:e,values:i})=>{const s=(n-e)/t*(i.length-1);return kP(i,s)},Mc=n=>n.type==="setTarget";class MP{constructor(t){this._automationEvents=[],this._currenTime=0,this._defaultValue=t}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(t){const e=Es(t);if(bf(t)||vf(t)){const i=this._automationEvents.findIndex(r=>vf(t)&&ns(r)?r.startTime+r.duration>=e:Es(r)>=e),s=this._automationEvents[i];if(i!==-1&&(this._automationEvents=this._automationEvents.slice(0,i)),bf(t)){const r=this._automationEvents[this._automationEvents.length-1];if(s!==void 0&&Ns(s)){if(r!==void 0&&Mc(r))throw new Error("The internal list is malformed.");const o=r===void 0?s.insertTime:ns(r)?r.startTime+r.duration:Es(r),a=r===void 0?this._defaultValue:ns(r)?r.values[r.values.length-1]:r.value,l=_o(s)?sy(e,o,a,s):ry(e,o,a,s),c=_o(s)?ey(l,e,this._currenTime):ny(l,e,this._currenTime);this._automationEvents.push(c)}if(r!==void 0&&Mc(r)&&this._automationEvents.push(yf(this.getValue(e),e)),r!==void 0&&ns(r)&&r.startTime+r.duration>e){const o=e-r.startTime,a=(r.values.length-1)/r.duration,l=Math.max(2,1+Math.ceil(o*a)),c=o/(l-1)*a,u=r.values.slice(0,l);if(c<1)for(let h=1;h<l;h+=1){const f=c*h%1;u[h]=r.values[h-1]*(1-f)+r.values[h]*f}this._automationEvents[this._automationEvents.length-1]=wv(u,r.startTime,o)}}}else{const i=this._automationEvents.findIndex(o=>Es(o)>e),s=i===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[i-1];if(s!==void 0&&ns(s)&&Es(s)+s.duration>e)return!1;const r=_o(t)?ey(t.value,t.endTime,this._currenTime):_u(t)?ny(t.value,e,this._currenTime):t;if(i===-1)this._automationEvents.push(r);else{if(ns(t)&&e+t.duration>Es(this._automationEvents[i]))return!1;this._automationEvents.splice(i,0,r)}}return!0}flush(t){const e=this._automationEvents.findIndex(i=>Es(i)>t);if(e>1){const i=this._automationEvents.slice(e-1),s=i[0];Mc(s)&&i.unshift(yf(yu(this._automationEvents,e-2,s.startTime,this._defaultValue),s.startTime)),this._automationEvents=i}}getValue(t){if(this._automationEvents.length===0)return this._defaultValue;const e=this._automationEvents.findIndex(o=>Es(o)>t),i=this._automationEvents[e],s=(e===-1?this._automationEvents.length:e)-1,r=this._automationEvents[s];if(r!==void 0&&Mc(r)&&(i===void 0||!Ns(i)||i.insertTime>t))return Sv(t,yu(this._automationEvents,s-1,r.startTime,this._defaultValue),r);if(r!==void 0&&Pp(r)&&(i===void 0||!Ns(i)))return r.value;if(r!==void 0&&ns(r)&&(i===void 0||!Ns(i)||r.startTime+r.duration>t))return t<r.startTime+r.duration?CP(t,r):r.values[r.values.length-1];if(r!==void 0&&Ns(r)&&(i===void 0||!Ns(i)))return r.value;if(i!==void 0&&_o(i)){const[o,a]=iy(this._automationEvents,s,r,i,this._defaultValue);return sy(t,o,a,i)}if(i!==void 0&&_u(i)){const[o,a]=iy(this._automationEvents,s,r,i,this._defaultValue);return ry(t,o,a,i)}return this._defaultValue}}const AP=n=>({cancelTime:n,type:"cancelAndHold"}),OP=n=>({cancelTime:n,type:"cancelScheduledValues"}),PP=(n,t)=>({endTime:t,type:"exponentialRampToValue",value:n}),DP=(n,t)=>({endTime:t,type:"linearRampToValue",value:n}),EP=(n,t,e)=>({startTime:t,target:n,timeConstant:e,type:"setTarget"}),IP=()=>new DOMException("","AbortError"),RP=n=>(t,e,[i,s,r],o)=>{n(t[s],[e,i,r],a=>a[0]===e&&a[1]===i,o)},NP=n=>(t,e,i)=>{const s=[];for(let r=0;r<i.numberOfInputs;r+=1)s.push(new Set);n.set(t,{activeInputs:s,outputs:new Set,passiveInputs:new WeakMap,renderer:e})},FP=n=>(t,e)=>{n.set(t,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:e})},zo=new WeakSet,Tv=new WeakMap,Dp=new WeakMap,kv=new WeakMap,Ep=new WeakMap,rh=new WeakMap,Cv=new WeakMap,xf=new WeakMap,wf=new WeakMap,Sf=new WeakMap,Mv={construct(){return Mv}},LP=n=>{try{const t=new Proxy(n,Mv);new t}catch{return!1}return!0},oy=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,ay=(n,t)=>{const e=[];let i=n.replace(/^[\s]+/,""),s=i.match(oy);for(;s!==null;){const r=s[1].slice(1,-1),o=s[0].replace(/([\s]+)?;?$/,"").replace(r,new URL(r,t).toString());e.push(o),i=i.slice(s[0].length).replace(/^[\s]+/,""),s=i.match(oy)}return[e.join(";"),i]},ly=n=>{if(n!==void 0&&!Array.isArray(n))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},cy=n=>{if(!LP(n))throw new TypeError("The given value for processorCtor should be a constructor.");if(n.prototype===null||typeof n.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},VP=(n,t,e,i,s,r,o,a,l,c,u,h,f)=>{let g=0;return(_,m,b={credentials:"omit"})=>{const x=u.get(_);if(x!==void 0&&x.has(m))return Promise.resolve();const T=c.get(_);if(T!==void 0){const w=T.get(m);if(w!==void 0)return w}const O=r(_),M=O.audioWorklet===void 0?s(m).then(([w,k])=>{const[P,A]=ay(w,k),I=`${P};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${A}
})})(window,'_AWGS')`;return e(I)}).then(()=>{const w=f._AWGS.pop();if(w===void 0)throw new SyntaxError;i(O.currentTime,O.sampleRate,()=>w(class{},void 0,(k,P)=>{if(k.trim()==="")throw t();const A=wf.get(O);if(A!==void 0){if(A.has(k))throw t();cy(P),ly(P.parameterDescriptors),A.set(k,P)}else cy(P),ly(P.parameterDescriptors),wf.set(O,new Map([[k,P]]))},O.sampleRate,void 0,void 0))}):Promise.all([s(m),Promise.resolve(n(h,h))]).then(([[w,k],P])=>{const A=g+1;g=A;const[I,W]=ay(w,k),ot=`${I};((AudioWorkletProcessor,registerProcessor)=>{${W}
})(${P?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${P?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${P?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${A}',class extends AudioWorkletProcessor{process(){return !1}})`,at=new Blob([ot],{type:"application/javascript; charset=utf-8"}),nt=URL.createObjectURL(at);return O.audioWorklet.addModule(nt,b).then(()=>{if(a(O))return O;const st=o(O);return st.audioWorklet.addModule(nt,b).then(()=>st)}).then(st=>{if(l===null)throw new SyntaxError;try{new l(st,`__sac${A}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(nt))});return T===void 0?c.set(_,new Map([[m,M]])):T.set(m,M),M.then(()=>{const w=u.get(_);w===void 0?u.set(_,new Set([m])):w.add(m)}).finally(()=>{const w=c.get(_);w!==void 0&&w.delete(m)}),M}},Ti=(n,t)=>{const e=n.get(t);if(e===void 0)throw new Error("A value with the given key could not be found.");return e},oh=(n,t)=>{const e=Array.from(n).filter(t);if(e.length>1)throw Error("More than one element was found.");if(e.length===0)throw Error("No element was found.");const[i]=e;return n.delete(i),i},Av=(n,t,e,i)=>{const s=Ti(n,t),r=oh(s,o=>o[0]===e&&o[1]===i);return s.size===0&&n.delete(t),r},Ol=n=>Ti(Cv,n),qo=n=>{if(zo.has(n))throw new Error("The AudioNode is already stored.");zo.add(n),Ol(n).forEach(t=>t(!0))},Ov=n=>"port"in n,Pl=n=>{if(!zo.has(n))throw new Error("The AudioNode is not stored.");zo.delete(n),Ol(n).forEach(t=>t(!1))},Tf=(n,t)=>{!Ov(n)&&t.every(e=>e.size===0)&&Pl(n)},BP=(n,t,e,i,s,r,o,a,l,c,u,h,f)=>{const g=new WeakMap;return(_,m,b,x,T)=>{const{activeInputs:O,passiveInputs:M}=r(m),{outputs:w}=r(_),k=a(_),P=A=>{const I=l(m),W=l(_);if(A){const R=Av(M,_,b,x);n(O,_,R,!1),!T&&!h(_)&&e(W,I,b,x),f(m)&&qo(m)}else{const R=i(O,_,b,x);t(M,x,R,!1),!T&&!h(_)&&s(W,I,b,x);const N=o(m);if(N===0)u(m)&&Tf(m,O);else{const Z=g.get(m);Z!==void 0&&clearTimeout(Z),g.set(m,setTimeout(()=>{u(m)&&Tf(m,O)},N*1e3))}}};return c(w,[m,b,x],A=>A[0]===m&&A[1]===b&&A[2]===x,!0)?(k.add(P),u(_)?n(O,_,[b,x,P],!0):t(M,x,[_,b,P],!0),!0):!1}},WP=n=>(t,e,[i,s,r],o)=>{const a=t.get(i);a===void 0?t.set(i,new Set([[s,e,r]])):n(a,[s,e,r],l=>l[0]===s&&l[1]===e,o)},jP=n=>(t,e)=>{const i=n(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});e.connect(i).connect(t.destination);const s=()=>{e.removeEventListener("ended",s),e.disconnect(i),i.disconnect()};e.addEventListener("ended",s)},zP=n=>(t,e)=>{n(t).add(e)},qP={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},$P=(n,t,e,i,s,r)=>class extends n{constructor(a,l){const c=s(a),u={...qP,...l},h=i(c,u),f=r(c)?t():null;super(a,!1,h,f),this._nativeAnalyserNode=h}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(a){this._nativeAnalyserNode.fftSize=a}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(a){const l=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=a,!(a>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=l,e()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(a){const l=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=a,!(this._nativeAnalyserNode.maxDecibels>a))throw this._nativeAnalyserNode.minDecibels=l,e()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(a){this._nativeAnalyserNode.smoothingTimeConstant=a}getByteFrequencyData(a){this._nativeAnalyserNode.getByteFrequencyData(a)}getByteTimeDomainData(a){this._nativeAnalyserNode.getByteTimeDomainData(a)}getFloatFrequencyData(a){this._nativeAnalyserNode.getFloatFrequencyData(a)}getFloatTimeDomainData(a){this._nativeAnalyserNode.getFloatTimeDomainData(a)}},kn=(n,t)=>n.context===t,UP=(n,t,e)=>()=>{const i=new WeakMap,s=async(r,o)=>{let a=t(r);if(!kn(a,o)){const c={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,fftSize:a.fftSize,maxDecibels:a.maxDecibels,minDecibels:a.minDecibels,smoothingTimeConstant:a.smoothingTimeConstant};a=n(o,c)}return i.set(o,a),await e(r,o,a),a};return{render(r,o){const a=i.get(o);return a!==void 0?Promise.resolve(a):s(r,o)}}},bu=n=>{try{n.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},Ui=()=>new DOMException("","IndexSizeError"),Ip=n=>{n.getChannelData=(t=>e=>{try{return t.call(n,e)}catch(i){throw i.code===12?Ui():i}})(n.getChannelData)},HP={numberOfChannels:1},KP=(n,t,e,i,s,r,o,a)=>{let l=null;return class Pv{constructor(u){if(s===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:h,numberOfChannels:f,sampleRate:g}={...HP,...u};l===null&&(l=new s(1,1,44100));const _=i!==null&&t(r,r)?new i({length:h,numberOfChannels:f,sampleRate:g}):l.createBuffer(f,h,g);if(_.numberOfChannels===0)throw e();return typeof _.copyFromChannel!="function"?(o(_),Ip(_)):t(bu,()=>bu(_))||a(_),n.add(_),_}static[Symbol.hasInstance](u){return u!==null&&typeof u=="object"&&Object.getPrototypeOf(u)===Pv.prototype||n.has(u)}}},Ln=-34028234663852886e22,On=-Ln,ds=n=>zo.has(n),YP={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},GP=(n,t,e,i,s,r,o,a)=>class extends n{constructor(c,u){const h=r(c),f={...YP,...u},g=s(h,f),_=o(h),m=_?t():null;super(c,!1,g,m),this._audioBufferSourceNodeRenderer=m,this._isBufferNullified=!1,this._isBufferSet=f.buffer!==null,this._nativeAudioBufferSourceNode=g,this._onended=null,this._playbackRate=e(this,_,g.playbackRate,On,Ln)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(c){if(this._nativeAudioBufferSourceNode.buffer=c,c!==null){if(this._isBufferSet)throw i();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(c){this._nativeAudioBufferSourceNode.loop=c}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(c){this._nativeAudioBufferSourceNode.loopEnd=c}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(c){this._nativeAudioBufferSourceNode.loopStart=c}get onended(){return this._onended}set onended(c){const u=typeof c=="function"?a(this,c):null;this._nativeAudioBufferSourceNode.onended=u;const h=this._nativeAudioBufferSourceNode.onended;this._onended=h!==null&&h===u?c:h}get playbackRate(){return this._playbackRate}start(c=0,u=0,h){if(this._nativeAudioBufferSourceNode.start(c,u,h),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=h===void 0?[c,u]:[c,u,h]),this.context.state!=="closed"){qo(this);const f=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",f),ds(this)&&Pl(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",f)}}stop(c=0){this._nativeAudioBufferSourceNode.stop(c),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=c)}},XP=(n,t,e,i,s)=>()=>{const r=new WeakMap;let o=null,a=null;const l=async(c,u)=>{let h=e(c);const f=kn(h,u);if(!f){const g={buffer:h.buffer,channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,loop:h.loop,loopEnd:h.loopEnd,loopStart:h.loopStart,playbackRate:h.playbackRate.value};h=t(u,g),o!==null&&h.start(...o),a!==null&&h.stop(a)}return r.set(u,h),f?await n(u,c.playbackRate,h.playbackRate):await i(u,c.playbackRate,h.playbackRate),await s(c,u,h),h};return{set start(c){o=c},set stop(c){a=c},render(c,u){const h=r.get(u);return h!==void 0?Promise.resolve(h):l(c,u)}}},ZP=n=>"playbackRate"in n,QP=n=>"frequency"in n&&"gain"in n,JP=n=>"offset"in n,t2=n=>!("frequency"in n)&&"gain"in n,e2=n=>"detune"in n&&"frequency"in n&&!("gain"in n),n2=n=>"pan"in n,En=n=>Ti(Tv,n),Dl=n=>Ti(kv,n),kf=(n,t)=>{const{activeInputs:e}=En(n);e.forEach(s=>s.forEach(([r])=>{t.includes(n)||kf(r,[...t,n])}));const i=ZP(n)?[n.playbackRate]:Ov(n)?Array.from(n.parameters.values()):QP(n)?[n.Q,n.detune,n.frequency,n.gain]:JP(n)?[n.offset]:t2(n)?[n.gain]:e2(n)?[n.detune,n.frequency]:n2(n)?[n.pan]:[];for(const s of i){const r=Dl(s);r!==void 0&&r.activeInputs.forEach(([o])=>kf(o,t))}ds(n)&&Pl(n)},Dv=n=>{kf(n.destination,[])},i2=n=>n===void 0||typeof n=="number"||typeof n=="string"&&(n==="balanced"||n==="interactive"||n==="playback"),s2=(n,t,e,i,s,r,o,a,l)=>class extends n{constructor(u={}){if(l===null)throw new Error("Missing the native AudioContext constructor.");let h;try{h=new l(u)}catch(_){throw _.code===12&&_.message==="sampleRate is not in range"?e():_}if(h===null)throw i();if(!i2(u.latencyHint))throw new TypeError(`The provided value '${u.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(u.sampleRate!==void 0&&h.sampleRate!==u.sampleRate)throw e();super(h,2);const{latencyHint:f}=u,{sampleRate:g}=h;if(this._baseLatency=typeof h.baseLatency=="number"?h.baseLatency:f==="balanced"?512/g:f==="interactive"||f===void 0?256/g:f==="playback"?1024/g:Math.max(2,Math.min(128,Math.round(f*g/128)))*128/g,this._nativeAudioContext=h,l.name==="webkitAudioContext"?(this._nativeGainNode=h.createGain(),this._nativeOscillatorNode=h.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(h.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,h.state==="running"){this._state="suspended";const _=()=>{this._state==="suspended"&&(this._state=null),h.removeEventListener("statechange",_)};h.addEventListener("statechange",_)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw t()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),Dv(this)}))}createMediaElementSource(u){return new s(this,{mediaElement:u})}createMediaStreamDestination(){return new r(this)}createMediaStreamSource(u){return new o(this,{mediaStream:u})}createMediaStreamTrackSource(u){return new a(this,{mediaStreamTrack:u})}resume(){return this._state==="suspended"?new Promise((u,h)=>{const f=()=>{this._nativeAudioContext.removeEventListener("statechange",f),this._nativeAudioContext.state==="running"?u():this.resume().then(u,h)};this._nativeAudioContext.addEventListener("statechange",f)}):this._nativeAudioContext.resume().catch(u=>{throw u===void 0||u.code===15?t():u})}suspend(){return this._nativeAudioContext.suspend().catch(u=>{throw u===void 0?t():u})}},r2=(n,t,e,i,s,r,o,a)=>class extends n{constructor(c,u){const h=r(c),f=o(h),g=s(h,u,f),_=f?t(a):null;super(c,!1,g,_),this._isNodeOfNativeOfflineAudioContext=f,this._nativeAudioDestinationNode=g}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(c){if(this._isNodeOfNativeOfflineAudioContext)throw i();if(c>this._nativeAudioDestinationNode.maxChannelCount)throw e();this._nativeAudioDestinationNode.channelCount=c}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(c){if(this._isNodeOfNativeOfflineAudioContext)throw i();this._nativeAudioDestinationNode.channelCountMode=c}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},o2=n=>{const t=new WeakMap,e=async(i,s)=>{const r=s.destination;return t.set(s,r),await n(i,s,r),r};return{render(i,s){const r=t.get(s);return r!==void 0?Promise.resolve(r):e(i,s)}}},a2=(n,t,e,i,s,r,o,a)=>(l,c)=>{const u=c.listener,h=()=>{const w=new Float32Array(1),k=t(c,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),P=o(c);let A=!1,I=[0,0,-1,0,1,0],W=[0,0,0];const R=()=>{if(A)return;A=!0;const at=i(c,256,9,0);at.onaudioprocess=({inputBuffer:nt})=>{const st=[r(nt,w,0),r(nt,w,1),r(nt,w,2),r(nt,w,3),r(nt,w,4),r(nt,w,5)];st.some((mt,V)=>mt!==I[V])&&(u.setOrientation(...st),I=st);const pt=[r(nt,w,6),r(nt,w,7),r(nt,w,8)];pt.some((mt,V)=>mt!==W[V])&&(u.setPosition(...pt),W=pt)},k.connect(at)},N=at=>nt=>{nt!==I[at]&&(I[at]=nt,u.setOrientation(...I))},Z=at=>nt=>{nt!==W[at]&&(W[at]=nt,u.setPosition(...W))},ot=(at,nt,st)=>{const pt=e(c,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:nt});pt.connect(k,0,at),pt.start(),Object.defineProperty(pt.offset,"defaultValue",{get(){return nt}});const mt=n({context:l},P,pt.offset,On,Ln);return a(mt,"value",V=>()=>V.call(mt),V=>F=>{try{V.call(mt,F)}catch(ft){if(ft.code!==9)throw ft}R(),P&&st(F)}),mt.cancelAndHoldAtTime=(V=>P?()=>{throw s()}:(...F)=>{const ft=V.apply(mt,F);return R(),ft})(mt.cancelAndHoldAtTime),mt.cancelScheduledValues=(V=>P?()=>{throw s()}:(...F)=>{const ft=V.apply(mt,F);return R(),ft})(mt.cancelScheduledValues),mt.exponentialRampToValueAtTime=(V=>P?()=>{throw s()}:(...F)=>{const ft=V.apply(mt,F);return R(),ft})(mt.exponentialRampToValueAtTime),mt.linearRampToValueAtTime=(V=>P?()=>{throw s()}:(...F)=>{const ft=V.apply(mt,F);return R(),ft})(mt.linearRampToValueAtTime),mt.setTargetAtTime=(V=>P?()=>{throw s()}:(...F)=>{const ft=V.apply(mt,F);return R(),ft})(mt.setTargetAtTime),mt.setValueAtTime=(V=>P?()=>{throw s()}:(...F)=>{const ft=V.apply(mt,F);return R(),ft})(mt.setValueAtTime),mt.setValueCurveAtTime=(V=>P?()=>{throw s()}:(...F)=>{const ft=V.apply(mt,F);return R(),ft})(mt.setValueCurveAtTime),mt};return{forwardX:ot(0,0,N(0)),forwardY:ot(1,0,N(1)),forwardZ:ot(2,-1,N(2)),positionX:ot(6,0,Z(0)),positionY:ot(7,0,Z(1)),positionZ:ot(8,0,Z(2)),upX:ot(3,0,N(3)),upY:ot(4,1,N(4)),upZ:ot(5,0,N(5))}},{forwardX:f,forwardY:g,forwardZ:_,positionX:m,positionY:b,positionZ:x,upX:T,upY:O,upZ:M}=u.forwardX===void 0?h():u;return{get forwardX(){return f},get forwardY(){return g},get forwardZ(){return _},get positionX(){return m},get positionY(){return b},get positionZ(){return x},get upX(){return T},get upY(){return O},get upZ(){return M}}},vu=n=>"context"in n,El=n=>vu(n[0]),Zr=(n,t,e,i)=>{for(const s of n)if(e(s)){if(i)return!1;throw Error("The set contains at least one similar element.")}return n.add(t),!0},uy=(n,t,[e,i],s)=>{Zr(n,[t,e,i],r=>r[0]===t&&r[1]===e,s)},hy=(n,[t,e,i],s)=>{const r=n.get(t);r===void 0?n.set(t,new Set([[e,i]])):Zr(r,[e,i],o=>o[0]===e,s)},Zo=n=>"inputs"in n,xu=(n,t,e,i)=>{if(Zo(t)){const s=t.inputs[i];return n.connect(s,e,0),[s,e,0]}return n.connect(t,e,i),[t,e,i]},Ev=(n,t,e)=>{for(const i of n)if(i[0]===t&&i[1]===e)return n.delete(i),i;return null},l2=(n,t,e)=>oh(n,i=>i[0]===t&&i[1]===e),Iv=(n,t)=>{if(!Ol(n).delete(t))throw new Error("Missing the expected event listener.")},Rv=(n,t,e)=>{const i=Ti(n,t),s=oh(i,r=>r[0]===e);return i.size===0&&n.delete(t),s},wu=(n,t,e,i)=>{Zo(t)?n.disconnect(t.inputs[i],e,0):n.disconnect(t,e,i)},Se=n=>Ti(Dp,n),al=n=>Ti(Ep,n),jr=n=>xf.has(n),qc=n=>!zo.has(n),dy=(n,t)=>new Promise(e=>{if(t!==null)e(!0);else{const i=n.createScriptProcessor(256,1,1),s=n.createGain(),r=n.createBuffer(1,2,44100),o=r.getChannelData(0);o[0]=1,o[1]=1;const a=n.createBufferSource();a.buffer=r,a.loop=!0,a.connect(i).connect(n.destination),a.connect(s),a.disconnect(s),i.onaudioprocess=l=>{const c=l.inputBuffer.getChannelData(0);Array.prototype.some.call(c,u=>u===1)?e(!0):e(!1),a.stop(),i.onaudioprocess=null,a.disconnect(i),i.disconnect(n.destination)},a.start()}}),Md=(n,t)=>{const e=new Map;for(const i of n)for(const s of i){const r=e.get(s);e.set(s,r===void 0?1:r+1)}e.forEach((i,s)=>t(s,i))},Su=n=>"context"in n,c2=n=>{const t=new Map;n.connect=(e=>(i,s=0,r=0)=>{const o=Su(i)?e(i,s,r):e(i,s),a=t.get(i);return a===void 0?t.set(i,[{input:r,output:s}]):a.every(l=>l.input!==r||l.output!==s)&&a.push({input:r,output:s}),o})(n.connect.bind(n)),n.disconnect=(e=>(i,s,r)=>{if(e.apply(n),i===void 0)t.clear();else if(typeof i=="number")for(const[o,a]of t){const l=a.filter(c=>c.output!==i);l.length===0?t.delete(o):t.set(o,l)}else if(t.has(i))if(s===void 0)t.delete(i);else{const o=t.get(i);if(o!==void 0){const a=o.filter(l=>l.output!==s&&(l.input!==r||r===void 0));a.length===0?t.delete(i):t.set(i,a)}}for(const[o,a]of t)a.forEach(l=>{Su(o)?n.connect(o,l.output,l.input):n.connect(o,l.output)})})(n.disconnect)},u2=(n,t,e,i)=>{const{activeInputs:s,passiveInputs:r}=Dl(t),{outputs:o}=En(n),a=Ol(n),l=c=>{const u=Se(n),h=al(t);if(c){const f=Rv(r,n,e);uy(s,n,f,!1),!i&&!jr(n)&&u.connect(h,e)}else{const f=l2(s,n,e);hy(r,f,!1),!i&&!jr(n)&&u.disconnect(h,e)}};return Zr(o,[t,e],c=>c[0]===t&&c[1]===e,!0)?(a.add(l),ds(n)?uy(s,n,[e,l],!0):hy(r,[n,e,l],!0),!0):!1},h2=(n,t,e,i)=>{const{activeInputs:s,passiveInputs:r}=En(t),o=Ev(s[i],n,e);return o===null?[Av(r,n,e,i)[2],!1]:[o[2],!0]},d2=(n,t,e)=>{const{activeInputs:i,passiveInputs:s}=Dl(t),r=Ev(i,n,e);return r===null?[Rv(s,n,e)[1],!1]:[r[2],!0]},Rp=(n,t,e,i,s)=>{const[r,o]=h2(n,e,i,s);if(r!==null&&(Iv(n,r),o&&!t&&!jr(n)&&wu(Se(n),Se(e),i,s)),ds(e)){const{activeInputs:a}=En(e);Tf(e,a)}},Np=(n,t,e,i)=>{const[s,r]=d2(n,e,i);s!==null&&(Iv(n,s),r&&!t&&!jr(n)&&Se(n).disconnect(al(e),i))},f2=(n,t)=>{const e=En(n),i=[];for(const s of e.outputs)El(s)?Rp(n,t,...s):Np(n,t,...s),i.push(s[0]);return e.outputs.clear(),i},p2=(n,t,e)=>{const i=En(n),s=[];for(const r of i.outputs)r[1]===e&&(El(r)?Rp(n,t,...r):Np(n,t,...r),s.push(r[0]),i.outputs.delete(r));return s},g2=(n,t,e,i,s)=>{const r=En(n);return Array.from(r.outputs).filter(o=>o[0]===e&&(i===void 0||o[1]===i)&&(s===void 0||o[2]===s)).map(o=>(El(o)?Rp(n,t,...o):Np(n,t,...o),r.outputs.delete(o),o[0]))},m2=(n,t,e,i,s,r,o,a,l,c,u,h,f,g,_,m)=>class extends c{constructor(x,T,O,M){super(O),this._context=x,this._nativeAudioNode=O;const w=u(x);h(w)&&e(dy,()=>dy(w,m))!==!0&&c2(O),Dp.set(this,O),Cv.set(this,new Set),x.state!=="closed"&&T&&qo(this),n(this,M,O)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(x){this._nativeAudioNode.channelCount=x}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(x){this._nativeAudioNode.channelCountMode=x}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(x){this._nativeAudioNode.channelInterpretation=x}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(x,T=0,O=0){if(T<0||T>=this._nativeAudioNode.numberOfOutputs)throw s();const M=u(this._context),w=_(M);if(f(x)||g(x))throw r();if(vu(x)){const A=Se(x);try{const W=xu(this._nativeAudioNode,A,T,O),R=qc(this);(w||R)&&this._nativeAudioNode.disconnect(...W),this.context.state!=="closed"&&!R&&qc(x)&&qo(x)}catch(W){throw W.code===12?r():W}if(t(this,x,T,O,w)){const W=l([this],x);Md(W,i(w))}return x}const k=al(x);if(k.name==="playbackRate"&&k.maxValue===1024)throw o();try{this._nativeAudioNode.connect(k,T),(w||qc(this))&&this._nativeAudioNode.disconnect(k,T)}catch(A){throw A.code===12?r():A}if(u2(this,x,T,w)){const A=l([this],x);Md(A,i(w))}}disconnect(x,T,O){let M;const w=u(this._context),k=_(w);if(x===void 0)M=f2(this,k);else if(typeof x=="number"){if(x<0||x>=this.numberOfOutputs)throw s();M=p2(this,k,x)}else{if(T!==void 0&&(T<0||T>=this.numberOfOutputs)||vu(x)&&O!==void 0&&(O<0||O>=x.numberOfInputs))throw s();if(M=g2(this,k,x,T,O),M.length===0)throw r()}for(const P of M){const A=l([this],P);Md(A,a)}}},_2=(n,t,e,i,s,r,o,a,l,c,u,h,f)=>(g,_,m,b=null,x=null)=>{const T=m.value,O=new MP(T),M=_?i(O):null,w={get defaultValue(){return T},get maxValue(){return b===null?m.maxValue:b},get minValue(){return x===null?m.minValue:x},get value(){return m.value},set value(k){m.value=k,w.setValueAtTime(k,g.context.currentTime)},cancelAndHoldAtTime(k){if(typeof m.cancelAndHoldAtTime=="function")M===null&&O.flush(g.context.currentTime),O.add(s(k)),m.cancelAndHoldAtTime(k);else{const P=Array.from(O).pop();M===null&&O.flush(g.context.currentTime),O.add(s(k));const A=Array.from(O).pop();m.cancelScheduledValues(k),P!==A&&A!==void 0&&(A.type==="exponentialRampToValue"?m.exponentialRampToValueAtTime(A.value,A.endTime):A.type==="linearRampToValue"?m.linearRampToValueAtTime(A.value,A.endTime):A.type==="setValue"?m.setValueAtTime(A.value,A.startTime):A.type==="setValueCurve"&&m.setValueCurveAtTime(A.values,A.startTime,A.duration))}return w},cancelScheduledValues(k){return M===null&&O.flush(g.context.currentTime),O.add(r(k)),m.cancelScheduledValues(k),w},exponentialRampToValueAtTime(k,P){if(k===0)throw new RangeError;if(!Number.isFinite(P)||P<0)throw new RangeError;const A=g.context.currentTime;return M===null&&O.flush(A),Array.from(O).length===0&&(O.add(c(T,A)),m.setValueAtTime(T,A)),O.add(o(k,P)),m.exponentialRampToValueAtTime(k,P),w},linearRampToValueAtTime(k,P){const A=g.context.currentTime;return M===null&&O.flush(A),Array.from(O).length===0&&(O.add(c(T,A)),m.setValueAtTime(T,A)),O.add(a(k,P)),m.linearRampToValueAtTime(k,P),w},setTargetAtTime(k,P,A){return M===null&&O.flush(g.context.currentTime),O.add(l(k,P,A)),m.setTargetAtTime(k,P,A),w},setValueAtTime(k,P){return M===null&&O.flush(g.context.currentTime),O.add(c(k,P)),m.setValueAtTime(k,P),w},setValueCurveAtTime(k,P,A){const I=k instanceof Float32Array?k:new Float32Array(k);if(h!==null&&h.name==="webkitAudioContext"){const W=P+A,R=g.context.sampleRate,N=Math.ceil(P*R),Z=Math.floor(W*R),ot=Z-N,at=new Float32Array(ot);for(let st=0;st<ot;st+=1){const pt=(I.length-1)/A*((N+st)/R-P),mt=Math.floor(pt),V=Math.ceil(pt);at[st]=mt===V?I[mt]:(1-(pt-mt))*I[mt]+(1-(V-pt))*I[V]}M===null&&O.flush(g.context.currentTime),O.add(u(at,P,A)),m.setValueCurveAtTime(at,P,A);const nt=Z/R;nt<W&&f(w,at[at.length-1],nt),f(w,I[I.length-1],W)}else M===null&&O.flush(g.context.currentTime),O.add(u(I,P,A)),m.setValueCurveAtTime(I,P,A);return w}};return e.set(w,m),t.set(w,g),n(w,M),w},y2=n=>({replay(t){for(const e of n)if(e.type==="exponentialRampToValue"){const{endTime:i,value:s}=e;t.exponentialRampToValueAtTime(s,i)}else if(e.type==="linearRampToValue"){const{endTime:i,value:s}=e;t.linearRampToValueAtTime(s,i)}else if(e.type==="setTarget"){const{startTime:i,target:s,timeConstant:r}=e;t.setTargetAtTime(s,i,r)}else if(e.type==="setValue"){const{startTime:i,value:s}=e;t.setValueAtTime(s,i)}else if(e.type==="setValueCurve"){const{duration:i,startTime:s,values:r}=e;t.setValueCurveAtTime(r,s,i)}else throw new Error("Can't apply an unknown automation.")}});class Nv{constructor(t){this._map=new Map(t)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(t,e=null){return this._map.forEach((i,s)=>t.call(e,i,s,this))}get(t){return this._map.get(t)}has(t){return this._map.has(t)}keys(){return this._map.keys()}values(){return this._map.values()}}const b2={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},v2=(n,t,e,i,s,r,o,a,l,c,u,h,f,g)=>class extends t{constructor(m,b,x){var T;const O=a(m),M=l(O),w=u({...b2,...x});f(w);const k=wf.get(O),P=k?.get(b),A=M||O.state!=="closed"?O:(T=o(O))!==null&&T!==void 0?T:O,I=s(A,M?null:m.baseLatency,c,b,P,w),W=M?i(b,w,P):null;super(m,!0,I,W);const R=[];I.parameters.forEach((Z,ot)=>{const at=e(this,M,Z);R.push([ot,at])}),this._nativeAudioWorkletNode=I,this._onprocessorerror=null,this._parameters=new Nv(R),M&&n(O,this);const{activeInputs:N}=r(this);h(I,N)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(m){const b=typeof m=="function"?g(this,m):null;this._nativeAudioWorkletNode.onprocessorerror=b;const x=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=x!==null&&x===b?m:x}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function Tu(n,t,e,i,s){if(typeof n.copyFromChannel=="function")t[e].byteLength===0&&(t[e]=new Float32Array(128)),n.copyFromChannel(t[e],i,s);else{const r=n.getChannelData(i);if(t[e].byteLength===0)t[e]=r.slice(s,s+128);else{const o=new Float32Array(r.buffer,s*Float32Array.BYTES_PER_ELEMENT,128);t[e].set(o)}}}const Fv=(n,t,e,i,s)=>{typeof n.copyToChannel=="function"?t[e].byteLength!==0&&n.copyToChannel(t[e],i,s):t[e].byteLength!==0&&n.getChannelData(i).set(t[e],s)},ku=(n,t)=>{const e=[];for(let i=0;i<n;i+=1){const s=[],r=typeof t=="number"?t:t[i];for(let o=0;o<r;o+=1)s.push(new Float32Array(128));e.push(s)}return e},x2=(n,t)=>{const e=Ti(Sf,n),i=Se(t);return Ti(e,i)},w2=async(n,t,e,i,s,r,o)=>{const a=t===null?Math.ceil(n.context.length/128)*128:t.length,l=i.channelCount*i.numberOfInputs,c=s.reduce((b,x)=>b+x,0),u=c===0?null:e.createBuffer(c,a,e.sampleRate);if(r===void 0)throw new Error("Missing the processor constructor.");const h=En(n),f=await x2(e,n),g=ku(i.numberOfInputs,i.channelCount),_=ku(i.numberOfOutputs,s),m=Array.from(n.parameters.keys()).reduce((b,x)=>({...b,[x]:new Float32Array(128)}),{});for(let b=0;b<a;b+=128){if(i.numberOfInputs>0&&t!==null)for(let x=0;x<i.numberOfInputs;x+=1)for(let T=0;T<i.channelCount;T+=1)Tu(t,g[x],T,T,b);r.parameterDescriptors!==void 0&&t!==null&&r.parameterDescriptors.forEach(({name:x},T)=>{Tu(t,m,x,l+T,b)});for(let x=0;x<i.numberOfInputs;x+=1)for(let T=0;T<s[x];T+=1)_[x][T].byteLength===0&&(_[x][T]=new Float32Array(128));try{const x=g.map((O,M)=>h.activeInputs[M].size===0?[]:O),T=o(b/e.sampleRate,e.sampleRate,()=>f.process(x,_,m));if(u!==null)for(let O=0,M=0;O<i.numberOfOutputs;O+=1){for(let w=0;w<s[O];w+=1)Fv(u,_[O],w,M+w,b);M+=s[O]}if(!T)break}catch(x){n.dispatchEvent(new ErrorEvent("processorerror",{colno:x.colno,filename:x.filename,lineno:x.lineno,message:x.message}));break}}return u},S2=(n,t,e,i,s,r,o,a,l,c,u,h,f,g,_,m)=>(b,x,T)=>{const O=new WeakMap;let M=null;const w=async(k,P)=>{let A=u(k),I=null;const W=kn(A,P),R=Array.isArray(x.outputChannelCount)?x.outputChannelCount:Array.from(x.outputChannelCount);if(h===null){const N=R.reduce((nt,st)=>nt+st,0),Z=s(P,{channelCount:Math.max(1,N),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,N)}),ot=[];for(let nt=0;nt<k.numberOfOutputs;nt+=1)ot.push(i(P,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:R[nt]}));const at=o(P,{channelCount:x.channelCount,channelCountMode:x.channelCountMode,channelInterpretation:x.channelInterpretation,gain:1});at.connect=t.bind(null,ot),at.disconnect=l.bind(null,ot),I=[Z,ot,at]}else W||(A=new h(P,b));if(O.set(P,I===null?A:I[2]),I!==null){if(M===null){if(T===void 0)throw new Error("Missing the processor constructor.");if(f===null)throw new Error("Missing the native OfflineAudioContext constructor.");const st=k.channelCount*k.numberOfInputs,pt=T.parameterDescriptors===void 0?0:T.parameterDescriptors.length,mt=st+pt;M=w2(k,mt===0?null:await(async()=>{const F=new f(mt,Math.ceil(k.context.length/128)*128,P.sampleRate),ft=[],Mt=[];for(let Tt=0;Tt<x.numberOfInputs;Tt+=1)ft.push(o(F,{channelCount:x.channelCount,channelCountMode:x.channelCountMode,channelInterpretation:x.channelInterpretation,gain:1})),Mt.push(s(F,{channelCount:x.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:x.channelCount}));const Ot=await Promise.all(Array.from(k.parameters.values()).map(async Tt=>{const Et=r(F,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:Tt.value});return await g(F,Tt,Et.offset),Et})),_t=i(F,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,st+pt)});for(let Tt=0;Tt<x.numberOfInputs;Tt+=1){ft[Tt].connect(Mt[Tt]);for(let Et=0;Et<x.channelCount;Et+=1)Mt[Tt].connect(_t,Et,Tt*x.channelCount+Et)}for(const[Tt,Et]of Ot.entries())Et.connect(_t,0,st+Tt),Et.start(0);return _t.connect(F.destination),await Promise.all(ft.map(Tt=>_(k,F,Tt))),m(F)})(),P,x,R,T,c)}const N=await M,Z=e(P,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[ot,at,nt]=I;N!==null&&(Z.buffer=N,Z.start(0)),Z.connect(ot);for(let st=0,pt=0;st<k.numberOfOutputs;st+=1){const mt=at[st];for(let V=0;V<R[st];V+=1)ot.connect(mt,pt+V,V);pt+=R[st]}return nt}if(W)for(const[N,Z]of k.parameters.entries())await n(P,Z,A.parameters.get(N));else for(const[N,Z]of k.parameters.entries())await g(P,Z,A.parameters.get(N));return await _(k,P,A),A};return{render(k,P){a(P,k);const A=O.get(P);return A!==void 0?Promise.resolve(A):w(k,P)}}},T2=(n,t,e,i,s,r,o,a,l,c,u,h,f,g,_,m,b,x,T,O)=>class extends _{constructor(w,k){super(w,k),this._nativeContext=w,this._audioWorklet=n===void 0?void 0:{addModule:(P,A)=>n(this,P,A)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new t(this)}createBiquadFilter(){return new s(this)}createBuffer(w,k,P){return new e({length:k,numberOfChannels:w,sampleRate:P})}createBufferSource(){return new i(this)}createChannelMerger(w=6){return new r(this,{numberOfInputs:w})}createChannelSplitter(w=6){return new o(this,{numberOfOutputs:w})}createConstantSource(){return new a(this)}createConvolver(){return new l(this)}createDelay(w=1){return new u(this,{maxDelayTime:w})}createDynamicsCompressor(){return new h(this)}createGain(){return new f(this)}createIIRFilter(w,k){return new g(this,{feedback:k,feedforward:w})}createOscillator(){return new m(this)}createPanner(){return new b(this)}createPeriodicWave(w,k,P={disableNormalization:!1}){return new x(this,{...P,imag:k,real:w})}createStereoPanner(){return new T(this)}createWaveShaper(){return new O(this)}decodeAudioData(w,k,P){return c(this._nativeContext,w).then(A=>(typeof k=="function"&&k(A),A),A=>{throw typeof P=="function"&&P(A),A})}},k2={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},C2=(n,t,e,i,s,r,o,a)=>class extends n{constructor(c,u){const h=r(c),f={...k2,...u},g=s(h,f),_=o(h),m=_?e():null;super(c,!1,g,m),this._Q=t(this,_,g.Q,On,Ln),this._detune=t(this,_,g.detune,1200*Math.log2(On),-1200*Math.log2(On)),this._frequency=t(this,_,g.frequency,c.sampleRate/2,0),this._gain=t(this,_,g.gain,40*Math.log10(On),Ln),this._nativeBiquadFilterNode=g,a(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(c){this._nativeBiquadFilterNode.type=c}getFrequencyResponse(c,u,h){try{this._nativeBiquadFilterNode.getFrequencyResponse(c,u,h)}catch(f){throw f.code===11?i():f}if(c.length!==u.length||u.length!==h.length)throw i()}},M2=(n,t,e,i,s)=>()=>{const r=new WeakMap,o=async(a,l)=>{let c=e(a);const u=kn(c,l);if(!u){const h={Q:c.Q.value,channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,detune:c.detune.value,frequency:c.frequency.value,gain:c.gain.value,type:c.type};c=t(l,h)}return r.set(l,c),u?(await n(l,a.Q,c.Q),await n(l,a.detune,c.detune),await n(l,a.frequency,c.frequency),await n(l,a.gain,c.gain)):(await i(l,a.Q,c.Q),await i(l,a.detune,c.detune),await i(l,a.frequency,c.frequency),await i(l,a.gain,c.gain)),await s(a,l,c),c};return{render(a,l){const c=r.get(l);return c!==void 0?Promise.resolve(c):o(a,l)}}},A2=(n,t)=>(e,i)=>{const s=t.get(e);if(s!==void 0)return s;const r=n.get(e);if(r!==void 0)return r;try{const o=i();return o instanceof Promise?(n.set(e,o),o.catch(()=>!1).then(a=>(n.delete(e),t.set(e,a),a))):(t.set(e,o),o)}catch{return t.set(e,!1),!1}},O2={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},P2=(n,t,e,i,s)=>class extends n{constructor(o,a){const l=i(o),c={...O2,...a},u=e(l,c),h=s(l)?t():null;super(o,!1,u,h)}},D2=(n,t,e)=>()=>{const i=new WeakMap,s=async(r,o)=>{let a=t(r);if(!kn(a,o)){const c={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfInputs:a.numberOfInputs};a=n(o,c)}return i.set(o,a),await e(r,o,a),a};return{render(r,o){const a=i.get(o);return a!==void 0?Promise.resolve(a):s(r,o)}}},E2={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},I2=(n,t,e,i,s,r)=>class extends n{constructor(a,l){const c=i(a),u=r({...E2,...l}),h=e(c,u),f=s(c)?t():null;super(a,!1,h,f)}},R2=(n,t,e)=>()=>{const i=new WeakMap,s=async(r,o)=>{let a=t(r);if(!kn(a,o)){const c={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfOutputs:a.numberOfOutputs};a=n(o,c)}return i.set(o,a),await e(r,o,a),a};return{render(r,o){const a=i.get(o);return a!==void 0?Promise.resolve(a):s(r,o)}}},N2=n=>(t,e,i)=>n(e,t,i),F2=n=>(t,e,i=0,s=0)=>{const r=t[i];if(r===void 0)throw n();return Su(e)?r.connect(e,0,s):r.connect(e,0)},L2=n=>(t,e)=>{const i=n(t,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),s=t.createBuffer(1,2,44100);return i.buffer=s,i.loop=!0,i.connect(e),i.start(),()=>{i.stop(),i.disconnect(e)}},V2={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},B2=(n,t,e,i,s,r,o)=>class extends n{constructor(l,c){const u=s(l),h={...V2,...c},f=i(u,h),g=r(u),_=g?e():null;super(l,!1,f,_),this._constantSourceNodeRenderer=_,this._nativeConstantSourceNode=f,this._offset=t(this,g,f.offset,On,Ln),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(l){const c=typeof l=="function"?o(this,l):null;this._nativeConstantSourceNode.onended=c;const u=this._nativeConstantSourceNode.onended;this._onended=u!==null&&u===c?l:u}start(l=0){if(this._nativeConstantSourceNode.start(l),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=l),this.context.state!=="closed"){qo(this);const c=()=>{this._nativeConstantSourceNode.removeEventListener("ended",c),ds(this)&&Pl(this)};this._nativeConstantSourceNode.addEventListener("ended",c)}}stop(l=0){this._nativeConstantSourceNode.stop(l),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=l)}},W2=(n,t,e,i,s)=>()=>{const r=new WeakMap;let o=null,a=null;const l=async(c,u)=>{let h=e(c);const f=kn(h,u);if(!f){const g={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,offset:h.offset.value};h=t(u,g),o!==null&&h.start(o),a!==null&&h.stop(a)}return r.set(u,h),f?await n(u,c.offset,h.offset):await i(u,c.offset,h.offset),await s(c,u,h),h};return{set start(c){o=c},set stop(c){a=c},render(c,u){const h=r.get(u);return h!==void 0?Promise.resolve(h):l(c,u)}}},j2=n=>t=>(n[0]=t,n[0]),z2={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},q2=(n,t,e,i,s,r)=>class extends n{constructor(a,l){const c=i(a),u={...z2,...l},h=e(c,u),g=s(c)?t():null;super(a,!1,h,g),this._isBufferNullified=!1,this._nativeConvolverNode=h,u.buffer!==null&&r(this,u.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(a){if(this._nativeConvolverNode.buffer=a,a===null&&this._nativeConvolverNode.buffer!==null){const l=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=l.createBuffer(1,1,l.sampleRate),this._isBufferNullified=!0,r(this,0)}else this._isBufferNullified=!1,r(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(a){this._nativeConvolverNode.normalize=a}},$2=(n,t,e)=>()=>{const i=new WeakMap,s=async(r,o)=>{let a=t(r);if(!kn(a,o)){const c={buffer:a.buffer,channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,disableNormalization:!a.normalize};a=n(o,c)}return i.set(o,a),Zo(a)?await e(r,o,a.inputs[0]):await e(r,o,a),a};return{render(r,o){const a=i.get(o);return a!==void 0?Promise.resolve(a):s(r,o)}}},U2=(n,t)=>(e,i,s)=>{if(t===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new t(e,i,s)}catch(r){throw r.name==="SyntaxError"?n():r}},H2=()=>new DOMException("","DataCloneError"),fy=n=>{const{port1:t,port2:e}=new MessageChannel;return new Promise(i=>{const s=()=>{e.onmessage=null,t.close(),e.close(),i()};e.onmessage=()=>s();try{t.postMessage(n,[n])}catch{}finally{s()}})},K2=(n,t,e,i,s,r,o,a,l,c,u)=>(h,f)=>{const g=o(h)?h:r(h);if(s.has(f)){const _=e();return Promise.reject(_)}try{s.add(f)}catch{}return t(l,()=>l(g))?g.decodeAudioData(f).then(_=>(fy(f).catch(()=>{}),t(a,()=>a(_))||u(_),n.add(_),_)):new Promise((_,m)=>{const b=async()=>{try{await fy(f)}catch{}},x=T=>{m(T),b()};try{g.decodeAudioData(f,T=>{typeof T.copyFromChannel!="function"&&(c(T),Ip(T)),n.add(T),b().then(()=>_(T))},T=>{x(T===null?i():T)})}catch(T){x(T)}})},Y2=(n,t,e,i,s,r,o,a)=>(l,c)=>{const u=t.get(l);if(u===void 0)throw new Error("Missing the expected cycle count.");const h=r(l.context),f=a(h);if(u===c){if(t.delete(l),!f&&o(l)){const g=i(l),{outputs:_}=e(l);for(const m of _)if(El(m)){const b=i(m[0]);n(g,b,m[1],m[2])}else{const b=s(m[0]);g.connect(b,m[1])}}}else t.set(l,u-c)},G2={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},X2=(n,t,e,i,s,r,o)=>class extends n{constructor(l,c){const u=s(l),h={...G2,...c},f=i(u,h),g=r(u),_=g?e(h.maxDelayTime):null;super(l,!1,f,_),this._delayTime=t(this,g,f.delayTime),o(this,h.maxDelayTime)}get delayTime(){return this._delayTime}},Z2=(n,t,e,i,s)=>r=>{const o=new WeakMap,a=async(l,c)=>{let u=e(l);const h=kn(u,c);if(!h){const f={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,delayTime:u.delayTime.value,maxDelayTime:r};u=t(c,f)}return o.set(c,u),h?await n(c,l.delayTime,u.delayTime):await i(c,l.delayTime,u.delayTime),await s(l,c,u),u};return{render(l,c){const u=o.get(c);return u!==void 0?Promise.resolve(u):a(l,c)}}},Q2=n=>(t,e,i,s)=>n(t[s],r=>r[0]===e&&r[1]===i),J2=n=>(t,e)=>{n(t).delete(e)},tD=n=>"delayTime"in n,eD=(n,t,e)=>function i(s,r){const o=vu(r)?r:e(n,r);if(tD(o))return[];if(s[0]===o)return[s];if(s.includes(o))return[];const{outputs:a}=t(o);return Array.from(a).map(l=>i([...s,o],l[0])).reduce((l,c)=>l.concat(c),[])},Ac=(n,t,e)=>{const i=t[e];if(i===void 0)throw n();return i},nD=n=>(t,e=void 0,i=void 0,s=0)=>e===void 0?t.forEach(r=>r.disconnect()):typeof e=="number"?Ac(n,t,e).disconnect():Su(e)?i===void 0?t.forEach(r=>r.disconnect(e)):s===void 0?Ac(n,t,i).disconnect(e,0):Ac(n,t,i).disconnect(e,0,s):i===void 0?t.forEach(r=>r.disconnect(e)):Ac(n,t,i).disconnect(e,0),iD={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},sD=(n,t,e,i,s,r,o,a)=>class extends n{constructor(c,u){const h=r(c),f={...iD,...u},g=i(h,f),_=o(h),m=_?e():null;super(c,!1,g,m),this._attack=t(this,_,g.attack),this._knee=t(this,_,g.knee),this._nativeDynamicsCompressorNode=g,this._ratio=t(this,_,g.ratio),this._release=t(this,_,g.release),this._threshold=t(this,_,g.threshold),a(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(c){const u=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=c,c>2)throw this._nativeDynamicsCompressorNode.channelCount=u,s()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(c){const u=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=c,c==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=u,s()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},rD=(n,t,e,i,s)=>()=>{const r=new WeakMap,o=async(a,l)=>{let c=e(a);const u=kn(c,l);if(!u){const h={attack:c.attack.value,channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,knee:c.knee.value,ratio:c.ratio.value,release:c.release.value,threshold:c.threshold.value};c=t(l,h)}return r.set(l,c),u?(await n(l,a.attack,c.attack),await n(l,a.knee,c.knee),await n(l,a.ratio,c.ratio),await n(l,a.release,c.release),await n(l,a.threshold,c.threshold)):(await i(l,a.attack,c.attack),await i(l,a.knee,c.knee),await i(l,a.ratio,c.ratio),await i(l,a.release,c.release),await i(l,a.threshold,c.threshold)),await s(a,l,c),c};return{render(a,l){const c=r.get(l);return c!==void 0?Promise.resolve(c):o(a,l)}}},oD=()=>new DOMException("","EncodingError"),aD=n=>t=>new Promise((e,i)=>{if(n===null){i(new SyntaxError);return}const s=n.document.head;if(s===null)i(new SyntaxError);else{const r=n.document.createElement("script"),o=new Blob([t],{type:"application/javascript"}),a=URL.createObjectURL(o),l=n.onerror,c=()=>{n.onerror=l,URL.revokeObjectURL(a)};n.onerror=(u,h,f,g,_)=>{if(h===a||h===n.location.href&&f===1&&g===1)return c(),i(_),!1;if(l!==null)return l(u,h,f,g,_)},r.onerror=()=>{c(),i(new SyntaxError)},r.onload=()=>{c(),e()},r.src=a,r.type="module",s.appendChild(r)}}),lD=n=>class{constructor(e){this._nativeEventTarget=e,this._listeners=new WeakMap}addEventListener(e,i,s){if(i!==null){let r=this._listeners.get(i);r===void 0&&(r=n(this,i),typeof i=="function"&&this._listeners.set(i,r)),this._nativeEventTarget.addEventListener(e,r,s)}}dispatchEvent(e){return this._nativeEventTarget.dispatchEvent(e)}removeEventListener(e,i,s){const r=i===null?void 0:this._listeners.get(i);this._nativeEventTarget.removeEventListener(e,r===void 0?null:r,s)}},cD=n=>(t,e,i)=>{Object.defineProperties(n,{currentFrame:{configurable:!0,get(){return Math.round(t*e)}},currentTime:{configurable:!0,get(){return t}}});try{return i()}finally{n!==null&&(delete n.currentFrame,delete n.currentTime)}},uD=n=>async t=>{try{const e=await fetch(t);if(e.ok)return[await e.text(),e.url]}catch{}throw n()},hD={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},dD=(n,t,e,i,s,r)=>class extends n{constructor(a,l){const c=s(a),u={...hD,...l},h=i(c,u),f=r(c),g=f?e():null;super(a,!1,h,g),this._gain=t(this,f,h.gain,On,Ln)}get gain(){return this._gain}},fD=(n,t,e,i,s)=>()=>{const r=new WeakMap,o=async(a,l)=>{let c=e(a);const u=kn(c,l);if(!u){const h={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,gain:c.gain.value};c=t(l,h)}return r.set(l,c),u?await n(l,a.gain,c.gain):await i(l,a.gain,c.gain),await s(a,l,c),c};return{render(a,l){const c=r.get(l);return c!==void 0?Promise.resolve(c):o(a,l)}}},pD=(n,t)=>e=>t(n,e),gD=n=>t=>{const e=n(t);if(e.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return e.renderer},mD=n=>t=>{var e;return(e=n.get(t))!==null&&e!==void 0?e:0},_D=n=>t=>{const e=n(t);if(e.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return e.renderer},yD=n=>t=>n.get(t),an=()=>new DOMException("","InvalidStateError"),bD=n=>t=>{const e=n.get(t);if(e===void 0)throw an();return e},vD=(n,t)=>e=>{let i=n.get(e);if(i!==void 0)return i;if(t===null)throw new Error("Missing the native OfflineAudioContext constructor.");return i=new t(1,1,44100),n.set(e,i),i},xD=n=>t=>{const e=n.get(t);if(e===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return e},ah=()=>new DOMException("","InvalidAccessError"),wD=n=>{n.getFrequencyResponse=(t=>(e,i,s)=>{if(e.length!==i.length||i.length!==s.length)throw ah();return t.call(n,e,i,s)})(n.getFrequencyResponse)},SD={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},TD=(n,t,e,i,s,r)=>class extends n{constructor(a,l){const c=i(a),u=s(c),h={...SD,...l},f=t(c,u?null:a.baseLatency,h),g=u?e(h.feedback,h.feedforward):null;super(a,!1,f,g),wD(f),this._nativeIIRFilterNode=f,r(this,1)}getFrequencyResponse(a,l,c){return this._nativeIIRFilterNode.getFrequencyResponse(a,l,c)}},Lv=(n,t,e,i,s,r,o,a,l,c,u)=>{const h=c.length;let f=a;for(let g=0;g<h;g+=1){let _=e[0]*c[g];for(let m=1;m<s;m+=1){const b=f-m&l-1;_+=e[m]*r[b],_-=n[m]*o[b]}for(let m=s;m<i;m+=1)_+=e[m]*r[f-m&l-1];for(let m=s;m<t;m+=1)_-=n[m]*o[f-m&l-1];r[f]=c[g],o[f]=_,f=f+1&l-1,u[g]=_}return f},kD=(n,t,e,i)=>{const s=e instanceof Float64Array?e:new Float64Array(e),r=i instanceof Float64Array?i:new Float64Array(i),o=s.length,a=r.length,l=Math.min(o,a);if(s[0]!==1){for(let _=0;_<o;_+=1)r[_]/=s[0];for(let _=1;_<a;_+=1)s[_]/=s[0]}const c=32,u=new Float32Array(c),h=new Float32Array(c),f=t.createBuffer(n.numberOfChannels,n.length,n.sampleRate),g=n.numberOfChannels;for(let _=0;_<g;_+=1){const m=n.getChannelData(_),b=f.getChannelData(_);u.fill(0),h.fill(0),Lv(s,o,r,a,l,u,h,0,c,m,b)}return f},CD=(n,t,e,i,s)=>(r,o)=>{const a=new WeakMap;let l=null;const c=async(u,h)=>{let f=null,g=t(u);const _=kn(g,h);if(h.createIIRFilter===void 0?f=n(h,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):_||(g=h.createIIRFilter(o,r)),a.set(h,f===null?g:f),f!==null){if(l===null){if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");const b=new e(u.context.destination.channelCount,u.context.length,h.sampleRate);l=(async()=>{await i(u,b,b.destination);const x=await s(b);return kD(x,h,r,o)})()}const m=await l;return f.buffer=m,f.start(0),f}return await i(u,h,g),g};return{render(u,h){const f=a.get(h);return f!==void 0?Promise.resolve(f):c(u,h)}}},MD=(n,t,e,i,s,r)=>o=>(a,l)=>{const c=n.get(a);if(c===void 0){if(!o&&r(a)){const u=i(a),{outputs:h}=e(a);for(const f of h)if(El(f)){const g=i(f[0]);t(u,g,f[1],f[2])}else{const g=s(f[0]);u.disconnect(g,f[1])}}n.set(a,l)}else n.set(a,c+l)},AD=(n,t)=>e=>{const i=n.get(e);return t(i)||t(e)},OD=(n,t)=>e=>n.has(e)||t(e),PD=(n,t)=>e=>n.has(e)||t(e),DD=(n,t)=>e=>{const i=n.get(e);return t(i)||t(e)},ED=n=>t=>n!==null&&t instanceof n,ID=n=>t=>n!==null&&typeof n.AudioNode=="function"&&t instanceof n.AudioNode,RD=n=>t=>n!==null&&typeof n.AudioParam=="function"&&t instanceof n.AudioParam,ND=(n,t)=>e=>n(e)||t(e),FD=n=>t=>n!==null&&t instanceof n,LD=n=>n!==null&&n.isSecureContext,VD=(n,t,e,i)=>class extends n{constructor(r,o){const a=e(r),l=t(a,o);if(i(a))throw TypeError();super(r,!0,l,null),this._nativeMediaElementAudioSourceNode=l}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},BD={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},WD=(n,t,e,i)=>class extends n{constructor(r,o){const a=e(r);if(i(a))throw new TypeError;const l={...BD,...o},c=t(a,l);super(r,!1,c,null),this._nativeMediaStreamAudioDestinationNode=c}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},jD=(n,t,e,i)=>class extends n{constructor(r,o){const a=e(r),l=t(a,o);if(i(a))throw new TypeError;super(r,!0,l,null),this._nativeMediaStreamAudioSourceNode=l}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},zD=(n,t,e)=>class extends n{constructor(s,r){const o=e(s),a=t(o,r);super(s,!0,a,null)}},qD=(n,t,e,i,s,r)=>class extends e{constructor(a,l){super(a),this._nativeContext=a,rh.set(this,a),i(a)&&s.set(a,new Set),this._destination=new n(this,l),this._listener=t(this,a),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(a){const l=typeof a=="function"?r(this,a):null;this._nativeContext.onstatechange=l;const c=this._nativeContext.onstatechange;this._onstatechange=c!==null&&c===l?a:c}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},ll=n=>{const t=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const e=n.decodeAudioData(t.buffer,()=>{});return e===void 0?!1:(e.catch(()=>{}),!0)}catch{}return!1},$D=(n,t)=>(e,i,s)=>{const r=new Set;return e.connect=(o=>(a,l=0,c=0)=>{const u=r.size===0;if(t(a))return o.call(e,a,l,c),n(r,[a,l,c],h=>h[0]===a&&h[1]===l&&h[2]===c,!0),u&&i(),a;o.call(e,a,l),n(r,[a,l],h=>h[0]===a&&h[1]===l,!0),u&&i()})(e.connect),e.disconnect=(o=>(a,l,c)=>{const u=r.size>0;if(a===void 0)o.apply(e),r.clear();else if(typeof a=="number"){o.call(e,a);for(const f of r)f[1]===a&&r.delete(f)}else{t(a)?o.call(e,a,l,c):o.call(e,a,l);for(const f of r)f[0]===a&&(l===void 0||f[1]===l)&&(c===void 0||f[2]===c)&&r.delete(f)}const h=r.size===0;u&&h&&s()})(e.disconnect),e},Me=(n,t,e)=>{const i=t[e];i!==void 0&&i!==n[e]&&(n[e]=i)},tn=(n,t)=>{Me(n,t,"channelCount"),Me(n,t,"channelCountMode"),Me(n,t,"channelInterpretation")},py=n=>typeof n.getFloatTimeDomainData=="function",UD=n=>{n.getFloatTimeDomainData=t=>{const e=new Uint8Array(t.length);n.getByteTimeDomainData(e);const i=Math.max(e.length,n.fftSize);for(let s=0;s<i;s+=1)t[s]=(e[s]-128)*.0078125;return t}},HD=(n,t)=>(e,i)=>{const s=e.createAnalyser();if(tn(s,i),!(i.maxDecibels>i.minDecibels))throw t();return Me(s,i,"fftSize"),Me(s,i,"maxDecibels"),Me(s,i,"minDecibels"),Me(s,i,"smoothingTimeConstant"),n(py,()=>py(s))||UD(s),s},KD=n=>n===null?null:n.hasOwnProperty("AudioBuffer")?n.AudioBuffer:null,Ne=(n,t,e)=>{const i=t[e];i!==void 0&&i!==n[e].value&&(n[e].value=i)},YD=n=>{n.start=(t=>{let e=!1;return(i=0,s=0,r)=>{if(e)throw an();t.call(n,i,s,r),e=!0}})(n.start)},Fp=n=>{n.start=(t=>(e=0,i=0,s)=>{if(typeof s=="number"&&s<0||i<0||e<0)throw new RangeError("The parameters can't be negative.");t.call(n,e,i,s)})(n.start)},Lp=n=>{n.stop=(t=>(e=0)=>{if(e<0)throw new RangeError("The parameter can't be negative.");t.call(n,e)})(n.stop)},GD=(n,t,e,i,s,r,o,a,l,c,u)=>(h,f)=>{const g=h.createBufferSource();return tn(g,f),Ne(g,f,"playbackRate"),Me(g,f,"buffer"),Me(g,f,"loop"),Me(g,f,"loopEnd"),Me(g,f,"loopStart"),t(e,()=>e(h))||YD(g),t(i,()=>i(h))||l(g),t(s,()=>s(h))||c(g,h),t(r,()=>r(h))||Fp(g),t(o,()=>o(h))||u(g,h),t(a,()=>a(h))||Lp(g),n(h,g),g},XD=n=>n===null?null:n.hasOwnProperty("AudioContext")?n.AudioContext:n.hasOwnProperty("webkitAudioContext")?n.webkitAudioContext:null,ZD=(n,t)=>(e,i,s)=>{const r=e.destination;if(r.channelCount!==i)try{r.channelCount=i}catch{}s&&r.channelCountMode!=="explicit"&&(r.channelCountMode="explicit"),r.maxChannelCount===0&&Object.defineProperty(r,"maxChannelCount",{value:i});const o=n(e,{channelCount:i,channelCountMode:r.channelCountMode,channelInterpretation:r.channelInterpretation,gain:1});return t(o,"channelCount",a=>()=>a.call(o),a=>l=>{a.call(o,l);try{r.channelCount=l}catch(c){if(l>r.maxChannelCount)throw c}}),t(o,"channelCountMode",a=>()=>a.call(o),a=>l=>{a.call(o,l),r.channelCountMode=l}),t(o,"channelInterpretation",a=>()=>a.call(o),a=>l=>{a.call(o,l),r.channelInterpretation=l}),Object.defineProperty(o,"maxChannelCount",{get:()=>r.maxChannelCount}),o.connect(r),o},QD=n=>n===null?null:n.hasOwnProperty("AudioWorkletNode")?n.AudioWorkletNode:null,JD=n=>{const{port1:t}=new MessageChannel;try{t.postMessage(n)}finally{t.close()}},tE=(n,t,e,i,s)=>(r,o,a,l,c,u)=>{if(a!==null)try{const h=new a(r,l,u),f=new Map;let g=null;if(Object.defineProperties(h,{channelCount:{get:()=>u.channelCount,set:()=>{throw n()}},channelCountMode:{get:()=>"explicit",set:()=>{throw n()}},onprocessorerror:{get:()=>g,set:_=>{typeof g=="function"&&h.removeEventListener("processorerror",g),g=typeof _=="function"?_:null,typeof g=="function"&&h.addEventListener("processorerror",g)}}}),h.addEventListener=(_=>(...m)=>{if(m[0]==="processorerror"){const b=typeof m[1]=="function"?m[1]:typeof m[1]=="object"&&m[1]!==null&&typeof m[1].handleEvent=="function"?m[1].handleEvent:null;if(b!==null){const x=f.get(m[1]);x!==void 0?m[1]=x:(m[1]=T=>{T.type==="error"?(Object.defineProperties(T,{type:{value:"processorerror"}}),b(T)):b(new ErrorEvent(m[0],{...T}))},f.set(b,m[1]))}}return _.call(h,"error",m[1],m[2]),_.call(h,...m)})(h.addEventListener),h.removeEventListener=(_=>(...m)=>{if(m[0]==="processorerror"){const b=f.get(m[1]);b!==void 0&&(f.delete(m[1]),m[1]=b)}return _.call(h,"error",m[1],m[2]),_.call(h,m[0],m[1],m[2])})(h.removeEventListener),u.numberOfOutputs!==0){const _=e(r,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return h.connect(_).connect(r.destination),s(h,()=>_.disconnect(),()=>_.connect(r.destination))}return h}catch(h){throw h.code===11?i():h}if(c===void 0)throw i();return JD(u),t(r,o,c,u)},Vv=(n,t)=>n===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(n*t))))),eE=n=>new Promise((t,e)=>{const{port1:i,port2:s}=new MessageChannel;i.onmessage=({data:r})=>{i.close(),s.close(),t(r)},i.onmessageerror=({data:r})=>{i.close(),s.close(),e(r)},s.postMessage(n)}),nE=async(n,t)=>{const e=await eE(t);return new n(e)},iE=(n,t,e,i)=>{let s=Sf.get(n);s===void 0&&(s=new WeakMap,Sf.set(n,s));const r=nE(e,i);return s.set(t,r),r},sE=(n,t,e,i,s,r,o,a,l,c,u,h,f)=>(g,_,m,b)=>{if(b.numberOfInputs===0&&b.numberOfOutputs===0)throw l();const x=Array.isArray(b.outputChannelCount)?b.outputChannelCount:Array.from(b.outputChannelCount);if(x.some(H=>H<1))throw l();if(x.length!==b.numberOfOutputs)throw t();if(b.channelCountMode!=="explicit")throw l();const T=b.channelCount*b.numberOfInputs,O=x.reduce((H,J)=>H+J,0),M=m.parameterDescriptors===void 0?0:m.parameterDescriptors.length;if(T+M>6||O>6)throw l();const w=new MessageChannel,k=[],P=[];for(let H=0;H<b.numberOfInputs;H+=1)k.push(o(g,{channelCount:b.channelCount,channelCountMode:b.channelCountMode,channelInterpretation:b.channelInterpretation,gain:1})),P.push(s(g,{channelCount:b.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:b.channelCount}));const A=[];if(m.parameterDescriptors!==void 0)for(const{defaultValue:H,maxValue:J,minValue:rt,name:gt}of m.parameterDescriptors){const lt=r(g,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:b.parameterData[gt]!==void 0?b.parameterData[gt]:H===void 0?0:H});Object.defineProperties(lt.offset,{defaultValue:{get:()=>H===void 0?0:H},maxValue:{get:()=>J===void 0?On:J},minValue:{get:()=>rt===void 0?Ln:rt}}),A.push(lt)}const I=i(g,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,T+M)}),W=Vv(_,g.sampleRate),R=a(g,W,T+M,Math.max(1,O)),N=s(g,{channelCount:Math.max(1,O),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,O)}),Z=[];for(let H=0;H<b.numberOfOutputs;H+=1)Z.push(i(g,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:x[H]}));for(let H=0;H<b.numberOfInputs;H+=1){k[H].connect(P[H]);for(let J=0;J<b.channelCount;J+=1)P[H].connect(I,J,H*b.channelCount+J)}const ot=new Nv(m.parameterDescriptors===void 0?[]:m.parameterDescriptors.map(({name:H},J)=>{const rt=A[J];return rt.connect(I,0,T+J),rt.start(0),[H,rt.offset]}));I.connect(R);let at=b.channelInterpretation,nt=null;const st=b.numberOfOutputs===0?[R]:Z,pt={get bufferSize(){return W},get channelCount(){return b.channelCount},set channelCount(H){throw e()},get channelCountMode(){return b.channelCountMode},set channelCountMode(H){throw e()},get channelInterpretation(){return at},set channelInterpretation(H){for(const J of k)J.channelInterpretation=H;at=H},get context(){return R.context},get inputs(){return k},get numberOfInputs(){return b.numberOfInputs},get numberOfOutputs(){return b.numberOfOutputs},get onprocessorerror(){return nt},set onprocessorerror(H){typeof nt=="function"&&pt.removeEventListener("processorerror",nt),nt=typeof H=="function"?H:null,typeof nt=="function"&&pt.addEventListener("processorerror",nt)},get parameters(){return ot},get port(){return w.port2},addEventListener(...H){return R.addEventListener(H[0],H[1],H[2])},connect:n.bind(null,st),disconnect:c.bind(null,st),dispatchEvent(...H){return R.dispatchEvent(H[0])},removeEventListener(...H){return R.removeEventListener(H[0],H[1],H[2])}},mt=new Map;w.port1.addEventListener=(H=>(...J)=>{if(J[0]==="message"){const rt=typeof J[1]=="function"?J[1]:typeof J[1]=="object"&&J[1]!==null&&typeof J[1].handleEvent=="function"?J[1].handleEvent:null;if(rt!==null){const gt=mt.get(J[1]);gt!==void 0?J[1]=gt:(J[1]=lt=>{u(g.currentTime,g.sampleRate,()=>rt(lt))},mt.set(rt,J[1]))}}return H.call(w.port1,J[0],J[1],J[2])})(w.port1.addEventListener),w.port1.removeEventListener=(H=>(...J)=>{if(J[0]==="message"){const rt=mt.get(J[1]);rt!==void 0&&(mt.delete(J[1]),J[1]=rt)}return H.call(w.port1,J[0],J[1],J[2])})(w.port1.removeEventListener);let V=null;Object.defineProperty(w.port1,"onmessage",{get:()=>V,set:H=>{typeof V=="function"&&w.port1.removeEventListener("message",V),V=typeof H=="function"?H:null,typeof V=="function"&&(w.port1.addEventListener("message",V),w.port1.start())}}),m.prototype.port=w.port1;let F=null;iE(g,pt,m,b).then(H=>F=H);const Mt=ku(b.numberOfInputs,b.channelCount),Ot=ku(b.numberOfOutputs,x),_t=m.parameterDescriptors===void 0?[]:m.parameterDescriptors.reduce((H,{name:J})=>({...H,[J]:new Float32Array(128)}),{});let Tt=!0;const Et=()=>{b.numberOfOutputs>0&&R.disconnect(N);for(let H=0,J=0;H<b.numberOfOutputs;H+=1){const rt=Z[H];for(let gt=0;gt<x[H];gt+=1)N.disconnect(rt,J+gt,gt);J+=x[H]}},yt=new Map;R.onaudioprocess=({inputBuffer:H,outputBuffer:J})=>{if(F!==null){const rt=h(pt);for(let gt=0;gt<W;gt+=128){for(let lt=0;lt<b.numberOfInputs;lt+=1)for(let ht=0;ht<b.channelCount;ht+=1)Tu(H,Mt[lt],ht,ht,gt);m.parameterDescriptors!==void 0&&m.parameterDescriptors.forEach(({name:lt},ht)=>{Tu(H,_t,lt,T+ht,gt)});for(let lt=0;lt<b.numberOfInputs;lt+=1)for(let ht=0;ht<x[lt];ht+=1)Ot[lt][ht].byteLength===0&&(Ot[lt][ht]=new Float32Array(128));try{const lt=Mt.map((dt,Rt)=>{if(rt[Rt].size>0)return yt.set(Rt,W/128),dt;const Ft=yt.get(Rt);return Ft===void 0?[]:(dt.every(Lt=>Lt.every(Bt=>Bt===0))&&(Ft===1?yt.delete(Rt):yt.set(Rt,Ft-1)),dt)});Tt=u(g.currentTime+gt/g.sampleRate,g.sampleRate,()=>F.process(lt,Ot,_t));for(let dt=0,Rt=0;dt<b.numberOfOutputs;dt+=1){for(let wt=0;wt<x[dt];wt+=1)Fv(J,Ot[dt],wt,Rt+wt,gt);Rt+=x[dt]}}catch(lt){Tt=!1,pt.dispatchEvent(new ErrorEvent("processorerror",{colno:lt.colno,filename:lt.filename,lineno:lt.lineno,message:lt.message}))}if(!Tt){for(let lt=0;lt<b.numberOfInputs;lt+=1){k[lt].disconnect(P[lt]);for(let ht=0;ht<b.channelCount;ht+=1)P[gt].disconnect(I,ht,lt*b.channelCount+ht)}if(m.parameterDescriptors!==void 0){const lt=m.parameterDescriptors.length;for(let ht=0;ht<lt;ht+=1){const dt=A[ht];dt.disconnect(I,0,T+ht),dt.stop()}}I.disconnect(R),R.onaudioprocess=null,bt?Et():E();break}}}};let bt=!1;const Kt=o(g,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),Yt=()=>R.connect(Kt).connect(g.destination),E=()=>{R.disconnect(Kt),Kt.disconnect()},j=()=>{if(Tt){E(),b.numberOfOutputs>0&&R.connect(N);for(let H=0,J=0;H<b.numberOfOutputs;H+=1){const rt=Z[H];for(let gt=0;gt<x[H];gt+=1)N.connect(rt,J+gt,gt);J+=x[H]}}bt=!0},Q=()=>{Tt&&(Yt(),Et()),bt=!1};return Yt(),f(pt,j,Q)},Bv=(n,t)=>{const e=n.createBiquadFilter();return tn(e,t),Ne(e,t,"Q"),Ne(e,t,"detune"),Ne(e,t,"frequency"),Ne(e,t,"gain"),Me(e,t,"type"),e},rE=(n,t)=>(e,i)=>{const s=e.createChannelMerger(i.numberOfInputs);return n!==null&&n.name==="webkitAudioContext"&&t(e,s),tn(s,i),s},oE=n=>{const t=n.numberOfOutputs;Object.defineProperty(n,"channelCount",{get:()=>t,set:e=>{if(e!==t)throw an()}}),Object.defineProperty(n,"channelCountMode",{get:()=>"explicit",set:e=>{if(e!=="explicit")throw an()}}),Object.defineProperty(n,"channelInterpretation",{get:()=>"discrete",set:e=>{if(e!=="discrete")throw an()}})},Il=(n,t)=>{const e=n.createChannelSplitter(t.numberOfOutputs);return tn(e,t),oE(e),e},aE=(n,t,e,i,s)=>(r,o)=>{if(r.createConstantSource===void 0)return e(r,o);const a=r.createConstantSource();return tn(a,o),Ne(a,o,"offset"),t(i,()=>i(r))||Fp(a),t(s,()=>s(r))||Lp(a),n(r,a),a},Qo=(n,t)=>(n.connect=t.connect.bind(t),n.disconnect=t.disconnect.bind(t),n),lE=(n,t,e,i)=>(s,{offset:r,...o})=>{const a=s.createBuffer(1,2,44100),l=t(s,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),c=e(s,{...o,gain:r}),u=a.getChannelData(0);u[0]=1,u[1]=1,l.buffer=a,l.loop=!0;const h={get bufferSize(){},get channelCount(){return c.channelCount},set channelCount(_){c.channelCount=_},get channelCountMode(){return c.channelCountMode},set channelCountMode(_){c.channelCountMode=_},get channelInterpretation(){return c.channelInterpretation},set channelInterpretation(_){c.channelInterpretation=_},get context(){return c.context},get inputs(){return[]},get numberOfInputs(){return l.numberOfInputs},get numberOfOutputs(){return c.numberOfOutputs},get offset(){return c.gain},get onended(){return l.onended},set onended(_){l.onended=_},addEventListener(..._){return l.addEventListener(_[0],_[1],_[2])},dispatchEvent(..._){return l.dispatchEvent(_[0])},removeEventListener(..._){return l.removeEventListener(_[0],_[1],_[2])},start(_=0){l.start.call(l,_)},stop(_=0){l.stop.call(l,_)}},f=()=>l.connect(c),g=()=>l.disconnect(c);return n(s,l),i(Qo(h,c),f,g)},cE=(n,t)=>(e,i)=>{const s=e.createConvolver();if(tn(s,i),i.disableNormalization===s.normalize&&(s.normalize=!i.disableNormalization),Me(s,i,"buffer"),i.channelCount>2||(t(s,"channelCount",r=>()=>r.call(s),r=>o=>{if(o>2)throw n();return r.call(s,o)}),i.channelCountMode==="max"))throw n();return t(s,"channelCountMode",r=>()=>r.call(s),r=>o=>{if(o==="max")throw n();return r.call(s,o)}),s},Wv=(n,t)=>{const e=n.createDelay(t.maxDelayTime);return tn(e,t),Ne(e,t,"delayTime"),e},uE=n=>(t,e)=>{const i=t.createDynamicsCompressor();if(tn(i,e),e.channelCount>2||e.channelCountMode==="max")throw n();return Ne(i,e,"attack"),Ne(i,e,"knee"),Ne(i,e,"ratio"),Ne(i,e,"release"),Ne(i,e,"threshold"),i},Un=(n,t)=>{const e=n.createGain();return tn(e,t),Ne(e,t,"gain"),e},hE=n=>(t,e,i)=>{if(t.createIIRFilter===void 0)return n(t,e,i);const s=t.createIIRFilter(i.feedforward,i.feedback);return tn(s,i),s};function dE(n,t){const e=t[0]*t[0]+t[1]*t[1];return[(n[0]*t[0]+n[1]*t[1])/e,(n[1]*t[0]-n[0]*t[1])/e]}function fE(n,t){return[n[0]*t[0]-n[1]*t[1],n[0]*t[1]+n[1]*t[0]]}function gy(n,t){let e=[0,0];for(let i=n.length-1;i>=0;i-=1)e=fE(e,t),e[0]+=n[i];return e}const pE=(n,t,e,i)=>(s,r,{channelCount:o,channelCountMode:a,channelInterpretation:l,feedback:c,feedforward:u})=>{const h=Vv(r,s.sampleRate),f=c instanceof Float64Array?c:new Float64Array(c),g=u instanceof Float64Array?u:new Float64Array(u),_=f.length,m=g.length,b=Math.min(_,m);if(_===0||_>20)throw i();if(f[0]===0)throw t();if(m===0||m>20)throw i();if(g[0]===0)throw t();if(f[0]!==1){for(let A=0;A<m;A+=1)g[A]/=f[0];for(let A=1;A<_;A+=1)f[A]/=f[0]}const x=e(s,h,o,o);x.channelCount=o,x.channelCountMode=a,x.channelInterpretation=l;const T=32,O=[],M=[],w=[];for(let A=0;A<o;A+=1){O.push(0);const I=new Float32Array(T),W=new Float32Array(T);I.fill(0),W.fill(0),M.push(I),w.push(W)}x.onaudioprocess=A=>{const I=A.inputBuffer,W=A.outputBuffer,R=I.numberOfChannels;for(let N=0;N<R;N+=1){const Z=I.getChannelData(N),ot=W.getChannelData(N);O[N]=Lv(f,_,g,m,b,M[N],w[N],O[N],T,Z,ot)}};const k=s.sampleRate/2;return Qo({get bufferSize(){return h},get channelCount(){return x.channelCount},set channelCount(A){x.channelCount=A},get channelCountMode(){return x.channelCountMode},set channelCountMode(A){x.channelCountMode=A},get channelInterpretation(){return x.channelInterpretation},set channelInterpretation(A){x.channelInterpretation=A},get context(){return x.context},get inputs(){return[x]},get numberOfInputs(){return x.numberOfInputs},get numberOfOutputs(){return x.numberOfOutputs},addEventListener(...A){return x.addEventListener(A[0],A[1],A[2])},dispatchEvent(...A){return x.dispatchEvent(A[0])},getFrequencyResponse(A,I,W){if(A.length!==I.length||I.length!==W.length)throw n();const R=A.length;for(let N=0;N<R;N+=1){const Z=-Math.PI*(A[N]/k),ot=[Math.cos(Z),Math.sin(Z)],at=gy(g,ot),nt=gy(f,ot),st=dE(at,nt);I[N]=Math.sqrt(st[0]*st[0]+st[1]*st[1]),W[N]=Math.atan2(st[1],st[0])}},removeEventListener(...A){return x.removeEventListener(A[0],A[1],A[2])}},x)},gE=(n,t)=>n.createMediaElementSource(t.mediaElement),mE=(n,t)=>{const e=n.createMediaStreamDestination();return tn(e,t),e.numberOfOutputs===1&&Object.defineProperty(e,"numberOfOutputs",{get:()=>0}),e},_E=(n,{mediaStream:t})=>{const e=t.getAudioTracks();e.sort((r,o)=>r.id<o.id?-1:r.id>o.id?1:0);const i=e.slice(0,1),s=n.createMediaStreamSource(new MediaStream(i));return Object.defineProperty(s,"mediaStream",{value:t}),s},yE=(n,t)=>(e,{mediaStreamTrack:i})=>{if(typeof e.createMediaStreamTrackSource=="function")return e.createMediaStreamTrackSource(i);const s=new MediaStream([i]),r=e.createMediaStreamSource(s);if(i.kind!=="audio")throw n();if(t(e))throw new TypeError;return r},bE=n=>n===null?null:n.hasOwnProperty("OfflineAudioContext")?n.OfflineAudioContext:n.hasOwnProperty("webkitOfflineAudioContext")?n.webkitOfflineAudioContext:null,vE=(n,t,e,i,s,r)=>(o,a)=>{const l=o.createOscillator();return tn(l,a),Ne(l,a,"detune"),Ne(l,a,"frequency"),a.periodicWave!==void 0?l.setPeriodicWave(a.periodicWave):Me(l,a,"type"),t(e,()=>e(o))||Fp(l),t(i,()=>i(o))||r(l,o),t(s,()=>s(o))||Lp(l),n(o,l),l},xE=n=>(t,e)=>{const i=t.createPanner();return i.orientationX===void 0?n(t,e):(tn(i,e),Ne(i,e,"orientationX"),Ne(i,e,"orientationY"),Ne(i,e,"orientationZ"),Ne(i,e,"positionX"),Ne(i,e,"positionY"),Ne(i,e,"positionZ"),Me(i,e,"coneInnerAngle"),Me(i,e,"coneOuterAngle"),Me(i,e,"coneOuterGain"),Me(i,e,"distanceModel"),Me(i,e,"maxDistance"),Me(i,e,"panningModel"),Me(i,e,"refDistance"),Me(i,e,"rolloffFactor"),i)},wE=(n,t,e,i,s,r,o,a,l,c)=>(u,{coneInnerAngle:h,coneOuterAngle:f,coneOuterGain:g,distanceModel:_,maxDistance:m,orientationX:b,orientationY:x,orientationZ:T,panningModel:O,positionX:M,positionY:w,positionZ:k,refDistance:P,rolloffFactor:A,...I})=>{const W=u.createPanner();if(I.channelCount>2||I.channelCountMode==="max")throw o();tn(W,I);const R={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},N=e(u,{...R,channelInterpretation:"speakers",numberOfInputs:6}),Z=i(u,{...I,gain:1}),ot=i(u,{...R,gain:1}),at=i(u,{...R,gain:0}),nt=i(u,{...R,gain:0}),st=i(u,{...R,gain:0}),pt=i(u,{...R,gain:0}),mt=i(u,{...R,gain:0}),V=s(u,256,6,1),F=r(u,{...R,curve:new Float32Array([1,1]),oversample:"none"});let ft=[b,x,T],Mt=[M,w,k];const Ot=new Float32Array(1);V.onaudioprocess=({inputBuffer:yt})=>{const bt=[l(yt,Ot,0),l(yt,Ot,1),l(yt,Ot,2)];bt.some((Yt,E)=>Yt!==ft[E])&&(W.setOrientation(...bt),ft=bt);const Kt=[l(yt,Ot,3),l(yt,Ot,4),l(yt,Ot,5)];Kt.some((Yt,E)=>Yt!==Mt[E])&&(W.setPosition(...Kt),Mt=Kt)},Object.defineProperty(at.gain,"defaultValue",{get:()=>0}),Object.defineProperty(nt.gain,"defaultValue",{get:()=>0}),Object.defineProperty(st.gain,"defaultValue",{get:()=>0}),Object.defineProperty(pt.gain,"defaultValue",{get:()=>0}),Object.defineProperty(mt.gain,"defaultValue",{get:()=>0});const _t={get bufferSize(){},get channelCount(){return W.channelCount},set channelCount(yt){if(yt>2)throw o();Z.channelCount=yt,W.channelCount=yt},get channelCountMode(){return W.channelCountMode},set channelCountMode(yt){if(yt==="max")throw o();Z.channelCountMode=yt,W.channelCountMode=yt},get channelInterpretation(){return W.channelInterpretation},set channelInterpretation(yt){Z.channelInterpretation=yt,W.channelInterpretation=yt},get coneInnerAngle(){return W.coneInnerAngle},set coneInnerAngle(yt){W.coneInnerAngle=yt},get coneOuterAngle(){return W.coneOuterAngle},set coneOuterAngle(yt){W.coneOuterAngle=yt},get coneOuterGain(){return W.coneOuterGain},set coneOuterGain(yt){if(yt<0||yt>1)throw t();W.coneOuterGain=yt},get context(){return W.context},get distanceModel(){return W.distanceModel},set distanceModel(yt){W.distanceModel=yt},get inputs(){return[Z]},get maxDistance(){return W.maxDistance},set maxDistance(yt){if(yt<0)throw new RangeError;W.maxDistance=yt},get numberOfInputs(){return W.numberOfInputs},get numberOfOutputs(){return W.numberOfOutputs},get orientationX(){return ot.gain},get orientationY(){return at.gain},get orientationZ(){return nt.gain},get panningModel(){return W.panningModel},set panningModel(yt){W.panningModel=yt},get positionX(){return st.gain},get positionY(){return pt.gain},get positionZ(){return mt.gain},get refDistance(){return W.refDistance},set refDistance(yt){if(yt<0)throw new RangeError;W.refDistance=yt},get rolloffFactor(){return W.rolloffFactor},set rolloffFactor(yt){if(yt<0)throw new RangeError;W.rolloffFactor=yt},addEventListener(...yt){return Z.addEventListener(yt[0],yt[1],yt[2])},dispatchEvent(...yt){return Z.dispatchEvent(yt[0])},removeEventListener(...yt){return Z.removeEventListener(yt[0],yt[1],yt[2])}};h!==_t.coneInnerAngle&&(_t.coneInnerAngle=h),f!==_t.coneOuterAngle&&(_t.coneOuterAngle=f),g!==_t.coneOuterGain&&(_t.coneOuterGain=g),_!==_t.distanceModel&&(_t.distanceModel=_),m!==_t.maxDistance&&(_t.maxDistance=m),b!==_t.orientationX.value&&(_t.orientationX.value=b),x!==_t.orientationY.value&&(_t.orientationY.value=x),T!==_t.orientationZ.value&&(_t.orientationZ.value=T),O!==_t.panningModel&&(_t.panningModel=O),M!==_t.positionX.value&&(_t.positionX.value=M),w!==_t.positionY.value&&(_t.positionY.value=w),k!==_t.positionZ.value&&(_t.positionZ.value=k),P!==_t.refDistance&&(_t.refDistance=P),A!==_t.rolloffFactor&&(_t.rolloffFactor=A),(ft[0]!==1||ft[1]!==0||ft[2]!==0)&&W.setOrientation(...ft),(Mt[0]!==0||Mt[1]!==0||Mt[2]!==0)&&W.setPosition(...Mt);const Tt=()=>{Z.connect(W),n(Z,F,0,0),F.connect(ot).connect(N,0,0),F.connect(at).connect(N,0,1),F.connect(nt).connect(N,0,2),F.connect(st).connect(N,0,3),F.connect(pt).connect(N,0,4),F.connect(mt).connect(N,0,5),N.connect(V).connect(u.destination)},Et=()=>{Z.disconnect(W),a(Z,F,0,0),F.disconnect(ot),ot.disconnect(N),F.disconnect(at),at.disconnect(N),F.disconnect(nt),nt.disconnect(N),F.disconnect(st),st.disconnect(N),F.disconnect(pt),pt.disconnect(N),F.disconnect(mt),mt.disconnect(N),N.disconnect(V),V.disconnect(u.destination)};return c(Qo(_t,W),Tt,Et)},SE=n=>(t,{disableNormalization:e,imag:i,real:s})=>{const r=i instanceof Float32Array?i:new Float32Array(i),o=s instanceof Float32Array?s:new Float32Array(s),a=t.createPeriodicWave(o,r,{disableNormalization:e});if(Array.from(i).length<2)throw n();return a},Rl=(n,t,e,i)=>n.createScriptProcessor(t,e,i),TE=(n,t)=>(e,i)=>{const s=i.channelCountMode;if(s==="clamped-max")throw t();if(e.createStereoPanner===void 0)return n(e,i);const r=e.createStereoPanner();return tn(r,i),Ne(r,i,"pan"),Object.defineProperty(r,"channelCountMode",{get:()=>s,set:o=>{if(o!==s)throw t()}}),r},kE=(n,t,e,i,s,r)=>{const a=new Float32Array([1,1]),l=Math.PI/2,c={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},u={...c,oversample:"none"},h=(_,m,b,x)=>{const T=new Float32Array(16385),O=new Float32Array(16385);for(let I=0;I<16385;I+=1){const W=I/16384*l;T[I]=Math.cos(W),O[I]=Math.sin(W)}const M=e(_,{...c,gain:0}),w=i(_,{...u,curve:T}),k=i(_,{...u,curve:a}),P=e(_,{...c,gain:0}),A=i(_,{...u,curve:O});return{connectGraph(){m.connect(M),m.connect(k.inputs===void 0?k:k.inputs[0]),m.connect(P),k.connect(b),b.connect(w.inputs===void 0?w:w.inputs[0]),b.connect(A.inputs===void 0?A:A.inputs[0]),w.connect(M.gain),A.connect(P.gain),M.connect(x,0,0),P.connect(x,0,1)},disconnectGraph(){m.disconnect(M),m.disconnect(k.inputs===void 0?k:k.inputs[0]),m.disconnect(P),k.disconnect(b),b.disconnect(w.inputs===void 0?w:w.inputs[0]),b.disconnect(A.inputs===void 0?A:A.inputs[0]),w.disconnect(M.gain),A.disconnect(P.gain),M.disconnect(x,0,0),P.disconnect(x,0,1)}}},f=(_,m,b,x)=>{const T=new Float32Array(16385),O=new Float32Array(16385),M=new Float32Array(16385),w=new Float32Array(16385),k=Math.floor(16385/2);for(let st=0;st<16385;st+=1)if(st>k){const pt=(st-k)/(16384-k)*l;T[st]=Math.cos(pt),O[st]=Math.sin(pt),M[st]=0,w[st]=1}else{const pt=st/(16384-k)*l;T[st]=1,O[st]=0,M[st]=Math.cos(pt),w[st]=Math.sin(pt)}const P=t(_,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),A=e(_,{...c,gain:0}),I=i(_,{...u,curve:T}),W=e(_,{...c,gain:0}),R=i(_,{...u,curve:O}),N=i(_,{...u,curve:a}),Z=e(_,{...c,gain:0}),ot=i(_,{...u,curve:M}),at=e(_,{...c,gain:0}),nt=i(_,{...u,curve:w});return{connectGraph(){m.connect(P),m.connect(N.inputs===void 0?N:N.inputs[0]),P.connect(A,0),P.connect(W,0),P.connect(Z,1),P.connect(at,1),N.connect(b),b.connect(I.inputs===void 0?I:I.inputs[0]),b.connect(R.inputs===void 0?R:R.inputs[0]),b.connect(ot.inputs===void 0?ot:ot.inputs[0]),b.connect(nt.inputs===void 0?nt:nt.inputs[0]),I.connect(A.gain),R.connect(W.gain),ot.connect(Z.gain),nt.connect(at.gain),A.connect(x,0,0),Z.connect(x,0,0),W.connect(x,0,1),at.connect(x,0,1)},disconnectGraph(){m.disconnect(P),m.disconnect(N.inputs===void 0?N:N.inputs[0]),P.disconnect(A,0),P.disconnect(W,0),P.disconnect(Z,1),P.disconnect(at,1),N.disconnect(b),b.disconnect(I.inputs===void 0?I:I.inputs[0]),b.disconnect(R.inputs===void 0?R:R.inputs[0]),b.disconnect(ot.inputs===void 0?ot:ot.inputs[0]),b.disconnect(nt.inputs===void 0?nt:nt.inputs[0]),I.disconnect(A.gain),R.disconnect(W.gain),ot.disconnect(Z.gain),nt.disconnect(at.gain),A.disconnect(x,0,0),Z.disconnect(x,0,0),W.disconnect(x,0,1),at.disconnect(x,0,1)}}},g=(_,m,b,x,T)=>{if(m===1)return h(_,b,x,T);if(m===2)return f(_,b,x,T);throw s()};return(_,{channelCount:m,channelCountMode:b,pan:x,...T})=>{if(b==="max")throw s();const O=n(_,{...T,channelCount:1,channelCountMode:b,numberOfInputs:2}),M=e(_,{...T,channelCount:m,channelCountMode:b,gain:1}),w=e(_,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:x});let{connectGraph:k,disconnectGraph:P}=g(_,m,M,w,O);Object.defineProperty(w.gain,"defaultValue",{get:()=>0}),Object.defineProperty(w.gain,"maxValue",{get:()=>1}),Object.defineProperty(w.gain,"minValue",{get:()=>-1});const A={get bufferSize(){},get channelCount(){return M.channelCount},set channelCount(N){M.channelCount!==N&&(I&&P(),{connectGraph:k,disconnectGraph:P}=g(_,N,M,w,O),I&&k()),M.channelCount=N},get channelCountMode(){return M.channelCountMode},set channelCountMode(N){if(N==="clamped-max"||N==="max")throw s();M.channelCountMode=N},get channelInterpretation(){return M.channelInterpretation},set channelInterpretation(N){M.channelInterpretation=N},get context(){return M.context},get inputs(){return[M]},get numberOfInputs(){return M.numberOfInputs},get numberOfOutputs(){return M.numberOfOutputs},get pan(){return w.gain},addEventListener(...N){return M.addEventListener(N[0],N[1],N[2])},dispatchEvent(...N){return M.dispatchEvent(N[0])},removeEventListener(...N){return M.removeEventListener(N[0],N[1],N[2])}};let I=!1;const W=()=>{k(),I=!0},R=()=>{P(),I=!1};return r(Qo(A,O),W,R)}},CE=(n,t,e,i,s,r,o)=>(a,l)=>{const c=a.createWaveShaper();if(r!==null&&r.name==="webkitAudioContext"&&a.createGain().gain.automationRate===void 0)return e(a,l);tn(c,l);const u=l.curve===null||l.curve instanceof Float32Array?l.curve:new Float32Array(l.curve);if(u!==null&&u.length<2)throw t();Me(c,{curve:u},"curve"),Me(c,l,"oversample");let h=null,f=!1;return o(c,"curve",m=>()=>m.call(c),m=>b=>(m.call(c,b),f&&(i(b)&&h===null?h=n(a,c):!i(b)&&h!==null&&(h(),h=null)),b)),s(c,()=>{f=!0,i(c.curve)&&(h=n(a,c))},()=>{f=!1,h!==null&&(h(),h=null)})},ME=(n,t,e,i,s)=>(r,{curve:o,oversample:a,...l})=>{const c=r.createWaveShaper(),u=r.createWaveShaper();tn(c,l),tn(u,l);const h=e(r,{...l,gain:1}),f=e(r,{...l,gain:-1}),g=e(r,{...l,gain:1}),_=e(r,{...l,gain:-1});let m=null,b=!1,x=null;const T={get bufferSize(){},get channelCount(){return c.channelCount},set channelCount(w){h.channelCount=w,f.channelCount=w,c.channelCount=w,g.channelCount=w,u.channelCount=w,_.channelCount=w},get channelCountMode(){return c.channelCountMode},set channelCountMode(w){h.channelCountMode=w,f.channelCountMode=w,c.channelCountMode=w,g.channelCountMode=w,u.channelCountMode=w,_.channelCountMode=w},get channelInterpretation(){return c.channelInterpretation},set channelInterpretation(w){h.channelInterpretation=w,f.channelInterpretation=w,c.channelInterpretation=w,g.channelInterpretation=w,u.channelInterpretation=w,_.channelInterpretation=w},get context(){return c.context},get curve(){return x},set curve(w){if(w!==null&&w.length<2)throw t();if(w===null)c.curve=w,u.curve=w;else{const k=w.length,P=new Float32Array(k+2-k%2),A=new Float32Array(k+2-k%2);P[0]=w[0],A[0]=-w[k-1];const I=Math.ceil((k+1)/2),W=(k+1)/2-1;for(let R=1;R<I;R+=1){const N=R/I*W,Z=Math.floor(N),ot=Math.ceil(N);P[R]=Z===ot?w[Z]:(1-(N-Z))*w[Z]+(1-(ot-N))*w[ot],A[R]=Z===ot?-w[k-1-Z]:-((1-(N-Z))*w[k-1-Z])-(1-(ot-N))*w[k-1-ot]}P[I]=k%2===1?w[I-1]:(w[I-2]+w[I-1])/2,c.curve=P,u.curve=A}x=w,b&&(i(x)&&m===null?m=n(r,h):m!==null&&(m(),m=null))},get inputs(){return[h]},get numberOfInputs(){return c.numberOfInputs},get numberOfOutputs(){return c.numberOfOutputs},get oversample(){return c.oversample},set oversample(w){c.oversample=w,u.oversample=w},addEventListener(...w){return h.addEventListener(w[0],w[1],w[2])},dispatchEvent(...w){return h.dispatchEvent(w[0])},removeEventListener(...w){return h.removeEventListener(w[0],w[1],w[2])}};o!==null&&(T.curve=o instanceof Float32Array?o:new Float32Array(o)),a!==T.oversample&&(T.oversample=a);const O=()=>{h.connect(c).connect(g),h.connect(f).connect(u).connect(_).connect(g),b=!0,i(x)&&(m=n(r,h))},M=()=>{h.disconnect(c),c.disconnect(g),h.disconnect(f),f.disconnect(u),u.disconnect(_),_.disconnect(g),b=!1,m!==null&&(m(),m=null)};return s(Qo(T,g),O,M)},In=()=>new DOMException("","NotSupportedError"),AE={numberOfChannels:1},OE=(n,t,e,i,s)=>class extends n{constructor(o,a,l){let c;if(typeof o=="number"&&a!==void 0&&l!==void 0)c={length:a,numberOfChannels:o,sampleRate:l};else if(typeof o=="object")c=o;else throw new Error("The given parameters are not valid.");const{length:u,numberOfChannels:h,sampleRate:f}={...AE,...c},g=i(h,u,f);t(ll,()=>ll(g))||g.addEventListener("statechange",(()=>{let _=0;const m=b=>{this._state==="running"&&(_>0?(g.removeEventListener("statechange",m),b.stopImmediatePropagation(),this._waitForThePromiseToSettle(b)):_+=1)};return m})()),super(g,h),this._length=u,this._nativeOfflineAudioContext=g,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(e()):(this._state="running",s(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,Dv(this)}))}_waitForThePromiseToSettle(o){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(o):setTimeout(()=>this._waitForThePromiseToSettle(o))}},PE={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},DE=(n,t,e,i,s,r,o)=>class extends n{constructor(l,c){const u=s(l),h={...PE,...c},f=e(u,h),g=r(u),_=g?i():null,m=l.sampleRate/2;super(l,!1,f,_),this._detune=t(this,g,f.detune,153600,-153600),this._frequency=t(this,g,f.frequency,m,-m),this._nativeOscillatorNode=f,this._onended=null,this._oscillatorNodeRenderer=_,this._oscillatorNodeRenderer!==null&&h.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=h.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(l){const c=typeof l=="function"?o(this,l):null;this._nativeOscillatorNode.onended=c;const u=this._nativeOscillatorNode.onended;this._onended=u!==null&&u===c?l:u}get type(){return this._nativeOscillatorNode.type}set type(l){this._nativeOscillatorNode.type=l,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(l){this._nativeOscillatorNode.setPeriodicWave(l),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=l)}start(l=0){if(this._nativeOscillatorNode.start(l),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=l),this.context.state!=="closed"){qo(this);const c=()=>{this._nativeOscillatorNode.removeEventListener("ended",c),ds(this)&&Pl(this)};this._nativeOscillatorNode.addEventListener("ended",c)}}stop(l=0){this._nativeOscillatorNode.stop(l),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=l)}},EE=(n,t,e,i,s)=>()=>{const r=new WeakMap;let o=null,a=null,l=null;const c=async(u,h)=>{let f=e(u);const g=kn(f,h);if(!g){const _={channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,detune:f.detune.value,frequency:f.frequency.value,periodicWave:o===null?void 0:o,type:f.type};f=t(h,_),a!==null&&f.start(a),l!==null&&f.stop(l)}return r.set(h,f),g?(await n(h,u.detune,f.detune),await n(h,u.frequency,f.frequency)):(await i(h,u.detune,f.detune),await i(h,u.frequency,f.frequency)),await s(u,h,f),f};return{set periodicWave(u){o=u},set start(u){a=u},set stop(u){l=u},render(u,h){const f=r.get(h);return f!==void 0?Promise.resolve(f):c(u,h)}}},IE={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},RE=(n,t,e,i,s,r,o)=>class extends n{constructor(l,c){const u=s(l),h={...IE,...c},f=e(u,h),g=r(u),_=g?i():null;super(l,!1,f,_),this._nativePannerNode=f,this._orientationX=t(this,g,f.orientationX,On,Ln),this._orientationY=t(this,g,f.orientationY,On,Ln),this._orientationZ=t(this,g,f.orientationZ,On,Ln),this._positionX=t(this,g,f.positionX,On,Ln),this._positionY=t(this,g,f.positionY,On,Ln),this._positionZ=t(this,g,f.positionZ,On,Ln),o(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(l){this._nativePannerNode.coneInnerAngle=l}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(l){this._nativePannerNode.coneOuterAngle=l}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(l){this._nativePannerNode.coneOuterGain=l}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(l){this._nativePannerNode.distanceModel=l}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(l){this._nativePannerNode.maxDistance=l}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(l){this._nativePannerNode.panningModel=l}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(l){this._nativePannerNode.refDistance=l}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(l){this._nativePannerNode.rolloffFactor=l}},NE=(n,t,e,i,s,r,o,a,l,c)=>()=>{const u=new WeakMap;let h=null;const f=async(g,_)=>{let m=null,b=r(g);const x={channelCount:b.channelCount,channelCountMode:b.channelCountMode,channelInterpretation:b.channelInterpretation},T={...x,coneInnerAngle:b.coneInnerAngle,coneOuterAngle:b.coneOuterAngle,coneOuterGain:b.coneOuterGain,distanceModel:b.distanceModel,maxDistance:b.maxDistance,panningModel:b.panningModel,refDistance:b.refDistance,rolloffFactor:b.rolloffFactor},O=kn(b,_);if("bufferSize"in b)m=i(_,{...x,gain:1});else if(!O){const M={...T,orientationX:b.orientationX.value,orientationY:b.orientationY.value,orientationZ:b.orientationZ.value,positionX:b.positionX.value,positionY:b.positionY.value,positionZ:b.positionZ.value};b=s(_,M)}if(u.set(_,m===null?b:m),m!==null){if(h===null){if(o===null)throw new Error("Missing the native OfflineAudioContext constructor.");const R=new o(6,g.context.length,_.sampleRate),N=t(R,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});N.connect(R.destination),h=(async()=>{const Z=await Promise.all([g.orientationX,g.orientationY,g.orientationZ,g.positionX,g.positionY,g.positionZ].map(async(ot,at)=>{const nt=e(R,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:at===0?1:0});return await a(R,ot,nt.offset),nt}));for(let ot=0;ot<6;ot+=1)Z[ot].connect(N,0,ot),Z[ot].start(0);return c(R)})()}const M=await h,w=i(_,{...x,gain:1});await l(g,_,w);const k=[];for(let R=0;R<M.numberOfChannels;R+=1)k.push(M.getChannelData(R));let P=[k[0][0],k[1][0],k[2][0]],A=[k[3][0],k[4][0],k[5][0]],I=i(_,{...x,gain:1}),W=s(_,{...T,orientationX:P[0],orientationY:P[1],orientationZ:P[2],positionX:A[0],positionY:A[1],positionZ:A[2]});w.connect(I).connect(W.inputs[0]),W.connect(m);for(let R=128;R<M.length;R+=128){const N=[k[0][R],k[1][R],k[2][R]],Z=[k[3][R],k[4][R],k[5][R]];if(N.some((ot,at)=>ot!==P[at])||Z.some((ot,at)=>ot!==A[at])){P=N,A=Z;const ot=R/_.sampleRate;I.gain.setValueAtTime(0,ot),I=i(_,{...x,gain:0}),W=s(_,{...T,orientationX:P[0],orientationY:P[1],orientationZ:P[2],positionX:A[0],positionY:A[1],positionZ:A[2]}),I.gain.setValueAtTime(1,ot),w.connect(I).connect(W.inputs[0]),W.connect(m)}}return m}return O?(await n(_,g.orientationX,b.orientationX),await n(_,g.orientationY,b.orientationY),await n(_,g.orientationZ,b.orientationZ),await n(_,g.positionX,b.positionX),await n(_,g.positionY,b.positionY),await n(_,g.positionZ,b.positionZ)):(await a(_,g.orientationX,b.orientationX),await a(_,g.orientationY,b.orientationY),await a(_,g.orientationZ,b.orientationZ),await a(_,g.positionX,b.positionX),await a(_,g.positionY,b.positionY),await a(_,g.positionZ,b.positionZ)),Zo(b)?await l(g,_,b.inputs[0]):await l(g,_,b),b};return{render(g,_){const m=u.get(_);return m!==void 0?Promise.resolve(m):f(g,_)}}},FE={disableNormalization:!1},LE=(n,t,e,i)=>class jv{constructor(r,o){const a=t(r),l=i({...FE,...o}),c=n(a,l);return e.add(c),c}static[Symbol.hasInstance](r){return r!==null&&typeof r=="object"&&Object.getPrototypeOf(r)===jv.prototype||e.has(r)}},VE=(n,t)=>(e,i,s)=>(n(i).replay(s),t(i,e,s)),BE=(n,t,e)=>async(i,s,r)=>{const o=n(i);await Promise.all(o.activeInputs.map((a,l)=>Array.from(a).map(async([c,u])=>{const f=await t(c).render(c,s),g=i.context.destination;!e(c)&&(i!==g||!e(i))&&f.connect(r,u,l)})).reduce((a,l)=>[...a,...l],[]))},WE=(n,t,e)=>async(i,s,r)=>{const o=t(i);await Promise.all(Array.from(o.activeInputs).map(async([a,l])=>{const u=await n(a).render(a,s);e(a)||u.connect(r,l)}))},jE=(n,t,e,i)=>s=>n(ll,()=>ll(s))?Promise.resolve(n(i,i)).then(r=>{if(!r){const o=e(s,512,0,1);s.oncomplete=()=>{o.onaudioprocess=null,o.disconnect()},o.onaudioprocess=()=>s.currentTime,o.connect(s.destination)}return s.startRendering()}):new Promise(r=>{const o=t(s,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});s.oncomplete=a=>{o.disconnect(),r(a.renderedBuffer)},o.connect(s.destination),s.startRendering()}),zE=n=>(t,e)=>{n.set(t,e)},qE=n=>(t,e)=>n.set(t,e),$E=(n,t,e,i,s,r,o,a)=>(l,c)=>e(l).render(l,c).then(()=>Promise.all(Array.from(i(c)).map(u=>e(u).render(u,c)))).then(()=>s(c)).then(u=>(typeof u.copyFromChannel!="function"?(o(u),Ip(u)):t(r,()=>r(u))||a(u),n.add(u),u)),UE={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},HE=(n,t,e,i,s,r)=>class extends n{constructor(a,l){const c=s(a),u={...UE,...l},h=e(c,u),f=r(c),g=f?i():null;super(a,!1,h,g),this._pan=t(this,f,h.pan)}get pan(){return this._pan}},KE=(n,t,e,i,s)=>()=>{const r=new WeakMap,o=async(a,l)=>{let c=e(a);const u=kn(c,l);if(!u){const h={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,pan:c.pan.value};c=t(l,h)}return r.set(l,c),u?await n(l,a.pan,c.pan):await i(l,a.pan,c.pan),Zo(c)?await s(a,l,c.inputs[0]):await s(a,l,c),c};return{render(a,l){const c=r.get(l);return c!==void 0?Promise.resolve(c):o(a,l)}}},YE=n=>()=>{if(n===null)return!1;try{new n({length:1,sampleRate:44100})}catch{return!1}return!0},GE=(n,t)=>async()=>{if(n===null)return!0;if(t===null)return!1;const e=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),i=new t(1,128,44100),s=URL.createObjectURL(e);let r=!1,o=!1;try{await i.audioWorklet.addModule(s);const a=new n(i,"a",{numberOfOutputs:0}),l=i.createOscillator();a.port.onmessage=()=>r=!0,a.onprocessorerror=()=>o=!0,l.connect(a),l.start(0),await i.startRendering(),await new Promise(c=>setTimeout(c))}catch{}finally{URL.revokeObjectURL(s)}return r&&!o},XE=(n,t)=>()=>{if(t===null)return Promise.resolve(!1);const e=new t(1,1,44100),i=n(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(s=>{e.oncomplete=()=>{i.disconnect(),s(e.currentTime!==0)},e.startRendering()})},ZE=()=>new DOMException("","UnknownError"),QE={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},JE=(n,t,e,i,s,r,o)=>class extends n{constructor(l,c){const u=s(l),h={...QE,...c},f=e(u,h),_=r(u)?i():null;super(l,!0,f,_),this._isCurveNullified=!1,this._nativeWaveShaperNode=f,o(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(l){if(l===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(l.length<2)throw t();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=l}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(l){this._nativeWaveShaperNode.oversample=l}},tI=(n,t,e)=>()=>{const i=new WeakMap,s=async(r,o)=>{let a=t(r);if(!kn(a,o)){const c={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,curve:a.curve,oversample:a.oversample};a=n(o,c)}return i.set(o,a),Zo(a)?await e(r,o,a.inputs[0]):await e(r,o,a),a};return{render(r,o){const a=i.get(o);return a!==void 0?Promise.resolve(a):s(r,o)}}},eI=()=>typeof window>"u"?null:window,nI=(n,t)=>e=>{e.copyFromChannel=(i,s,r=0)=>{const o=n(r),a=n(s);if(a>=e.numberOfChannels)throw t();const l=e.length,c=e.getChannelData(a),u=i.length;for(let h=o<0?-o:0;h+o<l&&h<u;h+=1)i[h]=c[h+o]},e.copyToChannel=(i,s,r=0)=>{const o=n(r),a=n(s);if(a>=e.numberOfChannels)throw t();const l=e.length,c=e.getChannelData(a),u=i.length;for(let h=o<0?-o:0;h+o<l&&h<u;h+=1)c[h+o]=i[h]}},iI=n=>t=>{t.copyFromChannel=(e=>(i,s,r=0)=>{const o=n(r),a=n(s);if(o<t.length)return e.call(t,i,a,o)})(t.copyFromChannel),t.copyToChannel=(e=>(i,s,r=0)=>{const o=n(r),a=n(s);if(o<t.length)return e.call(t,i,a,o)})(t.copyToChannel)},sI=n=>(t,e)=>{const i=e.createBuffer(1,1,44100);t.buffer===null&&(t.buffer=i),n(t,"buffer",s=>()=>{const r=s.call(t);return r===i?null:r},s=>r=>s.call(t,r===null?i:r))},rI=(n,t)=>(e,i)=>{i.channelCount=1,i.channelCountMode="explicit",Object.defineProperty(i,"channelCount",{get:()=>1,set:()=>{throw n()}}),Object.defineProperty(i,"channelCountMode",{get:()=>"explicit",set:()=>{throw n()}});const s=e.createBufferSource();t(i,()=>{const a=i.numberOfInputs;for(let l=0;l<a;l+=1)s.connect(i,0,l)},()=>s.disconnect(i))},zv=(n,t,e)=>n.copyFromChannel===void 0?n.getChannelData(e)[0]:(n.copyFromChannel(t,e),t[0]),qv=n=>{if(n===null)return!1;const t=n.length;return t%2!==0?n[Math.floor(t/2)]!==0:n[t/2-1]+n[t/2]!==0},Nl=(n,t,e,i)=>{let s=n;for(;!s.hasOwnProperty(t);)s=Object.getPrototypeOf(s);const{get:r,set:o}=Object.getOwnPropertyDescriptor(s,t);Object.defineProperty(n,t,{get:e(r),set:i(o)})},oI=n=>({...n,outputChannelCount:n.outputChannelCount!==void 0?n.outputChannelCount:n.numberOfInputs===1&&n.numberOfOutputs===1?[n.channelCount]:Array.from({length:n.numberOfOutputs},()=>1)}),aI=n=>({...n,channelCount:n.numberOfOutputs}),lI=n=>{const{imag:t,real:e}=n;return t===void 0?e===void 0?{...n,imag:[0,0],real:[0,0]}:{...n,imag:Array.from(e,()=>0),real:e}:e===void 0?{...n,imag:t,real:Array.from(t,()=>0)}:{...n,imag:t,real:e}},$v=(n,t,e)=>{try{n.setValueAtTime(t,e)}catch(i){if(i.code!==9)throw i;$v(n,t,e+1e-7)}},cI=n=>{const t=n.createBufferSource();t.start();try{t.start()}catch{return!0}return!1},uI=n=>{const t=n.createBufferSource(),e=n.createBuffer(1,1,44100);t.buffer=e;try{t.start(0,1)}catch{return!1}return!0},hI=n=>{const t=n.createBufferSource();t.start();try{t.stop()}catch{return!1}return!0},Vp=n=>{const t=n.createOscillator();try{t.start(-1)}catch(e){return e instanceof RangeError}return!1},Uv=n=>{const t=n.createBuffer(1,1,44100),e=n.createBufferSource();e.buffer=t,e.start(),e.stop();try{return e.stop(),!0}catch{return!1}},Bp=n=>{const t=n.createOscillator();try{t.stop(-1)}catch(e){return e instanceof RangeError}return!1},dI=n=>{const{port1:t,port2:e}=new MessageChannel;try{t.postMessage(n)}finally{t.close(),e.close()}},fI=n=>{n.start=(t=>(e=0,i=0,s)=>{const r=n.buffer,o=r===null?i:Math.min(r.duration,i);r!==null&&o>r.duration-.5/n.context.sampleRate?t.call(n,e,0,0):t.call(n,e,o,s)})(n.start)},Hv=(n,t)=>{const e=t.createGain();n.connect(e);const i=(s=>()=>{s.call(n,e),n.removeEventListener("ended",i)})(n.disconnect);n.addEventListener("ended",i),Qo(n,e),n.stop=(s=>{let r=!1;return(o=0)=>{if(r)try{s.call(n,o)}catch{e.gain.setValueAtTime(0,o)}else s.call(n,o),r=!0}})(n.stop)},Jo=(n,t)=>e=>{const i={value:n};return Object.defineProperties(e,{currentTarget:i,target:i}),typeof t=="function"?t.call(n,e):t.handleEvent.call(n,e)},pI=RP(Zr),gI=WP(Zr),mI=Q2(oh),Kv=new WeakMap,_I=mD(Kv),ki=A2(new Map,new WeakMap),$i=eI(),Yv=HD(ki,Ui),Wp=gD(En),dn=BE(En,Wp,jr),yI=UP(Yv,Se,dn),be=bD(rh),xs=bE($i),de=FD(xs),Gv=new WeakMap,Xv=lD(Jo),Fl=XD($i),jp=ED(Fl),zp=ID($i),Zv=RD($i),cl=QD($i),He=m2(NP(Tv),BP(pI,gI,xu,mI,wu,En,_I,Ol,Se,Zr,ds,jr,qc),ki,MD(xf,wu,En,Se,al,ds),Ui,ah,In,Y2(xu,xf,En,Se,al,be,ds,de),eD(Gv,En,Ti),Xv,be,jp,zp,Zv,de,cl),bI=$P(He,yI,Ui,Yv,be,de),qp=new WeakSet,my=KD($i),Qv=j2(new Uint32Array(1)),$p=nI(Qv,Ui),Up=iI(Qv),Jv=KP(qp,ki,In,my,xs,YE(my),$p,Up),lh=jP(Un),tx=WE(Wp,Dl,jr),Hi=N2(tx),ta=GD(lh,ki,cI,uI,hI,Vp,Uv,Bp,fI,sI(Nl),Hv),Ki=VE(_D(Dl),tx),vI=XP(Hi,ta,Se,Ki,dn),Ci=_2(FP(kv),Gv,Ep,y2,AP,OP,PP,DP,EP,yf,wv,Fl,$v),xI=GP(He,vI,Ci,an,ta,be,de,Jo),wI=r2(He,o2,Ui,an,ZD(Un,Nl),be,de,dn),SI=M2(Hi,Bv,Se,Ki,dn),Qr=qE(Kv),TI=C2(He,Ci,SI,ah,Bv,be,de,Qr),rr=$D(Zr,zp),kI=rI(an,rr),or=rE(Fl,kI),CI=D2(or,Se,dn),MI=P2(He,CI,or,be,de),AI=R2(Il,Se,dn),OI=I2(He,AI,Il,be,de,aI),PI=lE(lh,ta,Un,rr),ea=aE(lh,ki,PI,Vp,Bp),DI=W2(Hi,ea,Se,Ki,dn),EI=B2(He,Ci,DI,ea,be,de,Jo),ex=cE(In,Nl),II=$2(ex,Se,dn),RI=q2(He,II,ex,be,de,Qr),NI=Z2(Hi,Wv,Se,Ki,dn),FI=X2(He,Ci,NI,Wv,be,de,Qr),nx=uE(In),LI=rD(Hi,nx,Se,Ki,dn),VI=sD(He,Ci,LI,nx,In,be,de,Qr),BI=fD(Hi,Un,Se,Ki,dn),WI=dD(He,Ci,BI,Un,be,de),jI=pE(ah,an,Rl,In),ch=jE(ki,Un,Rl,XE(Un,xs)),zI=CD(ta,Se,xs,dn,ch),qI=hE(jI),$I=TD(He,qI,zI,be,de,Qr),UI=a2(Ci,or,ea,Rl,In,zv,de,Nl),ix=new WeakMap,HI=qD(wI,UI,Xv,de,ix,Jo),sx=vE(lh,ki,Vp,Uv,Bp,Hv),KI=EE(Hi,sx,Se,Ki,dn),YI=DE(He,Ci,sx,KI,be,de,Jo),rx=L2(ta),GI=ME(rx,an,Un,qv,rr),uh=CE(rx,an,GI,qv,rr,Fl,Nl),XI=wE(xu,an,or,Un,Rl,uh,In,wu,zv,rr),ox=xE(XI),ZI=NE(Hi,or,ea,Un,ox,Se,xs,Ki,dn,ch),QI=RE(He,Ci,ox,ZI,be,de,Qr),JI=SE(Ui),tR=LE(JI,be,new WeakSet,lI),eR=kE(or,Il,Un,uh,In,rr),ax=TE(eR,In),nR=KE(Hi,ax,Se,Ki,dn),iR=HE(He,Ci,ax,nR,be,de),sR=tI(uh,Se,dn),rR=JE(He,an,uh,sR,be,de,Qr),lx=LD($i),Hp=cD($i),cx=new WeakMap,oR=vD(cx,xs),aR=lx?VP(ki,In,aD($i),Hp,uD(IP),be,oR,de,cl,new WeakMap,new WeakMap,GE(cl,xs),$i):void 0,lR=ND(jp,de),cR=K2(qp,ki,H2,oD,new WeakSet,be,lR,bu,ll,$p,Up),ux=T2(aR,bI,Jv,xI,TI,MI,OI,EI,RI,cR,FI,VI,WI,$I,HI,YI,QI,tR,iR,rR),uR=VD(He,gE,be,de),hR=WD(He,mE,be,de),dR=jD(He,_E,be,de),fR=yE(an,de),pR=zD(He,fR,be),gR=s2(ux,an,In,ZE,uR,hR,dR,pR,Fl),Kp=xD(ix),mR=zP(Kp),hx=F2(Ui),_R=J2(Kp),dx=nD(Ui),fx=new WeakMap,yR=pD(fx,Ti),bR=sE(hx,Ui,an,or,Il,ea,Un,Rl,In,dx,Hp,yR,rr),vR=tE(an,bR,Un,In,rr),xR=S2(Hi,hx,ta,or,Il,ea,Un,_R,dx,Hp,Se,cl,xs,Ki,dn,ch),wR=yD(cx),SR=zE(fx),_y=lx?v2(mR,He,Ci,xR,vR,En,wR,be,de,cl,oI,SR,dI,Jo):void 0,TR=U2(In,xs),kR=$E(qp,ki,Wp,Kp,ch,bu,$p,Up),CR=OE(ux,ki,an,TR,kR),MR=AD(rh,jp),AR=OD(Dp,zp),OR=PD(Ep,Zv),PR=DD(rh,de);function mi(n){return n===void 0}function te(n){return n!==void 0}function DR(n){return typeof n=="function"}function zr(n){return typeof n=="number"}function Fr(n){return Object.prototype.toString.call(n)==="[object Object]"&&n.constructor===Object}function ER(n){return typeof n=="boolean"}function Si(n){return Array.isArray(n)}function _s(n){return typeof n=="string"}function Oc(n){return _s(n)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(n)}function Ht(n,t){if(!n)throw new Error(t)}function tr(n,t,e=1/0){if(!(t<=n&&n<=e))throw new RangeError(`Value must be within [${t}, ${e}], got: ${n}`)}function px(n){!n.isOffline&&n.state!=="running"&&Yp('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let gx=!1,yy=!1;function by(n){gx=n}function IR(n){mi(n)&&gx&&!yy&&(yy=!0,Yp("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}let mx=console;function RR(...n){mx.log(...n)}function Yp(...n){mx.warn(...n)}function NR(n){return new gR(n)}function FR(n,t,e){return new CR(n,t,e)}const Lr=typeof self=="object"?self:null,LR=Lr&&(Lr.hasOwnProperty("AudioContext")||Lr.hasOwnProperty("webkitAudioContext"));function VR(n,t,e){return Ht(te(_y),"This node only works in a secure context (https or localhost)"),new _y(n,t,e)}function Mi(n,t,e,i){var s=arguments.length,r=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(t,e,r):o(t,e))||r);return s>3&&r&&Object.defineProperty(t,e,r),r}function Xe(n,t,e,i){function s(r){return r instanceof e?r:new e(function(o){o(r)})}return new(e||(e=Promise))(function(r,o){function a(u){try{c(i.next(u))}catch(h){o(h)}}function l(u){try{c(i.throw(u))}catch(h){o(h)}}function c(u){u.done?r(u.value):s(u.value).then(a,l)}c((i=i.apply(n,t||[])).next())})}class BR{constructor(t,e,i,s){this._callback=t,this._type=e,this._minimumUpdateInterval=Math.max(128/(s||44100),.001),this.updateInterval=i,this._createClock()}_createWorker(){const t=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),e=URL.createObjectURL(t),i=new Worker(e);i.onmessage=this._callback.bind(this),this._worker=i}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(t){var e;this._updateInterval=Math.max(t,this._minimumUpdateInterval),this._type==="worker"&&((e=this._worker)===null||e===void 0||e.postMessage(this._updateInterval*1e3))}get type(){return this._type}set type(t){this._disposeClock(),this._type=t,this._createClock()}dispose(){this._disposeClock()}}function qr(n){return OR(n)}function Hs(n){return AR(n)}function $c(n){return PR(n)}function po(n){return MR(n)}function WR(n){return n instanceof Jv}function jR(n,t){return n==="value"||qr(t)||Hs(t)||WR(t)}function Po(n,...t){if(!t.length)return n;const e=t.shift();if(Fr(n)&&Fr(e))for(const i in e)jR(i,e[i])?n[i]=e[i]:Fr(e[i])?(n[i]||Object.assign(n,{[i]:{}}),Po(n[i],e[i])):Object.assign(n,{[i]:e[i]});return Po(n,...t)}function zR(n,t){return n.length===t.length&&n.every((e,i)=>t[i]===e)}function Pt(n,t,e=[],i){const s={},r=Array.from(t);if(Fr(r[0])&&i&&!Reflect.has(r[0],i)&&(Object.keys(r[0]).some(a=>Reflect.has(n,a))||(Po(s,{[i]:r[0]}),e.splice(e.indexOf(i),1),r.shift())),r.length===1&&Fr(r[0]))Po(s,r[0]);else for(let o=0;o<e.length;o++)te(r[o])&&(s[e[o]]=r[o]);return Po(n,s)}function qR(n){return n.constructor.getDefaults()}function Do(n,t){return mi(n)?t:n}function vy(n,t){return t.forEach(e=>{Reflect.has(n,e)&&delete n[e]}),n}/**
 * Tone.js
 * @author Yotam Mann
 * @license http://opensource.org/licenses/MIT MIT License
 * @copyright 2014-2019 Yotam Mann
 */class ws{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...t){(this.debug||Lr&&this.toString()===Lr.TONE_DEBUG_CLASS)&&RR(this,...t)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}ws.version=xv;const Gp=1e-6;function $o(n,t){return n>t+Gp}function Cf(n,t){return $o(n,t)||yi(n,t)}function Cu(n,t){return n+Gp<t}function yi(n,t){return Math.abs(n-t)<Gp}function $R(n,t,e){return Math.max(Math.min(n,e),t)}class _i extends ws{constructor(){super(),this.name="Timeline",this._timeline=[];const t=Pt(_i.getDefaults(),arguments,["memory"]);this.memory=t.memory,this.increasing=t.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(t){if(Ht(Reflect.has(t,"time"),"Timeline: events must have a time attribute"),t.time=t.time.valueOf(),this.increasing&&this.length){const e=this._timeline[this.length-1];Ht(Cf(t.time,e.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(t)}else{const e=this._search(t.time);this._timeline.splice(e+1,0,t)}if(this.length>this.memory){const e=this.length-this.memory;this._timeline.splice(0,e)}return this}remove(t){const e=this._timeline.indexOf(t);return e!==-1&&this._timeline.splice(e,1),this}get(t,e="time"){const i=this._search(t,e);return i!==-1?this._timeline[i]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(t,e="time"){const i=this._search(t,e);return i+1<this._timeline.length?this._timeline[i+1]:null}getBefore(t){const e=this._timeline.length;if(e>0&&this._timeline[e-1].time<t)return this._timeline[e-1];const i=this._search(t);return i-1>=0?this._timeline[i-1]:null}cancel(t){if(this._timeline.length>1){let e=this._search(t);if(e>=0)if(yi(this._timeline[e].time,t)){for(let i=e;i>=0&&yi(this._timeline[i].time,t);i--)e=i;this._timeline=this._timeline.slice(0,e)}else this._timeline=this._timeline.slice(0,e+1);else this._timeline=[]}else this._timeline.length===1&&Cf(this._timeline[0].time,t)&&(this._timeline=[]);return this}cancelBefore(t){const e=this._search(t);return e>=0&&(this._timeline=this._timeline.slice(e+1)),this}previousEvent(t){const e=this._timeline.indexOf(t);return e>0?this._timeline[e-1]:null}_search(t,e="time"){if(this._timeline.length===0)return-1;let i=0;const s=this._timeline.length;let r=s;if(s>0&&this._timeline[s-1][e]<=t)return s-1;for(;i<r;){let o=Math.floor(i+(r-i)/2);const a=this._timeline[o],l=this._timeline[o+1];if(yi(a[e],t)){for(let c=o;c<this._timeline.length;c++){const u=this._timeline[c];if(yi(u[e],t))o=c;else break}return o}else{if(Cu(a[e],t)&&$o(l[e],t))return o;$o(a[e],t)?r=o:i=o+1}}return-1}_iterate(t,e=0,i=this._timeline.length-1){this._timeline.slice(e,i+1).forEach(t)}forEach(t){return this._iterate(t),this}forEachBefore(t,e){const i=this._search(t);return i!==-1&&this._iterate(e,0,i),this}forEachAfter(t,e){const i=this._search(t);return this._iterate(e,i+1),this}forEachBetween(t,e,i){let s=this._search(t),r=this._search(e);return s!==-1&&r!==-1?(this._timeline[s].time!==t&&(s+=1),this._timeline[r].time===e&&(r-=1),this._iterate(i,s,r)):s===-1&&this._iterate(i,0,r),this}forEachFrom(t,e){let i=this._search(t);for(;i>=0&&this._timeline[i].time>=t;)i--;return this._iterate(e,i+1),this}forEachAtTime(t,e){const i=this._search(t);if(i!==-1&&yi(this._timeline[i].time,t)){let s=i;for(let r=i;r>=0&&yi(this._timeline[r].time,t);r--)s=r;this._iterate(r=>{e(r)},s,i)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const _x=[];function hh(n){_x.push(n)}function UR(n){_x.forEach(t=>t(n))}const yx=[];function dh(n){yx.push(n)}function HR(n){yx.forEach(t=>t(n))}class Ll extends ws{constructor(){super(...arguments),this.name="Emitter"}on(t,e){return t.split(/\W+/).forEach(s=>{mi(this._events)&&(this._events={}),this._events.hasOwnProperty(s)||(this._events[s]=[]),this._events[s].push(e)}),this}once(t,e){const i=(...s)=>{e(...s),this.off(t,i)};return this.on(t,i),this}off(t,e){return t.split(/\W+/).forEach(s=>{if(mi(this._events)&&(this._events={}),this._events.hasOwnProperty(s))if(mi(e))this._events[s]=[];else{const r=this._events[s];for(let o=r.length-1;o>=0;o--)r[o]===e&&r.splice(o,1)}}),this}emit(t,...e){if(this._events&&this._events.hasOwnProperty(t)){const i=this._events[t].slice(0);for(let s=0,r=i.length;s<r;s++)i[s].apply(this,e)}return this}static mixin(t){["on","once","off","emit"].forEach(e=>{const i=Object.getOwnPropertyDescriptor(Ll.prototype,e);Object.defineProperty(t.prototype,e,i)})}dispose(){return super.dispose(),this._events=void 0,this}}class bx extends Ll{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class Vl extends bx{constructor(){var t,e;super(),this.name="Context",this._constants=new Map,this._timeouts=new _i,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const i=Pt(Vl.getDefaults(),arguments,["context"]);i.context?(this._context=i.context,this._latencyHint=((t=arguments[0])===null||t===void 0?void 0:t.latencyHint)||""):(this._context=NR({latencyHint:i.latencyHint}),this._latencyHint=i.latencyHint),this._ticker=new BR(this.emit.bind(this,"tick"),i.clockSource,i.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[!((e=arguments[0])===null||e===void 0)&&e.hasOwnProperty("updateInterval")?"_lookAhead":"lookAhead"]=i.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(UR(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(t,e,i){return this._context.createBuffer(t,e,i)}createChannelMerger(t){return this._context.createChannelMerger(t)}createChannelSplitter(t){return this._context.createChannelSplitter(t)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(t){return this._context.createDelay(t)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(t,e){return this._context.createIIRFilter(t,e)}createPanner(){return this._context.createPanner()}createPeriodicWave(t,e,i){return this._context.createPeriodicWave(t,e,i)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(t){return Ht(po(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(t)}createMediaElementSource(t){return Ht(po(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(t)}createMediaStreamDestination(){return Ht(po(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(t){return this._context.decodeAudioData(t)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(t){Ht(!this._initialized,"The listener cannot be set after initialization."),this._listener=t}get transport(){return this.initialize(),this._transport}set transport(t){Ht(!this._initialized,"The transport cannot be set after initialization."),this._transport=t}get draw(){return this.initialize(),this._draw}set draw(t){Ht(!this._initialized,"Draw cannot be set after initialization."),this._draw=t}get destination(){return this.initialize(),this._destination}set destination(t){Ht(!this._initialized,"The destination cannot be set after initialization."),this._destination=t}createAudioWorkletNode(t,e){return VR(this.rawContext,t,e)}addAudioWorkletModule(t){return Xe(this,void 0,void 0,function*(){Ht(te(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(t)),yield this._workletPromise})}workletsAreReady(){return Xe(this,void 0,void 0,function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(t){this._ticker.updateInterval=t}get clockSource(){return this._ticker.type}set clockSource(t){this._ticker.type=t}get lookAhead(){return this._lookAhead}set lookAhead(t){this._lookAhead=t,this.updateInterval=t?t/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return po(this._context)?this._context.resume():Promise.resolve()}close(){return Xe(this,void 0,void 0,function*(){po(this._context)&&this.state!=="closed"&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&HR(this)})}getConstant(t){if(this._constants.has(t))return this._constants.get(t);{const e=this._context.createBuffer(1,128,this._context.sampleRate),i=e.getChannelData(0);for(let r=0;r<i.length;r++)i[r]=t;const s=this._context.createBufferSource();return s.channelCount=1,s.channelCountMode="explicit",s.buffer=e,s.loop=!0,s.start(0),this._constants.set(t,s),s}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(t=>this._constants[t].disconnect()),this.close(),this}_timeoutLoop(){const t=this.now();let e=this._timeouts.peek();for(;this._timeouts.length&&e&&e.time<=t;)e.callback(),this._timeouts.shift(),e=this._timeouts.peek()}setTimeout(t,e){this._timeoutIds++;const i=this.now();return this._timeouts.add({callback:t,id:this._timeoutIds,time:i+e}),this._timeoutIds}clearTimeout(t){return this._timeouts.forEach(e=>{e.id===t&&this._timeouts.remove(e)}),this}clearInterval(t){return this.clearTimeout(t)}setInterval(t,e){const i=++this._timeoutIds,s=()=>{const r=this.now();this._timeouts.add({callback:()=>{t(),s()},id:i,time:r+e})};return s(),i}}class KR extends bx{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(t,e,i){return{}}createChannelMerger(t){return{}}createChannelSplitter(t){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(t){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(t,e){return{}}createPanner(){return{}}createPeriodicWave(t,e,i){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(t){return{}}createMediaElementSource(t){return{}}createMediaStreamDestination(){return{}}decodeAudioData(t){return Promise.resolve({})}createAudioWorkletNode(t,e){return{}}get rawContext(){return{}}addAudioWorkletModule(t){return Xe(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(t,e){return 0}clearTimeout(t){return this}setInterval(t,e){return 0}clearInterval(t){return this}getConstant(t){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(t){}get destination(){return{}}set destination(t){}now(){return 0}immediate(){return 0}}function Ve(n,t){Si(t)?t.forEach(e=>Ve(n,e)):Object.defineProperty(n,t,{enumerable:!0,writable:!1})}function vx(n,t){Si(t)?t.forEach(e=>vx(n,e)):Object.defineProperty(n,t,{writable:!0})}const he=()=>{};class xe extends ws{constructor(){super(),this.name="ToneAudioBuffer",this.onload=he;const t=Pt(xe.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=t.reverse,this.onload=t.onload,_s(t.url)?this.load(t.url).catch(t.onerror):t.url&&this.set(t.url)}static getDefaults(){return{onerror:he,onload:he,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:fi().sampleRate}set(t){return t instanceof xe?t.loaded?this._buffer=t.get():t.onload=()=>{this.set(t),this.onload(this)}:this._buffer=t,this._reversed&&this._reverse(),this}get(){return this._buffer}load(t){return Xe(this,void 0,void 0,function*(){const e=xe.load(t).then(i=>{this.set(i),this.onload(this)});xe.downloads.push(e);try{yield e}finally{const i=xe.downloads.indexOf(e);xe.downloads.splice(i,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(t){const e=Si(t)&&t[0].length>0,i=e?t.length:1,s=e?t[0].length:t.length,r=fi(),o=r.createBuffer(i,s,r.sampleRate),a=!e&&i===1?[t]:t;for(let l=0;l<i;l++)o.copyToChannel(a[l],l);return this._buffer=o,this}toMono(t){if(zr(t))this.fromArray(this.toArray(t));else{let e=new Float32Array(this.length);const i=this.numberOfChannels;for(let s=0;s<i;s++){const r=this.toArray(s);for(let o=0;o<r.length;o++)e[o]+=r[o]}e=e.map(s=>s/i),this.fromArray(e)}return this}toArray(t){if(zr(t))return this.getChannelData(t);if(this.numberOfChannels===1)return this.toArray(0);{const e=[];for(let i=0;i<this.numberOfChannels;i++)e[i]=this.getChannelData(i);return e}}getChannelData(t){return this._buffer?this._buffer.getChannelData(t):new Float32Array(0)}slice(t,e=this.duration){Ht(this.loaded,"Buffer is not loaded");const i=Math.floor(t*this.sampleRate),s=Math.floor(e*this.sampleRate);Ht(i<s,"The start time must be less than the end time");const r=s-i,o=fi().createBuffer(this.numberOfChannels,r,this.sampleRate);for(let a=0;a<this.numberOfChannels;a++)o.copyToChannel(this.getChannelData(a).subarray(i,s),a);return new xe(o)}_reverse(){if(this.loaded)for(let t=0;t<this.numberOfChannels;t++)this.getChannelData(t).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(t){this._reversed!==t&&(this._reversed=t,this._reverse())}static fromArray(t){return new xe().fromArray(t)}static fromUrl(t){return Xe(this,void 0,void 0,function*(){return yield new xe().load(t)})}static load(t){return Xe(this,void 0,void 0,function*(){const e=t.match(/\[([^\]\[]+\|.+)\]$/);if(e){const l=e[1].split("|");let c=l[0];for(const u of l)if(xe.supportsType(u)){c=u;break}t=t.replace(e[0],c)}const i=xe.baseUrl===""||xe.baseUrl.endsWith("/")?xe.baseUrl:xe.baseUrl+"/",s=document.createElement("a");s.href=i+t,s.pathname=(s.pathname+s.hash).split("/").map(encodeURIComponent).join("/");const r=yield fetch(s.href);if(!r.ok)throw new Error(`could not load url: ${t}`);const o=yield r.arrayBuffer();return yield fi().decodeAudioData(o)})}static supportsType(t){const e=t.split("."),i=e[e.length-1];return document.createElement("audio").canPlayType("audio/"+i)!==""}static loaded(){return Xe(this,void 0,void 0,function*(){for(yield Promise.resolve();xe.downloads.length;)yield xe.downloads[0]})}}xe.baseUrl="";xe.downloads=[];class Xp extends Vl{constructor(){super({clockSource:"offline",context:$c(arguments[0])?arguments[0]:FR(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:$c(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=$c(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(t){return Xe(this,void 0,void 0,function*(){let e=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,e++;const i=Math.floor(this.sampleRate/128);t&&e%i===0&&(yield new Promise(s=>setTimeout(s,1)))}})}render(t=!0){return Xe(this,void 0,void 0,function*(){yield this.workletsAreReady(),yield this._renderClock(t);const e=yield this._context.startRendering();return new xe(e)})}close(){return Promise.resolve()}}const xx=new KR;let Ar=xx;function fi(){return Ar===xx&&LR&&YR(new Vl),Ar}function YR(n,t=!1){t&&Ar.dispose(),po(n)?Ar=new Vl(n):$c(n)?Ar=new Xp(n):Ar=n}function GR(){return Ar.resume()}if(Lr&&!Lr.TONE_SILENCE_LOGGING){const t=` * Tone.js v${xv} * `;console.log(`%c${t}`,"background: #000; color: #fff")}function XR(n){return Math.pow(10,n/20)}function ZR(n){return 20*(Math.log(n)/Math.LN10)}function wx(n){return Math.pow(2,n/12)}let fh=440;function QR(){return fh}function JR(n){fh=n}function Mf(n){return Math.round(Sx(n))}function Sx(n){return 69+12*Math.log2(n/fh)}function tN(n){return fh*Math.pow(2,(n-69)/12)}class Zp extends ws{constructor(t,e,i){super(),this.defaultUnits="s",this._val=e,this._units=i,this.context=t,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:t=>this._frequencyToUnits(parseFloat(t)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:t=>this._ticksToUnits(parseInt(t,10)),regexp:/^(\d+)i$/i},m:{method:t=>this._beatsToUnits(parseInt(t,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(t,e)=>{const i=parseInt(t,10),s=e==="."?1.5:1;return i===1?this._beatsToUnits(this._getTimeSignature())*s:this._beatsToUnits(4/i)*s},regexp:/^(\d+)n(\.?)$/i},number:{method:t=>this._expressions[this.defaultUnits].method.call(this,t),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:t=>this._secondsToUnits(parseFloat(t)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:t=>parseInt(t,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:t=>{const e=parseInt(t,10);return this._beatsToUnits(8/(Math.floor(e)*3))},regexp:/^(\d+)t$/i},tr:{method:(t,e,i)=>{let s=0;return t&&t!=="0"&&(s+=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),e&&e!=="0"&&(s+=this._beatsToUnits(parseFloat(e))),i&&i!=="0"&&(s+=this._beatsToUnits(parseFloat(i)/4)),s},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof Zp&&this.fromType(this._val),mi(this._val))return this._noArg();if(_s(this._val)&&mi(this._units)){for(const t in this._expressions)if(this._expressions[t].regexp.test(this._val.trim())){this._units=t;break}}else if(Fr(this._val)){let t=0;for(const e in this._val)if(te(this._val[e])){const i=this._val[e],s=new this.constructor(this.context,e).valueOf()*i;t+=s}return t}if(te(this._units)){const t=this._expressions[this._units],e=this._val.toString().trim().match(t.regexp);return e?t.method.apply(this,e.slice(1)):t.method.call(this,this._val)}else return _s(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(t){return 1/t}_beatsToUnits(t){return 60/this._getBpm()*t}_secondsToUnits(t){return t}_ticksToUnits(t){return t*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(t){switch(this._units=void 0,this.defaultUnits){case"s":this._val=t.toSeconds();break;case"i":this._val=t.toTicks();break;case"hz":this._val=t.toFrequency();break;case"midi":this._val=t.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class vi extends Zp{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:t=>this._now()+new this.constructor(this.context,t).valueOf(),regexp:/^\+(.+)/},quantize:{method:t=>{const e=new vi(this.context,t).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(e))},regexp:/^@(.+)/}})}quantize(t,e=1){const i=new this.constructor(this.context,t).valueOf(),s=this.valueOf(),a=Math.round(s/i)*i-s;return s+a*e}toNotation(){const t=this.toSeconds(),e=["1m"];for(let r=1;r<9;r++){const o=Math.pow(2,r);e.push(o+"n."),e.push(o+"n"),e.push(o+"t")}e.push("0");let i=e[0],s=new vi(this.context,e[0]).toSeconds();return e.forEach(r=>{const o=new vi(this.context,r).toSeconds();Math.abs(o-t)<Math.abs(s-t)&&(i=r,s=o)}),i}toBarsBeatsSixteenths(){const t=this._beatsToUnits(1);let e=this.valueOf()/t;e=parseFloat(e.toFixed(4));const i=Math.floor(e/this._getTimeSignature());let s=e%1*4;e=Math.floor(e)%this._getTimeSignature();const r=s.toString();return r.length>3&&(s=parseFloat(parseFloat(r).toFixed(3))),[i,e,s].join(":")}toTicks(){const t=this._beatsToUnits(1);return this.valueOf()/t*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return Mf(this.toFrequency())}_now(){return this.context.now()}}class pi extends vi{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return QR()}static set A4(t){JR(t)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(t){return this.defaultUnits==="midi"?t:pi.mtof(t)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(t,e){const s=eN[t.toLowerCase()]+(parseInt(e,10)+1)*12;return this.defaultUnits==="midi"?s:pi.mtof(s)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(t,e,i){let s=1;return t&&t!=="0"&&(s*=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),e&&e!=="0"&&(s*=this._beatsToUnits(parseFloat(e))),i&&i!=="0"&&(s*=this._beatsToUnits(parseFloat(i)/4)),s}}})}transpose(t){return new pi(this.context,this.valueOf()*wx(t))}harmonize(t){return t.map(e=>this.transpose(e))}toMidi(){return Mf(this.valueOf())}toNote(){const t=this.toFrequency(),e=Math.log2(t/pi.A4);let i=Math.round(12*e)+57;const s=Math.floor(i/12);return s<0&&(i+=-12*s),nN[i%12]+s.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const t=this._beatsToUnits(1),e=this.valueOf()/t;return Math.floor(e*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(t){return t}_ticksToUnits(t){return 1/(t*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(t){return 1/super._beatsToUnits(t)}_secondsToUnits(t){return 1/t}static mtof(t){return tN(t)}static ftom(t){return Mf(t)}}const eN={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},nN=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class ja extends vi{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class qn extends ws{constructor(){super();const t=Pt(qn.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=t.context}static getDefaults(){return{context:fi()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(t){return IR(t),new vi(this.context,t).toSeconds()}toFrequency(t){return new pi(this.context,t).toFrequency()}toTicks(t){return new ja(this.context,t).toTicks()}_getPartialProperties(t){const e=this.get();return Object.keys(e).forEach(i=>{mi(t[i])&&delete e[i]}),e}get(){const t=qR(this);return Object.keys(t).forEach(e=>{if(Reflect.has(this,e)){const i=this[e];te(i)&&te(i.value)&&te(i.setValueAtTime)?t[e]=i.value:i instanceof qn?t[e]=i._getPartialProperties(t[e]):Si(i)||zr(i)||_s(i)||ER(i)?t[e]=i:delete t[e]}}),t}set(t){return Object.keys(t).forEach(e=>{Reflect.has(this,e)&&te(this[e])&&(this[e]&&te(this[e].value)&&te(this[e].setValueAtTime)?this[e].value!==t[e]&&(this[e].value=t[e]):this[e]instanceof qn?this[e].set(t[e]):this[e]=t[e])}),this}}class Qp extends _i{constructor(t="stopped"){super(),this.name="StateTimeline",this._initial=t,this.setStateAtTime(this._initial,0)}getValueAtTime(t){const e=this.get(t);return e!==null?e.state:this._initial}setStateAtTime(t,e,i){return tr(e,0),this.add(Object.assign({},i,{state:t,time:e})),this}getLastState(t,e){const i=this._search(e);for(let s=i;s>=0;s--){const r=this._timeline[s];if(r.state===t)return r}}getNextState(t,e){const i=this._search(e);if(i!==-1)for(let s=i;s<this._timeline.length;s++){const r=this._timeline[s];if(r.state===t)return r}}}class Ce extends qn{constructor(){super(Pt(Ce.getDefaults(),arguments,["param","units","convert"])),this.name="Param",this.overridden=!1,this._minOutput=1e-7;const t=Pt(Ce.getDefaults(),arguments,["param","units","convert"]);for(Ht(te(t.param)&&(qr(t.param)||t.param instanceof Ce),"param must be an AudioParam");!qr(t.param);)t.param=t.param._param;this._swappable=te(t.swappable)?t.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=t.param,this.input.connect(this._param)):this._param=this.input=t.param,this._events=new _i(1e3),this._initialValue=this._param.defaultValue,this.units=t.units,this.convert=t.convert,this._minValue=t.minValue,this._maxValue=t.maxValue,te(t.value)&&t.value!==this._toType(this._initialValue)&&this.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(qn.getDefaults(),{convert:!0,units:"number"})}get value(){const t=this.now();return this.getValueAtTime(t)}set value(t){this.cancelScheduledValues(this.now()),this.setValueAtTime(t,this.now())}get minValue(){return te(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return te(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(t,e){return this.units===e}_assertRange(t){return te(this.maxValue)&&te(this.minValue)&&tr(t,this._fromType(this.minValue),this._fromType(this.maxValue)),t}_fromType(t){return this.convert&&!this.overridden?this._is(t,"time")?this.toSeconds(t):this._is(t,"decibels")?XR(t):this._is(t,"frequency")?this.toFrequency(t):t:this.overridden?0:t}_toType(t){return this.convert&&this.units==="decibels"?ZR(t):t}setValueAtTime(t,e){const i=this.toSeconds(e),s=this._fromType(t);return Ht(isFinite(s)&&isFinite(i),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._assertRange(s),this.log(this.units,"setValueAtTime",t,i),this._events.add({time:i,type:"setValueAtTime",value:s}),this._param.setValueAtTime(s,i),this}getValueAtTime(t){const e=Math.max(this.toSeconds(t),0),i=this._events.getAfter(e),s=this._events.get(e);let r=this._initialValue;if(s===null)r=this._initialValue;else if(s.type==="setTargetAtTime"&&(i===null||i.type==="setValueAtTime")){const o=this._events.getBefore(s.time);let a;o===null?a=this._initialValue:a=o.value,s.type==="setTargetAtTime"&&(r=this._exponentialApproach(s.time,a,s.value,s.constant,e))}else if(i===null)r=s.value;else if(i.type==="linearRampToValueAtTime"||i.type==="exponentialRampToValueAtTime"){let o=s.value;if(s.type==="setTargetAtTime"){const a=this._events.getBefore(s.time);a===null?o=this._initialValue:o=a.value}i.type==="linearRampToValueAtTime"?r=this._linearInterpolate(s.time,o,i.time,i.value,e):r=this._exponentialInterpolate(s.time,o,i.time,i.value,e)}else r=s.value;return this._toType(r)}setRampPoint(t){t=this.toSeconds(t);let e=this.getValueAtTime(t);return this.cancelAndHoldAtTime(t),this._fromType(e)===0&&(e=this._toType(this._minOutput)),this.setValueAtTime(e,t),this}linearRampToValueAtTime(t,e){const i=this._fromType(t),s=this.toSeconds(e);return Ht(isFinite(i)&&isFinite(s),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._assertRange(i),this._events.add({time:s,type:"linearRampToValueAtTime",value:i}),this.log(this.units,"linearRampToValueAtTime",t,s),this._param.linearRampToValueAtTime(i,s),this}exponentialRampToValueAtTime(t,e){let i=this._fromType(t);i=yi(i,0)?this._minOutput:i,this._assertRange(i);const s=this.toSeconds(e);return Ht(isFinite(i)&&isFinite(s),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._events.add({time:s,type:"exponentialRampToValueAtTime",value:i}),this.log(this.units,"exponentialRampToValueAtTime",t,s),this._param.exponentialRampToValueAtTime(i,s),this}exponentialRampTo(t,e,i){return i=this.toSeconds(i),this.setRampPoint(i),this.exponentialRampToValueAtTime(t,i+this.toSeconds(e)),this}linearRampTo(t,e,i){return i=this.toSeconds(i),this.setRampPoint(i),this.linearRampToValueAtTime(t,i+this.toSeconds(e)),this}targetRampTo(t,e,i){return i=this.toSeconds(i),this.setRampPoint(i),this.exponentialApproachValueAtTime(t,i,e),this}exponentialApproachValueAtTime(t,e,i){e=this.toSeconds(e),i=this.toSeconds(i);const s=Math.log(i+1)/Math.log(200);return this.setTargetAtTime(t,e,s),this.cancelAndHoldAtTime(e+i*.9),this.linearRampToValueAtTime(t,e+i),this}setTargetAtTime(t,e,i){const s=this._fromType(t);Ht(isFinite(i)&&i>0,"timeConstant must be a number greater than 0");const r=this.toSeconds(e);return this._assertRange(s),Ht(isFinite(s)&&isFinite(r),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._events.add({constant:i,time:r,type:"setTargetAtTime",value:s}),this.log(this.units,"setTargetAtTime",t,r,i),this._param.setTargetAtTime(s,r,i),this}setValueCurveAtTime(t,e,i,s=1){i=this.toSeconds(i),e=this.toSeconds(e);const r=this._fromType(t[0])*s;this.setValueAtTime(this._toType(r),e);const o=i/(t.length-1);for(let a=1;a<t.length;a++){const l=this._fromType(t[a])*s;this.linearRampToValueAtTime(this._toType(l),e+a*o)}return this}cancelScheduledValues(t){const e=this.toSeconds(t);return Ht(isFinite(e),`Invalid argument to cancelScheduledValues: ${JSON.stringify(t)}`),this._events.cancel(e),this._param.cancelScheduledValues(e),this.log(this.units,"cancelScheduledValues",e),this}cancelAndHoldAtTime(t){const e=this.toSeconds(t),i=this._fromType(this.getValueAtTime(e));Ht(isFinite(e),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(t)}`),this.log(this.units,"cancelAndHoldAtTime",e,"value="+i);const s=this._events.get(e),r=this._events.getAfter(e);return s&&yi(s.time,e)?r?(this._param.cancelScheduledValues(r.time),this._events.cancel(r.time)):(this._param.cancelAndHoldAtTime(e),this._events.cancel(e+this.sampleTime)):r&&(this._param.cancelScheduledValues(r.time),this._events.cancel(r.time),r.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(i),e):r.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(i),e)),this._events.add({time:e,type:"setValueAtTime",value:i}),this._param.setValueAtTime(i,e),this}rampTo(t,e=.1,i){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(t,e,i):this.linearRampTo(t,e,i),this}apply(t){const e=this.context.currentTime;t.setValueAtTime(this.getValueAtTime(e),e);const i=this._events.get(e);if(i&&i.type==="setTargetAtTime"){const s=this._events.getAfter(i.time),r=s?s.time:e+2,o=(r-e)/10;for(let a=e;a<r;a+=o)t.linearRampToValueAtTime(this.getValueAtTime(a),a)}return this._events.forEachAfter(this.context.currentTime,s=>{s.type==="cancelScheduledValues"?t.cancelScheduledValues(s.time):s.type==="setTargetAtTime"?t.setTargetAtTime(s.value,s.time,s.constant):t[s.type](s.value,s.time)}),this}setParam(t){Ht(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const e=this.input;return e.disconnect(this._param),this.apply(t),this._param=t,e.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(t,e,i,s,r){return i+(e-i)*Math.exp(-(r-t)/s)}_linearInterpolate(t,e,i,s,r){return e+(s-e)*((r-t)/(i-t))}_exponentialInterpolate(t,e,i,s,r){return e*Math.pow(s/e,(r-t)/(i-t))}}class Qt extends qn{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return te(this.input)?qr(this.input)||this.input instanceof Ce?1:this.input.numberOfInputs:0}get numberOfOutputs(){return te(this.output)?this.output.numberOfOutputs:0}_isAudioNode(t){return te(t)&&(t instanceof Qt||Hs(t))}_getInternalNodes(){const t=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&t.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&t.push(this.output),t}_setChannelProperties(t){this._getInternalNodes().forEach(i=>{i.channelCount=t.channelCount,i.channelCountMode=t.channelCountMode,i.channelInterpretation=t.channelInterpretation})}_getChannelProperties(){const t=this._getInternalNodes();Ht(t.length>0,"ToneAudioNode does not have any internal nodes");const e=t[0];return{channelCount:e.channelCount,channelCountMode:e.channelCountMode,channelInterpretation:e.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(t){const e=this._getChannelProperties();this._setChannelProperties(Object.assign(e,{channelCount:t}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(t){const e=this._getChannelProperties();this._setChannelProperties(Object.assign(e,{channelCountMode:t}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(t){const e=this._getChannelProperties();this._setChannelProperties(Object.assign(e,{channelInterpretation:t}))}connect(t,e=0,i=0){return na(this,t,e,i),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return Yp("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(t,e=0,i=0){return iN(this,t,e,i),this}chain(...t){return Af(this,...t),this}fan(...t){return t.forEach(e=>this.connect(e)),this}dispose(){return super.dispose(),te(this.input)&&(this.input instanceof Qt?this.input.dispose():Hs(this.input)&&this.input.disconnect()),te(this.output)&&(this.output instanceof Qt?this.output.dispose():Hs(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function Af(...n){const t=n.shift();n.reduce((e,i)=>(e instanceof Qt?e.connect(i):Hs(e)&&na(e,i),i),t)}function na(n,t,e=0,i=0){for(Ht(te(n),"Cannot connect from undefined node"),Ht(te(t),"Cannot connect to undefined node"),(t instanceof Qt||Hs(t))&&Ht(t.numberOfInputs>0,"Cannot connect to node with no inputs"),Ht(n.numberOfOutputs>0,"Cannot connect from node with no outputs");t instanceof Qt||t instanceof Ce;)te(t.input)&&(t=t.input);for(;n instanceof Qt;)te(n.output)&&(n=n.output);qr(t)?n.connect(t,e):n.connect(t,e,i)}function iN(n,t,e=0,i=0){if(te(t))for(;t instanceof Qt;)t=t.input;for(;!Hs(n);)te(n.output)&&(n=n.output);qr(t)?n.disconnect(t,e):Hs(t)?n.disconnect(t,e,i):n.disconnect()}class hn extends Qt{constructor(){super(Pt(hn.getDefaults(),arguments,["gain","units"])),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode;const t=Pt(hn.getDefaults(),arguments,["gain","units"]);this.gain=new Ce({context:this.context,convert:t.convert,param:this._gainNode.gain,units:t.units,value:t.gain,minValue:t.minValue,maxValue:t.maxValue}),Ve(this,"gain")}static getDefaults(){return Object.assign(Qt.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class Uo extends Qt{constructor(t){super(t),this.onended=he,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new hn({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(e){const i=this.toSeconds(e);return this._startTime!==-1&&i>=this._startTime&&(this._stopTime===-1||i<=this._stopTime)?"started":"stopped"},this._fadeIn=t.fadeIn,this._fadeOut=t.fadeOut,this._curve=t.curve,this.onended=t.onended}static getDefaults(){return Object.assign(Qt.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:he})}_startGain(t,e=1){Ht(this._startTime===-1,"Source cannot be started more than once");const i=this.toSeconds(this._fadeIn);return this._startTime=t+i,this._startTime=Math.max(this._startTime,this.context.currentTime),i>0?(this._gainNode.gain.setValueAtTime(0,t),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(e,t+i):this._gainNode.gain.exponentialApproachValueAtTime(e,t,i)):this._gainNode.gain.setValueAtTime(e,t),this}stop(t){return this.log("stop",t),this._stopGain(this.toSeconds(t)),this}_stopGain(t){Ht(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const e=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(t)+e,this._stopTime=Math.max(this._stopTime,this.now()),e>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,e,t):this._gainNode.gain.targetRampTo(0,e,t):(this._gainNode.gain.cancelAndHoldAtTime(t),this._gainNode.gain.setValueAtTime(0,t)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const i=this._curve==="exponential"?e*2:0;this._stopSource(this.now()+i),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==he&&(this.onended(this),this.onended=he,!this.context.isOffline)){const t=()=>this.dispose();typeof window.requestIdleCallback<"u"?window.requestIdleCallback(t):setTimeout(t,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),Ht(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=he,this}}class Mu extends Uo{constructor(){super(Pt(Mu.getDefaults(),arguments,["offset"])),this.name="ToneConstantSource",this._source=this.context.createConstantSource();const t=Pt(Mu.getDefaults(),arguments,["offset"]);na(this._source,this._gainNode),this.offset=new Ce({context:this.context,convert:t.convert,param:this._source.offset,units:t.units,value:t.offset,minValue:t.minValue,maxValue:t.maxValue})}static getDefaults(){return Object.assign(Uo.getDefaults(),{convert:!0,offset:1,units:"number"})}start(t){const e=this.toSeconds(t);return this.log("start",e),this._startGain(e),this._source.start(e),this}_stopSource(t){this._source.stop(t)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class en extends Qt{constructor(){super(Pt(en.getDefaults(),arguments,["value","units"])),this.name="Signal",this.override=!0;const t=Pt(en.getDefaults(),arguments,["value","units"]);this.output=this._constantSource=new Mu({context:this.context,convert:t.convert,offset:t.value,units:t.units,minValue:t.minValue,maxValue:t.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(Qt.getDefaults(),{convert:!0,units:"number",value:0})}connect(t,e=0,i=0){return Jp(this,t,e,i),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(t,e){return this._param.setValueAtTime(t,e),this}getValueAtTime(t){return this._param.getValueAtTime(t)}setRampPoint(t){return this._param.setRampPoint(t),this}linearRampToValueAtTime(t,e){return this._param.linearRampToValueAtTime(t,e),this}exponentialRampToValueAtTime(t,e){return this._param.exponentialRampToValueAtTime(t,e),this}exponentialRampTo(t,e,i){return this._param.exponentialRampTo(t,e,i),this}linearRampTo(t,e,i){return this._param.linearRampTo(t,e,i),this}targetRampTo(t,e,i){return this._param.targetRampTo(t,e,i),this}exponentialApproachValueAtTime(t,e,i){return this._param.exponentialApproachValueAtTime(t,e,i),this}setTargetAtTime(t,e,i){return this._param.setTargetAtTime(t,e,i),this}setValueCurveAtTime(t,e,i,s){return this._param.setValueCurveAtTime(t,e,i,s),this}cancelScheduledValues(t){return this._param.cancelScheduledValues(t),this}cancelAndHoldAtTime(t){return this._param.cancelAndHoldAtTime(t),this}rampTo(t,e,i){return this._param.rampTo(t,e,i),this}get value(){return this._param.value}set value(t){this._param.value=t}get convert(){return this._param.convert}set convert(t){this._param.convert=t}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(t){this._param.overridden=t}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(t){return this._param.apply(t),this}}function Jp(n,t,e,i){(t instanceof Ce||qr(t)||t instanceof en&&t.override)&&(t.cancelScheduledValues(0),t.setValueAtTime(0,0),t instanceof en&&(t.overridden=!0)),na(n,t,e,i)}class Au extends Ce{constructor(){super(Pt(Au.getDefaults(),arguments,["value"])),this.name="TickParam",this._events=new _i(1/0),this._multiplier=1;const t=Pt(Au.getDefaults(),arguments,["value"]);this._multiplier=t.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(t.value)}),this.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(Ce.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(t,e,i){e=this.toSeconds(e),this.setRampPoint(e);const s=this._fromType(t),r=this._events.get(e),o=Math.round(Math.max(1/i,1));for(let a=0;a<=o;a++){const l=i*a+e,c=this._exponentialApproach(r.time,r.value,s,i,l);this.linearRampToValueAtTime(this._toType(c),l)}return this}setValueAtTime(t,e){const i=this.toSeconds(e);super.setValueAtTime(t,e);const s=this._events.get(i),r=this._events.previousEvent(s),o=this._getTicksUntilEvent(r,i);return s.ticks=Math.max(o,0),this}linearRampToValueAtTime(t,e){const i=this.toSeconds(e);super.linearRampToValueAtTime(t,e);const s=this._events.get(i),r=this._events.previousEvent(s),o=this._getTicksUntilEvent(r,i);return s.ticks=Math.max(o,0),this}exponentialRampToValueAtTime(t,e){e=this.toSeconds(e);const i=this._fromType(t),s=this._events.get(e),r=Math.round(Math.max((e-s.time)*10,1)),o=(e-s.time)/r;for(let a=0;a<=r;a++){const l=o*a+s.time,c=this._exponentialInterpolate(s.time,s.value,e,i,l);this.linearRampToValueAtTime(this._toType(c),l)}return this}_getTicksUntilEvent(t,e){if(t===null)t={ticks:0,time:0,type:"setValueAtTime",value:0};else if(mi(t.ticks)){const o=this._events.previousEvent(t);t.ticks=this._getTicksUntilEvent(o,t.time)}const i=this._fromType(this.getValueAtTime(t.time));let s=this._fromType(this.getValueAtTime(e));const r=this._events.get(e);return r&&r.time===e&&r.type==="setValueAtTime"&&(s=this._fromType(this.getValueAtTime(e-this.sampleTime))),.5*(e-t.time)*(i+s)+t.ticks}getTicksAtTime(t){const e=this.toSeconds(t),i=this._events.get(e);return Math.max(this._getTicksUntilEvent(i,e),0)}getDurationOfTicks(t,e){const i=this.toSeconds(e),s=this.getTicksAtTime(e);return this.getTimeOfTick(s+t)-i}getTimeOfTick(t){const e=this._events.get(t,"ticks"),i=this._events.getAfter(t,"ticks");if(e&&e.ticks===t)return e.time;if(e&&i&&i.type==="linearRampToValueAtTime"&&e.value!==i.value){const s=this._fromType(this.getValueAtTime(e.time)),o=(this._fromType(this.getValueAtTime(i.time))-s)/(i.time-e.time),a=Math.sqrt(Math.pow(s,2)-2*o*(e.ticks-t)),l=(-s+a)/o,c=(-s-a)/o;return(l>0?l:c)+e.time}else return e?e.value===0?1/0:e.time+(t-e.ticks)/e.value:t/this._initialValue}ticksToTime(t,e){return this.getDurationOfTicks(t,e)}timeToTicks(t,e){const i=this.toSeconds(e),s=this.toSeconds(t),r=this.getTicksAtTime(i);return this.getTicksAtTime(i+s)-r}_fromType(t){return this.units==="bpm"&&this.multiplier?1/(60/t/this.multiplier):super._fromType(t)}_toType(t){return this.units==="bpm"&&this.multiplier?t/this.multiplier*60:super._toType(t)}get multiplier(){return this._multiplier}set multiplier(t){const e=this.value;this._multiplier=t,this.cancelScheduledValues(0),this.setValueAtTime(e,0)}}class Ou extends en{constructor(){super(Pt(Ou.getDefaults(),arguments,["value"])),this.name="TickSignal";const t=Pt(Ou.getDefaults(),arguments,["value"]);this.input=this._param=new Au({context:this.context,convert:t.convert,multiplier:t.multiplier,param:this._constantSource.offset,units:t.units,value:t.value})}static getDefaults(){return Object.assign(en.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(t,e){return this._param.ticksToTime(t,e)}timeToTicks(t,e){return this._param.timeToTicks(t,e)}getTimeOfTick(t){return this._param.getTimeOfTick(t)}getDurationOfTicks(t,e){return this._param.getDurationOfTicks(t,e)}getTicksAtTime(t){return this._param.getTicksAtTime(t)}get multiplier(){return this._param.multiplier}set multiplier(t){this._param.multiplier=t}dispose(){return super.dispose(),this._param.dispose(),this}}class Pu extends qn{constructor(){super(Pt(Pu.getDefaults(),arguments,["frequency"])),this.name="TickSource",this._state=new Qp,this._tickOffset=new _i,this._ticksAtTime=new _i,this._secondsAtTime=new _i;const t=Pt(Pu.getDefaults(),arguments,["frequency"]);this.frequency=new Ou({context:this.context,units:t.units,value:t.frequency}),Ve(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},qn.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(t,e){const i=this.toSeconds(t);return this._state.getValueAtTime(i)!=="started"&&(this._state.setStateAtTime("started",i),te(e)&&this.setTicksAtTime(e,i),this._ticksAtTime.cancel(i),this._secondsAtTime.cancel(i)),this}stop(t){const e=this.toSeconds(t);if(this._state.getValueAtTime(e)==="stopped"){const i=this._state.get(e);i&&i.time>0&&(this._tickOffset.cancel(i.time),this._state.cancel(i.time))}return this._state.cancel(e),this._state.setStateAtTime("stopped",e),this.setTicksAtTime(0,e),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e),this}pause(t){const e=this.toSeconds(t);return this._state.getValueAtTime(e)==="started"&&(this._state.setStateAtTime("paused",e),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e)),this}cancel(t){return t=this.toSeconds(t),this._state.cancel(t),this._tickOffset.cancel(t),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t),this}getTicksAtTime(t){const e=this.toSeconds(t),i=this._state.getLastState("stopped",e),s=this._ticksAtTime.get(e),r={state:"paused",time:e};this._state.add(r);let o=s||i,a=s?s.ticks:0,l=null;return this._state.forEachBetween(o.time,e+this.sampleTime,c=>{let u=o.time;const h=this._tickOffset.get(c.time);h&&h.time>=o.time&&(a=h.ticks,u=h.time),o.state==="started"&&c.state!=="started"&&(a+=this.frequency.getTicksAtTime(c.time)-this.frequency.getTicksAtTime(u),c.time!==r.time&&(l={state:c.state,time:c.time,ticks:a})),o=c}),this._state.remove(r),l&&this._ticksAtTime.add(l),a}get ticks(){return this.getTicksAtTime(this.now())}set ticks(t){this.setTicksAtTime(t,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(t){const e=this.now(),i=this.frequency.timeToTicks(t,e);this.setTicksAtTime(i,e)}getSecondsAtTime(t){t=this.toSeconds(t);const e=this._state.getLastState("stopped",t),i={state:"paused",time:t};this._state.add(i);const s=this._secondsAtTime.get(t);let r=s||e,o=s?s.seconds:0,a=null;return this._state.forEachBetween(r.time,t+this.sampleTime,l=>{let c=r.time;const u=this._tickOffset.get(l.time);u&&u.time>=r.time&&(o=u.seconds,c=u.time),r.state==="started"&&l.state!=="started"&&(o+=l.time-c,l.time!==i.time&&(a={state:l.state,time:l.time,seconds:o})),r=l}),this._state.remove(i),a&&this._secondsAtTime.add(a),o}setTicksAtTime(t,e){return e=this.toSeconds(e),this._tickOffset.cancel(e),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(t,e),ticks:t,time:e}),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e),this}getStateAtTime(t){return t=this.toSeconds(t),this._state.getValueAtTime(t)}getTimeOfTick(t,e=this.now()){const i=this._tickOffset.get(e),s=this._state.get(e),r=Math.max(i.time,s.time),o=this.frequency.getTicksAtTime(r)+t-i.ticks;return this.frequency.getTimeOfTick(o)}forEachTickBetween(t,e,i){let s=this._state.get(t);this._state.forEachBetween(t,e,o=>{s&&s.state==="started"&&o.state!=="started"&&this.forEachTickBetween(Math.max(s.time,t),o.time-this.sampleTime,i),s=o});let r=null;if(s&&s.state==="started"){const o=Math.max(s.time,t),a=this.frequency.getTicksAtTime(o),l=this.frequency.getTicksAtTime(s.time),c=a-l;let u=Math.ceil(c)-c;u=yi(u,1)?0:u;let h=this.frequency.getTimeOfTick(a+u);for(;h<e;){try{i(h,Math.round(this.getTicksAtTime(h)))}catch(f){r=f;break}h+=this.frequency.getDurationOfTicks(1,h)}}if(r)throw r;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}class ul extends qn{constructor(){super(Pt(ul.getDefaults(),arguments,["callback","frequency"])),this.name="Clock",this.callback=he,this._lastUpdate=0,this._state=new Qp("stopped"),this._boundLoop=this._loop.bind(this);const t=Pt(ul.getDefaults(),arguments,["callback","frequency"]);this.callback=t.callback,this._tickSource=new Pu({context:this.context,frequency:t.frequency,units:t.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,Ve(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(qn.getDefaults(),{callback:he,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(t,e){px(this.context);const i=this.toSeconds(t);return this.log("start",i),this._state.getValueAtTime(i)!=="started"&&(this._state.setStateAtTime("started",i),this._tickSource.start(i,e),i<this._lastUpdate&&this.emit("start",i,e)),this}stop(t){const e=this.toSeconds(t);return this.log("stop",e),this._state.cancel(e),this._state.setStateAtTime("stopped",e),this._tickSource.stop(e),e<this._lastUpdate&&this.emit("stop",e),this}pause(t){const e=this.toSeconds(t);return this._state.getValueAtTime(e)==="started"&&(this._state.setStateAtTime("paused",e),this._tickSource.pause(e),e<this._lastUpdate&&this.emit("pause",e)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(t){this._tickSource.ticks=t}get seconds(){return this._tickSource.seconds}set seconds(t){this._tickSource.seconds=t}getSecondsAtTime(t){return this._tickSource.getSecondsAtTime(t)}setTicksAtTime(t,e){return this._tickSource.setTicksAtTime(t,e),this}getTimeOfTick(t,e=this.now()){return this._tickSource.getTimeOfTick(t,e)}getTicksAtTime(t){return this._tickSource.getTicksAtTime(t)}nextTickTime(t,e){const i=this.toSeconds(e),s=this.getTicksAtTime(i);return this._tickSource.getTimeOfTick(s+t,i)}_loop(){const t=this._lastUpdate,e=this.now();this._lastUpdate=e,this.log("loop",t,e),t!==e&&(this._state.forEachBetween(t,e,i=>{switch(i.state){case"started":const s=this._tickSource.getTicksAtTime(i.time);this.emit("start",i.time,s);break;case"stopped":i.time!==0&&this.emit("stop",i.time);break;case"paused":this.emit("pause",i.time);break}}),this._tickSource.forEachTickBetween(t,e,(i,s)=>{this.callback(i,s)}))}getStateAtTime(t){const e=this.toSeconds(t);return this._state.getValueAtTime(e)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}Ll.mixin(ul);class tg extends ws{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const t=Pt(tg.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=t.baseUrl,Object.keys(t.urls).forEach(e=>{this._loadingCount++;const i=t.urls[e];this.add(e,i,this._bufferLoaded.bind(this,t.onload),t.onerror)})}static getDefaults(){return{baseUrl:"",onerror:he,onload:he,urls:{}}}has(t){return this._buffers.has(t.toString())}get(t){return Ht(this.has(t),`ToneAudioBuffers has no buffer named: ${t}`),this._buffers.get(t.toString())}_bufferLoaded(t){this._loadingCount--,this._loadingCount===0&&t&&t()}get loaded(){return Array.from(this._buffers).every(([t,e])=>e.loaded)}add(t,e,i=he,s=he){return _s(e)?(this.baseUrl&&e.trim().substring(0,11).toLowerCase()==="data:audio/"&&(this.baseUrl=""),this._buffers.set(t.toString(),new xe(this.baseUrl+e,i,s))):this._buffers.set(t.toString(),new xe(e,i,s)),this}dispose(){return super.dispose(),this._buffers.forEach(t=>t.dispose()),this._buffers.clear(),this}}class yo extends ja{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(t){return this._getPPQ()*t}_secondsToUnits(t){return Math.floor(t/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(t){return t}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class sN extends qn{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new _i,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(t,e){return this._events.add({callback:t,time:this.toSeconds(e)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(t){return this._events.cancel(this.toSeconds(t)),this}_drawLoop(){const t=this.context.currentTime;for(;this._events.length&&this._events.peek().time-this.anticipation<=t;){const e=this._events.shift();e&&t-e.time<=this.expiration&&e.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}hh(n=>{n.draw=new sN({context:n})});dh(n=>{n.draw.dispose()});class rN extends ws{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(t){Ht(te(t.time),"Events must have a time property"),Ht(te(t.duration),"Events must have a duration parameter"),t.time=t.time.valueOf();let e=new oN(t.time,t.time+t.duration,t);for(this._root===null?this._root=e:this._root.insert(e),this._length++;e!==null;)e.updateHeight(),e.updateMax(),this._rebalance(e),e=e.parent;return this}remove(t){if(this._root!==null){const e=[];this._root.search(t.time,e);for(const i of e)if(i.event===t){this._removeNode(i),this._length--;break}}return this}get length(){return this._length}cancel(t){return this.forEachFrom(t,e=>this.remove(e)),this}_setRoot(t){this._root=t,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(t,e){t.parent!==null?(t.isLeftChild()?t.parent.left=e:t.parent.right=e,this._rebalance(t.parent)):this._setRoot(e)}_removeNode(t){if(t.left===null&&t.right===null)this._replaceNodeInParent(t,null);else if(t.right===null)this._replaceNodeInParent(t,t.left);else if(t.left===null)this._replaceNodeInParent(t,t.right);else{const e=t.getBalance();let i,s=null;if(e>0)if(t.left.right===null)i=t.left,i.right=t.right,s=i;else{for(i=t.left.right;i.right!==null;)i=i.right;i.parent&&(i.parent.right=i.left,s=i.parent,i.left=t.left,i.right=t.right)}else if(t.right.left===null)i=t.right,i.left=t.left,s=i;else{for(i=t.right.left;i.left!==null;)i=i.left;i.parent&&(i.parent.left=i.right,s=i.parent,i.left=t.left,i.right=t.right)}t.parent!==null?t.isLeftChild()?t.parent.left=i:t.parent.right=i:this._setRoot(i),s&&this._rebalance(s)}t.dispose()}_rotateLeft(t){const e=t.parent,i=t.isLeftChild(),s=t.right;s&&(t.right=s.left,s.left=t),e!==null?i?e.left=s:e.right=s:this._setRoot(s)}_rotateRight(t){const e=t.parent,i=t.isLeftChild(),s=t.left;s&&(t.left=s.right,s.right=t),e!==null?i?e.left=s:e.right=s:this._setRoot(s)}_rebalance(t){const e=t.getBalance();e>1&&t.left?t.left.getBalance()<0?this._rotateLeft(t.left):this._rotateRight(t):e<-1&&t.right&&(t.right.getBalance()>0?this._rotateRight(t.right):this._rotateLeft(t))}get(t){if(this._root!==null){const e=[];if(this._root.search(t,e),e.length>0){let i=e[0];for(let s=1;s<e.length;s++)e[s].low>i.low&&(i=e[s]);return i.event}}return null}forEach(t){if(this._root!==null){const e=[];this._root.traverse(i=>e.push(i)),e.forEach(i=>{i.event&&t(i.event)})}return this}forEachAtTime(t,e){if(this._root!==null){const i=[];this._root.search(t,i),i.forEach(s=>{s.event&&e(s.event)})}return this}forEachFrom(t,e){if(this._root!==null){const i=[];this._root.searchAfter(t,i),i.forEach(s=>{s.event&&e(s.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(t=>t.dispose()),this._root=null,this}}class oN{constructor(t,e,i){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=i,this.low=t,this.high=e,this.max=this.high}insert(t){t.low<=this.low?this.left===null?this.left=t:this.left.insert(t):this.right===null?this.right=t:this.right.insert(t)}search(t,e){t>this.max||(this.left!==null&&this.left.search(t,e),this.low<=t&&this.high>t&&e.push(this),!(this.low>t)&&this.right!==null&&this.right.search(t,e))}searchAfter(t,e){this.low>=t&&(e.push(this),this.left!==null&&this.left.searchAfter(t,e)),this.right!==null&&this.right.searchAfter(t,e)}traverse(t){t(this),this.left!==null&&this.left.traverse(t),this.right!==null&&this.right.traverse(t)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let t=0;return this.left!==null&&this.right!==null?t=this.left.height-this.right.height:this.left!==null?t=this.left.height+1:this.right!==null&&(t=-(this.right.height+1)),t}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(t){this._left=t,t!==null&&(t.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(t){this._right=t,t!==null&&(t.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class $r extends Qt{constructor(){super(Pt($r.getDefaults(),arguments,["volume"])),this.name="Volume";const t=Pt($r.getDefaults(),arguments,["volume"]);this.input=this.output=new hn({context:this.context,gain:t.volume,units:"decibels"}),this.volume=this.output.gain,Ve(this,"volume"),this._unmutedVolume=t.volume,this.mute=t.mute}static getDefaults(){return Object.assign(Qt.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(t){!this.mute&&t?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!t&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class Du extends Qt{constructor(){super(Pt(Du.getDefaults(),arguments)),this.name="Destination",this.input=new $r({context:this.context}),this.output=new hn({context:this.context}),this.volume=this.input.volume;const t=Pt(Du.getDefaults(),arguments);Af(this.input,this.output,this.context.rawContext.destination),this.mute=t.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(Qt.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(t){this.input.mute=t}chain(...t){return this.input.disconnect(),t.unshift(this.input),t.push(this.output),Af(...t),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}hh(n=>{n.destination=new Du({context:n})});dh(n=>{n.destination.dispose()});class aN extends ws{constructor(t){super(),this.name="TimelineValue",this._timeline=new _i({memory:10}),this._initialValue=t}set(t,e){return this._timeline.add({value:t,time:e}),this}get(t){const e=this._timeline.get(t);return e?e.value:this._initialValue}}class Ho extends Qt{constructor(){super(Object.assign(Pt(Ho.getDefaults(),arguments,["context"])))}connect(t,e=0,i=0){return Jp(this,t,e,i),this}}class Ko extends Ho{constructor(){super(Object.assign(Pt(Ko.getDefaults(),arguments,["mapping","length"]))),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper;const t=Pt(Ko.getDefaults(),arguments,["mapping","length"]);Si(t.mapping)||t.mapping instanceof Float32Array?this.curve=Float32Array.from(t.mapping):DR(t.mapping)&&this.setMap(t.mapping,t.length)}static getDefaults(){return Object.assign(en.getDefaults(),{length:1024})}setMap(t,e=1024){const i=new Float32Array(e);for(let s=0,r=e;s<r;s++){const o=s/(r-1)*2-1;i[s]=t(o,s)}return this.curve=i,this}get curve(){return this._shaper.curve}set curve(t){this._shaper.curve=t}get oversample(){return this._shaper.oversample}set oversample(t){const e=["none","2x","4x"].some(i=>i.includes(t));Ht(e,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=t}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class Eu extends Ho{constructor(){super(Object.assign(Pt(Eu.getDefaults(),arguments,["value"]))),this.name="Pow";const t=Pt(Eu.getDefaults(),arguments,["value"]);this._exponentScaler=this.input=this.output=new Ko({context:this.context,mapping:this._expFunc(t.value),length:8192}),this._exponent=t.value}static getDefaults(){return Object.assign(Ho.getDefaults(),{value:1})}_expFunc(t){return e=>Math.pow(Math.abs(e),t)}get value(){return this._exponent}set value(t){this._exponent=t,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class er{constructor(t,e){this.id=er._eventId++,this._remainderTime=0;const i=Object.assign(er.getDefaults(),e);this.transport=t,this.callback=i.callback,this._once=i.once,this.time=Math.floor(i.time),this._remainderTime=i.time-this.time}static getDefaults(){return{callback:he,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(t){if(this.callback){const e=this.transport.bpm.getDurationOfTicks(1,t);this.callback(t+this._remainderTime*e),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}er._eventId=0;class eg extends er{constructor(t,e){super(t,e),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const i=Object.assign(eg.getDefaults(),e);this.duration=i.duration,this._interval=i.interval,this._nextTick=i.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},er.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(t){this._createEvents(t),super.invoke(t)}_createEvent(){return Cu(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new yo(this.context,this._nextTick).toSeconds()):-1}_createEvents(t){Cu(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new yo(this.context,this._nextTick).toSeconds()))}_restart(t){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const e=this.transport.getTicksAtTime(t);$o(e,this.time)&&(this._nextTick=this.floatTime+Math.ceil((e-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class hl extends qn{constructor(){super(Pt(hl.getDefaults(),arguments)),this.name="Transport",this._loop=new aN(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new _i,this._repeatedEvents=new rN,this._syncedSignals=[],this._swingAmount=0;const t=Pt(hl.getDefaults(),arguments);this._ppq=t.ppq,this._clock=new ul({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=t.ppq,this.bpm.setValueAtTime(t.bpm,0),Ve(this,"bpm"),this._timeSignature=t.timeSignature,this._swingTicks=t.ppq/2}static getDefaults(){return Object.assign(qn.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(t,e){if(this._loop.get(t)&&e>=this._loopEnd&&(this.emit("loopEnd",t),this._clock.setTicksAtTime(this._loopStart,t),e=this._loopStart,this.emit("loopStart",t,this._clock.getSecondsAtTime(t)),this.emit("loop",t)),this._swingAmount>0&&e%this._ppq!==0&&e%(this._swingTicks*2)!==0){const i=e%(this._swingTicks*2)/(this._swingTicks*2),s=Math.sin(i*Math.PI)*this._swingAmount;t+=new yo(this.context,this._swingTicks*2/3).toSeconds()*s}by(!0),this._timeline.forEachAtTime(e,i=>i.invoke(t)),by(!1)}schedule(t,e){const i=new er(this,{callback:t,time:new ja(this.context,e).toTicks()});return this._addEvent(i,this._timeline)}scheduleRepeat(t,e,i,s=1/0){const r=new eg(this,{callback:t,duration:new vi(this.context,s).toTicks(),interval:new vi(this.context,e).toTicks(),time:new ja(this.context,i).toTicks()});return this._addEvent(r,this._repeatedEvents)}scheduleOnce(t,e){const i=new er(this,{callback:t,once:!0,time:new ja(this.context,e).toTicks()});return this._addEvent(i,this._timeline)}clear(t){if(this._scheduledEvents.hasOwnProperty(t)){const e=this._scheduledEvents[t.toString()];e.timeline.remove(e.event),e.event.dispose(),delete this._scheduledEvents[t.toString()]}return this}_addEvent(t,e){return this._scheduledEvents[t.id.toString()]={event:t,timeline:e},e.add(t),t.id}cancel(t=0){const e=this.toTicks(t);return this._timeline.forEachFrom(e,i=>this.clear(i.id)),this._repeatedEvents.forEachFrom(e,i=>this.clear(i.id)),this}_bindClockEvents(){this._clock.on("start",(t,e)=>{e=new yo(this.context,e).toSeconds(),this.emit("start",t,e)}),this._clock.on("stop",t=>{this.emit("stop",t)}),this._clock.on("pause",t=>{this.emit("pause",t)})}get state(){return this._clock.getStateAtTime(this.now())}start(t,e){this.context.resume();let i;return te(e)&&(i=this.toTicks(e)),this._clock.start(t,i),this}stop(t){return this._clock.stop(t),this}pause(t){return this._clock.pause(t),this}toggle(t){return t=this.toSeconds(t),this._clock.getStateAtTime(t)!=="started"?this.start(t):this.stop(t),this}get timeSignature(){return this._timeSignature}set timeSignature(t){Si(t)&&(t=t[0]/t[1]*4),this._timeSignature=t}get loopStart(){return new vi(this.context,this._loopStart,"i").toSeconds()}set loopStart(t){this._loopStart=this.toTicks(t)}get loopEnd(){return new vi(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(t){this._loopEnd=this.toTicks(t)}get loop(){return this._loop.get(this.now())}set loop(t){this._loop.set(t,this.now())}setLoopPoints(t,e){return this.loopStart=t,this.loopEnd=e,this}get swing(){return this._swingAmount}set swing(t){this._swingAmount=t}get swingSubdivision(){return new yo(this.context,this._swingTicks).toNotation()}set swingSubdivision(t){this._swingTicks=this.toTicks(t)}get position(){const t=this.now(),e=this._clock.getTicksAtTime(t);return new yo(this.context,e).toBarsBeatsSixteenths()}set position(t){const e=this.toTicks(t);this.ticks=e}get seconds(){return this._clock.seconds}set seconds(t){const e=this.now(),i=this._clock.frequency.timeToTicks(t,e);this.ticks=i}get progress(){if(this.loop){const t=this.now();return(this._clock.getTicksAtTime(t)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(t){if(this._clock.ticks!==t){const e=this.now();if(this.state==="started"){const i=this._clock.getTicksAtTime(e),s=this._clock.frequency.getDurationOfTicks(Math.ceil(i)-i,e),r=e+s;this.emit("stop",r),this._clock.setTicksAtTime(t,r),this.emit("start",r,this._clock.getSecondsAtTime(r))}else this.emit("ticks",e),this._clock.setTicksAtTime(t,e)}}getTicksAtTime(t){return this._clock.getTicksAtTime(t)}getSecondsAtTime(t){return this._clock.getSecondsAtTime(t)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(t){this._clock.frequency.multiplier=t}nextSubdivision(t){if(t=this.toTicks(t),this.state!=="started")return 0;{const e=this.now(),i=this.getTicksAtTime(e),s=t-i%t;return this._clock.nextTickTime(s,e)}}syncSignal(t,e){const i=this.now();let s=this.bpm,r=1/(60/s.getValueAtTime(i)/this.PPQ),o=[];if(t.units==="time"){const l=.015625/r,c=new hn(l),u=new Eu(-1),h=new hn(l);s.chain(c,u,h),s=h,r=1/r,o=[c,u,h]}e||(t.getValueAtTime(i)!==0?e=t.getValueAtTime(i)/r:e=0);const a=new hn(e);return s.connect(a),a.connect(t._param),o.push(a),this._syncedSignals.push({initial:t.value,nodes:o,signal:t}),t.value=0,this}unsyncSignal(t){for(let e=this._syncedSignals.length-1;e>=0;e--){const i=this._syncedSignals[e];i.signal===t&&(i.nodes.forEach(s=>s.dispose()),i.signal.value=i.initial,this._syncedSignals.splice(e,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),vx(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}Ll.mixin(hl);hh(n=>{n.transport=new hl({context:n})});dh(n=>{n.transport.dispose()});class si extends Qt{constructor(t){super(t),this.input=void 0,this._state=new Qp("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=he,this._syncedStop=he,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new $r({context:this.context,mute:t.mute,volume:t.volume}),this.volume=this._volume.volume,Ve(this,"volume"),this.onstop=t.onstop}static getDefaults(){return Object.assign(Qt.getDefaults(),{mute:!1,onstop:he,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}_clampToCurrentTime(t){return this._synced?t:Math.max(t,this.context.currentTime)}start(t,e,i){let s=mi(t)&&this._synced?this.context.transport.seconds:this.toSeconds(t);if(s=this._clampToCurrentTime(s),!this._synced&&this._state.getValueAtTime(s)==="started")Ht($o(s,this._state.get(s).time),"Start time must be strictly greater than previous start time"),this._state.cancel(s),this._state.setStateAtTime("started",s),this.log("restart",s),this.restart(s,e,i);else if(this.log("start",s),this._state.setStateAtTime("started",s),this._synced){const r=this._state.get(s);r&&(r.offset=this.toSeconds(Do(e,0)),r.duration=i?this.toSeconds(i):void 0);const o=this.context.transport.schedule(a=>{this._start(a,e,i)},s);this._scheduled.push(o),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>s&&this._syncedStart(this.now(),this.context.transport.seconds)}else px(this.context),this._start(s,e,i);return this}stop(t){let e=mi(t)&&this._synced?this.context.transport.seconds:this.toSeconds(t);if(e=this._clampToCurrentTime(e),this._state.getValueAtTime(e)==="started"||te(this._state.getNextState("started",e))){if(this.log("stop",e),!this._synced)this._stop(e);else{const i=this.context.transport.schedule(this._stop.bind(this),e);this._scheduled.push(i)}this._state.cancel(e),this._state.setStateAtTime("stopped",e)}return this}restart(t,e,i){return t=this.toSeconds(t),this._state.getValueAtTime(t)==="started"&&(this._state.cancel(t),this._restart(t,e,i)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(t,e)=>{if($o(e,0)){const i=this._state.get(e);if(i&&i.state==="started"&&i.time!==e){const s=e-this.toSeconds(i.time);let r;i.duration&&(r=this.toSeconds(i.duration)-s),this._start(t,this.toSeconds(i.offset)+s,r)}}},this._syncedStop=t=>{const e=this.context.transport.getSecondsAtTime(Math.max(t-this.sampleTime,0));this._state.getValueAtTime(e)==="started"&&this._stop(t)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(t=>this.context.transport.clear(t)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=he,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class dl extends Uo{constructor(){super(Pt(dl.getDefaults(),arguments,["url","onload"])),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1;const t=Pt(dl.getDefaults(),arguments,["url","onload"]);na(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new Ce({context:this.context,param:this._source.playbackRate,units:"positive",value:t.playbackRate}),this.loop=t.loop,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this._buffer=new xe(t.url,t.onload,t.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(Uo.getDefaults(),{url:new xe,loop:!1,loopEnd:0,loopStart:0,onload:he,onerror:he,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(t){this._fadeIn=t}get fadeOut(){return this._fadeOut}set fadeOut(t){this._fadeOut=t}get curve(){return this._curve}set curve(t){this._curve=t}start(t,e,i,s=1){Ht(this.buffer.loaded,"buffer is either not set or not loaded");const r=this.toSeconds(t);this._startGain(r,s),this.loop?e=Do(e,this.loopStart):e=Do(e,0);let o=Math.max(this.toSeconds(e),0);if(this.loop){const a=this.toSeconds(this.loopEnd)||this.buffer.duration,l=this.toSeconds(this.loopStart),c=a-l;Cf(o,a)&&(o=(o-l)%c+l),yi(o,this.buffer.duration)&&(o=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,Cu(o,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(r,o)),te(i)){let a=this.toSeconds(i);a=Math.max(a,0),this.stop(r+a)}return this}_stopSource(t){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(t)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(t){this._source.loopStart=this.toSeconds(t)}get loopEnd(){return this._source.loopEnd}set loopEnd(t){this._source.loopEnd=this.toSeconds(t)}get buffer(){return this._buffer}set buffer(t){this._buffer.set(t)}get loop(){return this._source.loop}set loop(t){this._source.loop=t,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}function Jr(n,t){return Xe(this,void 0,void 0,function*(){const e=t/n.context.sampleRate,i=new Xp(1,e,n.context.sampleRate);return new n.constructor(Object.assign(n.get(),{frequency:2/e,detune:0,context:i})).toDestination().start(0),(yield i.render()).getChannelData(0)})}class Iu extends Uo{constructor(){super(Pt(Iu.getDefaults(),arguments,["frequency","type"])),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator];const t=Pt(Iu.getDefaults(),arguments,["frequency","type"]);na(this._oscillator,this._gainNode),this.type=t.type,this.frequency=new Ce({context:this.context,param:this._oscillator.frequency,units:"frequency",value:t.frequency}),this.detune=new Ce({context:this.context,param:this._oscillator.detune,units:"cents",value:t.detune}),Ve(this,["frequency","detune"])}static getDefaults(){return Object.assign(Uo.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(t){const e=this.toSeconds(t);return this.log("start",e),this._startGain(e),this._oscillator.start(e),this}_stopSource(t){this._oscillator.stop(t)}setPeriodicWave(t){return this._oscillator.setPeriodicWave(t),this}get type(){return this._oscillator.type}set type(t){this._oscillator.type=t}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class $e extends si{constructor(){super(Pt($e.getDefaults(),arguments,["frequency","type"])),this.name="Oscillator",this._oscillator=null;const t=Pt($e.getDefaults(),arguments,["frequency","type"]);this.frequency=new en({context:this.context,units:"frequency",value:t.frequency}),Ve(this,"frequency"),this.detune=new en({context:this.context,units:"cents",value:t.detune}),Ve(this,"detune"),this._partials=t.partials,this._partialCount=t.partialCount,this._type=t.type,t.partialCount&&t.type!=="custom"&&(this._type=this.baseType+t.partialCount.toString()),this.phase=t.phase}static getDefaults(){return Object.assign(si.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(t){const e=this.toSeconds(t),i=new Iu({context:this.context,onended:()=>this.onstop(this)});this._oscillator=i,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(e)}_stop(t){const e=this.toSeconds(t);this._oscillator&&this._oscillator.stop(e)}_restart(t){const e=this.toSeconds(t);return this.log("restart",e),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(e),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return $e._periodicWaveCache.find(e=>e.phase===this._phase&&zR(e.partials,this._partials));{const t=$e._periodicWaveCache.find(e=>e.type===this._type&&e.phase===this._phase);return this._partialCount=t?t.partialCount:this._partialCount,t}}get type(){return this._type}set type(t){this._type=t;const e=["sine","square","sawtooth","triangle"].indexOf(t)!==-1;if(this._phase===0&&e)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=t);else{const i=this._getCachedPeriodicWave();if(te(i)){const{partials:s,wave:r}=i;this._wave=r,this._partials=s,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[s,r]=this._getRealImaginary(t,this._phase),o=this.context.createPeriodicWave(s,r);this._wave=o,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),$e._periodicWaveCache.push({imag:r,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:s,type:this._type,wave:this._wave}),$e._periodicWaveCache.length>100&&$e._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(t){this.partialCount&&this._type!=="custom"&&t!=="custom"?this.type=t+this.partialCount:this.type=t}get partialCount(){return this._partialCount}set partialCount(t){tr(t,0);let e=this._type;const i=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(i&&(e=i[1]),this._type!=="custom")t===0?this.type=e:this.type=e+t.toString();else{const s=new Float32Array(t);this._partials.forEach((r,o)=>s[o]=r),this._partials=Array.from(s),this.type=this._type}}_getRealImaginary(t,e){let s=2048;const r=new Float32Array(s),o=new Float32Array(s);let a=1;if(t==="custom"){if(a=this._partials.length+1,this._partialCount=this._partials.length,s=a,this._partials.length===0)return[r,o]}else{const l=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(t);l?(a=parseInt(l[2],10)+1,this._partialCount=parseInt(l[2],10),t=l[1],a=Math.max(a,2),s=a):this._partialCount=0,this._partials=[]}for(let l=1;l<s;++l){const c=2/(l*Math.PI);let u;switch(t){case"sine":u=l<=a?1:0,this._partials[l-1]=u;break;case"square":u=l&1?2*c:0,this._partials[l-1]=u;break;case"sawtooth":u=c*(l&1?1:-1),this._partials[l-1]=u;break;case"triangle":l&1?u=2*(c*c)*(l-1>>1&1?-1:1):u=0,this._partials[l-1]=u;break;case"custom":u=this._partials[l-1];break;default:throw new TypeError("Oscillator: invalid type: "+t)}u!==0?(r[l]=-u*Math.sin(e*l),o[l]=u*Math.cos(e*l)):(r[l]=0,o[l]=0)}return[r,o]}_inverseFFT(t,e,i){let s=0;const r=t.length;for(let o=0;o<r;o++)s+=t[o]*Math.cos(o*i)+e[o]*Math.sin(o*i);return s}getInitialValue(){const[t,e]=this._getRealImaginary(this._type,0);let i=0;const s=Math.PI*2,r=32;for(let o=0;o<r;o++)i=Math.max(this._inverseFFT(t,e,o/r*s),i);return $R(-this._inverseFFT(t,e,this._phase)/i,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(t){this._partials=t,this._partialCount=this._partials.length,t.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(t){this._phase=t*Math.PI/180,this.type=this._type}asArray(t=1024){return Xe(this,void 0,void 0,function*(){return Jr(this,t)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}$e._periodicWaveCache=[];class lN extends Ho{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new Ko({context:this.context,mapping:t=>(t+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Ur extends en{constructor(){super(Object.assign(Pt(Ur.getDefaults(),arguments,["value"]))),this.name="Multiply",this.override=!1;const t=Pt(Ur.getDefaults(),arguments,["value"]);this._mult=this.input=this.output=new hn({context:this.context,minValue:t.minValue,maxValue:t.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(en.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class fl extends si{constructor(){super(Pt(fl.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="AMOscillator",this._modulationScale=new lN({context:this.context}),this._modulationNode=new hn({context:this.context});const t=Pt(fl.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new $e({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase,type:t.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new $e({context:this.context,phase:t.phase,type:t.modulationType}),this.harmonicity=new Ur({context:this.context,units:"positive",value:t.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),Ve(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign($e.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(t){this._modulator.start(t),this._carrier.start(t)}_stop(t){this._modulator.stop(t),this._carrier.stop(t)}_restart(t){this._modulator.restart(t),this._carrier.restart(t)}get type(){return this._carrier.type}set type(t){this._carrier.type=t}get baseType(){return this._carrier.baseType}set baseType(t){this._carrier.baseType=t}get partialCount(){return this._carrier.partialCount}set partialCount(t){this._carrier.partialCount=t}get modulationType(){return this._modulator.type}set modulationType(t){this._modulator.type=t}get phase(){return this._carrier.phase}set phase(t){this._carrier.phase=t,this._modulator.phase=t}get partials(){return this._carrier.partials}set partials(t){this._carrier.partials=t}asArray(t=1024){return Xe(this,void 0,void 0,function*(){return Jr(this,t)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class pl extends si{constructor(){super(Pt(pl.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="FMOscillator",this._modulationNode=new hn({context:this.context,gain:0});const t=Pt(pl.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new $e({context:this.context,detune:t.detune,frequency:0,onstop:()=>this.onstop(this),phase:t.phase,type:t.type}),this.detune=this._carrier.detune,this.frequency=new en({context:this.context,units:"frequency",value:t.frequency}),this._modulator=new $e({context:this.context,phase:t.phase,type:t.modulationType}),this.harmonicity=new Ur({context:this.context,units:"positive",value:t.harmonicity}),this.modulationIndex=new Ur({context:this.context,units:"positive",value:t.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),Ve(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign($e.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(t){this._modulator.start(t),this._carrier.start(t)}_stop(t){this._modulator.stop(t),this._carrier.stop(t)}_restart(t){return this._modulator.restart(t),this._carrier.restart(t),this}get type(){return this._carrier.type}set type(t){this._carrier.type=t}get baseType(){return this._carrier.baseType}set baseType(t){this._carrier.baseType=t}get partialCount(){return this._carrier.partialCount}set partialCount(t){this._carrier.partialCount=t}get modulationType(){return this._modulator.type}set modulationType(t){this._modulator.type=t}get phase(){return this._carrier.phase}set phase(t){this._carrier.phase=t,this._modulator.phase=t}get partials(){return this._carrier.partials}set partials(t){this._carrier.partials=t}asArray(t=1024){return Xe(this,void 0,void 0,function*(){return Jr(this,t)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class Yo extends si{constructor(){super(Pt(Yo.getDefaults(),arguments,["frequency","width"])),this.name="PulseOscillator",this._widthGate=new hn({context:this.context,gain:0}),this._thresh=new Ko({context:this.context,mapping:e=>e<=0?-1:1});const t=Pt(Yo.getDefaults(),arguments,["frequency","width"]);this.width=new en({context:this.context,units:"audioRange",value:t.width}),this._triangle=new $e({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),Ve(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(si.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(t){t=this.toSeconds(t),this._triangle.start(t),this._widthGate.gain.setValueAtTime(1,t)}_stop(t){t=this.toSeconds(t),this._triangle.stop(t),this._widthGate.gain.cancelScheduledValues(t),this._widthGate.gain.setValueAtTime(0,t)}_restart(t){this._triangle.restart(t),this._widthGate.gain.cancelScheduledValues(t),this._widthGate.gain.setValueAtTime(1,t)}get phase(){return this._triangle.phase}set phase(t){this._triangle.phase=t}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(t){this._triangle.type=t}asArray(t=1024){return Xe(this,void 0,void 0,function*(){return Jr(this,t)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class gl extends si{constructor(){super(Pt(gl.getDefaults(),arguments,["frequency","type","spread"])),this.name="FatOscillator",this._oscillators=[];const t=Pt(gl.getDefaults(),arguments,["frequency","type","spread"]);this.frequency=new en({context:this.context,units:"frequency",value:t.frequency}),this.detune=new en({context:this.context,units:"cents",value:t.detune}),this._spread=t.spread,this._type=t.type,this._phase=t.phase,this._partials=t.partials,this._partialCount=t.partialCount,this.count=t.count,Ve(this,["frequency","detune"])}static getDefaults(){return Object.assign($e.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(t){t=this.toSeconds(t),this._forEach(e=>e.start(t))}_stop(t){t=this.toSeconds(t),this._forEach(e=>e.stop(t))}_restart(t){this._forEach(e=>e.restart(t))}_forEach(t){for(let e=0;e<this._oscillators.length;e++)t(this._oscillators[e],e)}get type(){return this._type}set type(t){this._type=t,this._forEach(e=>e.type=t)}get spread(){return this._spread}set spread(t){if(this._spread=t,this._oscillators.length>1){const e=-t/2,i=t/(this._oscillators.length-1);this._forEach((s,r)=>s.detune.value=e+i*r)}}get count(){return this._oscillators.length}set count(t){if(tr(t,1),this._oscillators.length!==t){this._forEach(e=>e.dispose()),this._oscillators=[];for(let e=0;e<t;e++){const i=new $e({context:this.context,volume:-6-t*1.1,type:this._type,phase:this._phase+e/t*360,partialCount:this._partialCount,onstop:e===0?()=>this.onstop(this):he});this.type==="custom"&&(i.partials=this._partials),this.frequency.connect(i.frequency),this.detune.connect(i.detune),i.detune.overridden=!1,i.connect(this.output),this._oscillators[e]=i}this.spread=this._spread,this.state==="started"&&this._forEach(e=>e.start())}}get phase(){return this._phase}set phase(t){this._phase=t,this._forEach((e,i)=>e.phase=this._phase+i/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(t){this._forEach(e=>e.baseType=t),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(t){this._partials=t,this._partialCount=this._partials.length,t.length&&(this._type="custom",this._forEach(e=>e.partials=t))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(t){this._partialCount=t,this._forEach(e=>e.partialCount=t),this._type=this._oscillators[0].type}asArray(t=1024){return Xe(this,void 0,void 0,function*(){return Jr(this,t)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(t=>t.dispose()),this}}class ml extends si{constructor(){super(Pt(ml.getDefaults(),arguments,["frequency","modulationFrequency"])),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new Ur({context:this.context,value:2});const t=Pt(ml.getDefaults(),arguments,["frequency","modulationFrequency"]);this._pulse=new Yo({context:this.context,frequency:t.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new $e({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),Ve(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(si.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(t){t=this.toSeconds(t),this._modulator.start(t),this._pulse.start(t)}_stop(t){t=this.toSeconds(t),this._modulator.stop(t),this._pulse.stop(t)}_restart(t){this._modulator.restart(t),this._pulse.restart(t)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(t){this._modulator.phase=t}asArray(t=1024){return Xe(this,void 0,void 0,function*(){return Jr(this,t)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const xy={am:fl,fat:gl,fm:pl,oscillator:$e,pulse:Yo,pwm:ml};class _l extends si{constructor(){super(Pt(_l.getDefaults(),arguments,["frequency","type"])),this.name="OmniOscillator";const t=Pt(_l.getDefaults(),arguments,["frequency","type"]);this.frequency=new en({context:this.context,units:"frequency",value:t.frequency}),this.detune=new en({context:this.context,units:"cents",value:t.detune}),Ve(this,["frequency","detune"]),this.set(t)}static getDefaults(){return Object.assign($e.getDefaults(),pl.getDefaults(),fl.getDefaults(),gl.getDefaults(),Yo.getDefaults(),ml.getDefaults())}_start(t){this._oscillator.start(t)}_stop(t){this._oscillator.stop(t)}_restart(t){return this._oscillator.restart(t),this}get type(){let t="";return["am","fm","fat"].some(e=>this._sourceType===e)&&(t=this._sourceType),t+this._oscillator.type}set type(t){t.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(2)):t.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(2)):t.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(3)):t==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):t==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=t)}get partials(){return this._oscillator.partials}set partials(t){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=t)}get partialCount(){return this._oscillator.partialCount}set partialCount(t){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=t)}set(t){return Reflect.has(t,"type")&&t.type&&(this.type=t.type),super.set(t),this}_createNewOscillator(t){if(t!==this._sourceType){this._sourceType=t;const e=xy[t],i=this.now();if(this._oscillator){const s=this._oscillator;s.stop(i),this.context.setTimeout(()=>s.dispose(),this.blockTime)}this._oscillator=new e({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(i)}}get phase(){return this._oscillator.phase}set phase(t){this._oscillator.phase=t}get sourceType(){return this._sourceType}set sourceType(t){let e="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(e=this._oscillator.type),t==="fm"?this.type="fm"+e:t==="am"?this.type="am"+e:t==="fat"?this.type="fat"+e:t==="oscillator"?this.type=e:t==="pulse"?this.type="pulse":t==="pwm"&&(this.type="pwm")}_getOscType(t,e){return t instanceof xy[e]}get baseType(){return this._oscillator.baseType}set baseType(t){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&t!=="pulse"&&t!=="pwm"&&(this._oscillator.baseType=t)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(t){this._getOscType(this._oscillator,"fat")&&zr(t)&&(this._oscillator.count=t)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(t){this._getOscType(this._oscillator,"fat")&&zr(t)&&(this._oscillator.spread=t)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(t){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&_s(t)&&(this._oscillator.modulationType=t)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(t=1024){return Xe(this,void 0,void 0,function*(){return Jr(this,t)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}function Tx(n,t=1/0){const e=new WeakMap;return function(i,s){Reflect.defineProperty(i,s,{configurable:!0,enumerable:!0,get:function(){return e.get(this)},set:function(r){tr(r,n,t),e.set(this,r)}})}}function Ss(n,t=1/0){const e=new WeakMap;return function(i,s){Reflect.defineProperty(i,s,{configurable:!0,enumerable:!0,get:function(){return e.get(this)},set:function(r){tr(this.toSeconds(r),n,t),e.set(this,r)}})}}class yl extends si{constructor(){super(Pt(yl.getDefaults(),arguments,["url","onload"])),this.name="Player",this._activeSources=new Set;const t=Pt(yl.getDefaults(),arguments,["url","onload"]);this._buffer=new xe({onload:this._onload.bind(this,t.onload),onerror:t.onerror,reverse:t.reverse,url:t.url}),this.autostart=t.autostart,this._loop=t.loop,this._loopStart=t.loopStart,this._loopEnd=t.loopEnd,this._playbackRate=t.playbackRate,this.fadeIn=t.fadeIn,this.fadeOut=t.fadeOut}static getDefaults(){return Object.assign(si.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:he,onerror:he,playbackRate:1,reverse:!1})}load(t){return Xe(this,void 0,void 0,function*(){return yield this._buffer.load(t),this._onload(),this})}_onload(t=he){t(),this.autostart&&this.start()}_onSourceEnd(t){this.onstop(this),this._activeSources.delete(t),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(t,e,i){return super.start(t,e,i),this}_start(t,e,i){this._loop?e=Do(e,this._loopStart):e=Do(e,0);const s=this.toSeconds(e),r=i;i=Do(i,Math.max(this._buffer.duration-s,0));let o=this.toSeconds(i);o=o/this._playbackRate,t=this.toSeconds(t);const a=new dl({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(t+o),this._state.setStateAtTime("stopped",t+o,{implicitEnd:!0})),this._activeSources.add(a),this._loop&&mi(r)?a.start(t,s):a.start(t,s,o-this.toSeconds(this.fadeOut))}_stop(t){const e=this.toSeconds(t);this._activeSources.forEach(i=>i.stop(e))}restart(t,e,i){return super.restart(t,e,i),this}_restart(t,e,i){var s;(s=[...this._activeSources].pop())===null||s===void 0||s.stop(t),this._start(t,e,i)}seek(t,e){const i=this.toSeconds(e);if(this._state.getValueAtTime(i)==="started"){const s=this.toSeconds(t);this._stop(i),this._start(i,s)}return this}setLoopPoints(t,e){return this.loopStart=t,this.loopEnd=e,this}get loopStart(){return this._loopStart}set loopStart(t){this._loopStart=t,this.buffer.loaded&&tr(this.toSeconds(t),0,this.buffer.duration),this._activeSources.forEach(e=>{e.loopStart=t})}get loopEnd(){return this._loopEnd}set loopEnd(t){this._loopEnd=t,this.buffer.loaded&&tr(this.toSeconds(t),0,this.buffer.duration),this._activeSources.forEach(e=>{e.loopEnd=t})}get buffer(){return this._buffer}set buffer(t){this._buffer.set(t)}get loop(){return this._loop}set loop(t){if(this._loop!==t&&(this._loop=t,this._activeSources.forEach(e=>{e.loop=t}),t)){const e=this._state.getNextState("stopped",this.now());e&&this._state.cancel(e.time)}}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t;const e=this.now(),i=this._state.getNextState("stopped",e);i&&i.implicitEnd&&(this._state.cancel(i.time),this._activeSources.forEach(s=>s.cancelStop())),this._activeSources.forEach(s=>{s.playbackRate.setValueAtTime(t,e)})}get reverse(){return this._buffer.reverse}set reverse(t){this._buffer.reverse=t}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(t=>t.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}Mi([Ss(0)],yl.prototype,"fadeIn",void 0);Mi([Ss(0)],yl.prototype,"fadeOut",void 0);class ys extends Qt{constructor(){super(Pt(ys.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="Envelope",this._sig=new en({context:this.context,value:0}),this.output=this._sig,this.input=void 0;const t=Pt(ys.getDefaults(),arguments,["attack","decay","sustain","release"]);this.attack=t.attack,this.decay=t.decay,this.sustain=t.sustain,this.release=t.release,this.attackCurve=t.attackCurve,this.releaseCurve=t.releaseCurve,this.decayCurve=t.decayCurve}static getDefaults(){return Object.assign(Qt.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(t,e){if(_s(t))return t;{let i;for(i in Pc)if(Pc[i][e]===t)return i;return t}}_setCurve(t,e,i){if(_s(i)&&Reflect.has(Pc,i)){const s=Pc[i];Fr(s)?t!=="_decayCurve"&&(this[t]=s[e]):this[t]=s}else if(Si(i)&&t!=="_decayCurve")this[t]=i;else throw new Error("Envelope: invalid curve: "+i)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(t){this._setCurve("_attackCurve","In",t)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(t){this._setCurve("_releaseCurve","Out",t)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(t){this._setCurve("_decayCurve","Out",t)}triggerAttack(t,e=1){this.log("triggerAttack",t,e),t=this.toSeconds(t);let s=this.toSeconds(this.attack);const r=this.toSeconds(this.decay),o=this.getValueAtTime(t);if(o>0){const a=1/s;s=(1-o)/a}if(s<this.sampleTime)this._sig.cancelScheduledValues(t),this._sig.setValueAtTime(e,t);else if(this._attackCurve==="linear")this._sig.linearRampTo(e,s,t);else if(this._attackCurve==="exponential")this._sig.targetRampTo(e,s,t);else{this._sig.cancelAndHoldAtTime(t);let a=this._attackCurve;for(let l=1;l<a.length;l++)if(a[l-1]<=o&&o<=a[l]){a=this._attackCurve.slice(l),a[0]=o;break}this._sig.setValueCurveAtTime(a,t,s,e)}if(r&&this.sustain<1){const a=e*this.sustain,l=t+s;this.log("decay",l),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(a,r+l):this._sig.exponentialApproachValueAtTime(a,l,r)}return this}triggerRelease(t){this.log("triggerRelease",t),t=this.toSeconds(t);const e=this.getValueAtTime(t);if(e>0){const i=this.toSeconds(this.release);i<this.sampleTime?this._sig.setValueAtTime(0,t):this._releaseCurve==="linear"?this._sig.linearRampTo(0,i,t):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,i,t):(Ht(Si(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(t),this._sig.setValueCurveAtTime(this._releaseCurve,t,i,e))}return this}getValueAtTime(t){return this._sig.getValueAtTime(t)}triggerAttackRelease(t,e,i=1){return e=this.toSeconds(e),this.triggerAttack(e,i),this.triggerRelease(e+this.toSeconds(t)),this}cancel(t){return this._sig.cancelScheduledValues(this.toSeconds(t)),this}connect(t,e=0,i=0){return Jp(this,t,e,i),this}asArray(t=1024){return Xe(this,void 0,void 0,function*(){const e=t/this.context.sampleRate,i=new Xp(1,e,this.context.sampleRate),s=this.toSeconds(this.attack)+this.toSeconds(this.decay),r=s+this.toSeconds(this.release),o=r*.1,a=r+o,l=new this.constructor(Object.assign(this.get(),{attack:e*this.toSeconds(this.attack)/a,decay:e*this.toSeconds(this.decay)/a,release:e*this.toSeconds(this.release)/a,context:i}));return l._sig.toDestination(),l.triggerAttackRelease(e*(s+o)/a,0),(yield i.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}Mi([Ss(0)],ys.prototype,"attack",void 0);Mi([Ss(0)],ys.prototype,"decay",void 0);Mi([Tx(0,1)],ys.prototype,"sustain",void 0);Mi([Ss(0)],ys.prototype,"release",void 0);const Pc=(()=>{let t,e;const i=[];for(t=0;t<128;t++)i[t]=Math.sin(t/127*(Math.PI/2));const s=[],r=6.4;for(t=0;t<127;t++){e=t/127;const f=Math.sin(e*(Math.PI*2)*r-Math.PI/2)+1;s[t]=f/10+e*.83}s[127]=1;const o=[],a=5;for(t=0;t<128;t++)o[t]=Math.ceil(t/127*a)/a;const l=[];for(t=0;t<128;t++)e=t/127,l[t]=.5*(1-Math.cos(Math.PI*e));const c=[];for(t=0;t<128;t++){e=t/127;const f=Math.pow(e,3)*4+.2,g=Math.cos(f*Math.PI*2*e);c[t]=Math.abs(g*(1-e))}function u(f){const g=new Array(f.length);for(let _=0;_<f.length;_++)g[_]=1-f[_];return g}function h(f){return f.slice(0).reverse()}return{bounce:{In:u(c),Out:c},cosine:{In:i,Out:h(i)},exponential:"exponential",linear:"linear",ripple:{In:s,Out:u(s)},sine:{In:l,Out:u(l)},step:{In:o,Out:u(o)}}})();class Hr extends Qt{constructor(){super(Pt(Hr.getDefaults(),arguments)),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=e=>this._original_triggerRelease(e);const t=Pt(Hr.getDefaults(),arguments);this._volume=this.output=new $r({context:this.context,volume:t.volume}),this.volume=this._volume.volume,Ve(this,"volume")}static getDefaults(){return Object.assign(Qt.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let t=!1;return this._synced||(this._synced=!0,t=!0),t}_syncMethod(t,e){const i=this["_original_"+t]=this[t];this[t]=(...s)=>{const r=s[e],o=this.context.transport.schedule(a=>{s[e]=a,i.apply(this,s)},r);this._scheduledEvents.push(o)}}unsync(){return this._scheduledEvents.forEach(t=>this.context.transport.clear(t)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(t,e,i,s){const r=this.toSeconds(i),o=this.toSeconds(e);return this.triggerAttack(t,r,s),this.triggerRelease(r+o),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class Kr extends Hr{constructor(){super(Pt(Kr.getDefaults(),arguments));const t=Pt(Kr.getDefaults(),arguments);this.portamento=t.portamento,this.onsilence=t.onsilence}static getDefaults(){return Object.assign(Hr.getDefaults(),{detune:0,onsilence:he,portamento:0})}triggerAttack(t,e,i=1){this.log("triggerAttack",t,e,i);const s=this.toSeconds(e);return this._triggerEnvelopeAttack(s,i),this.setNote(t,s),this}triggerRelease(t){this.log("triggerRelease",t);const e=this.toSeconds(t);return this._triggerEnvelopeRelease(e),this}setNote(t,e){const i=this.toSeconds(e),s=t instanceof pi?t.toFrequency():t;if(this.portamento>0&&this.getLevelAtTime(i)>.05){const r=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(s,r,i)}else this.frequency.setValueAtTime(s,i);return this}}Mi([Ss(0)],Kr.prototype,"portamento",void 0);class ng extends ys{constructor(){super(Pt(ng.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new hn({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class Go extends Kr{constructor(){super(Pt(Go.getDefaults(),arguments)),this.name="Synth";const t=Pt(Go.getDefaults(),arguments);this.oscillator=new _l(Object.assign({context:this.context,detune:t.detune,onstop:()=>this.onsilence(this)},t.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new ng(Object.assign({context:this.context},t.envelope)),this.oscillator.chain(this.envelope,this.output),Ve(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(Kr.getDefaults(),{envelope:Object.assign(vy(ys.getDefaults(),Object.keys(Qt.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(vy(_l.getDefaults(),[...Object.keys(si.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(t,e){if(this.envelope.triggerAttack(t,e),this.oscillator.start(t),this.envelope.sustain===0){const i=this.toSeconds(this.envelope.attack),s=this.toSeconds(this.envelope.decay);this.oscillator.stop(t+i+s)}}_triggerEnvelopeRelease(t){this.envelope.triggerRelease(t),this.oscillator.stop(t+this.toSeconds(this.envelope.release))}getLevelAtTime(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class bl extends Go{constructor(){super(Pt(bl.getDefaults(),arguments)),this.name="MembraneSynth",this.portamento=0;const t=Pt(bl.getDefaults(),arguments);this.pitchDecay=t.pitchDecay,this.octaves=t.octaves,Ve(this,["oscillator","envelope"])}static getDefaults(){return Po(Kr.getDefaults(),Go.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(t,e){const i=this.toSeconds(e),s=this.toFrequency(t instanceof pi?t.toFrequency():t),r=s*this.octaves;return this.oscillator.frequency.setValueAtTime(r,i),this.oscillator.frequency.exponentialRampToValueAtTime(s,i+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}Mi([Tx(0)],bl.prototype,"octaves",void 0);Mi([Ss(0)],bl.prototype,"pitchDecay",void 0);const kx=new Set;function ig(n){kx.add(n)}function Cx(n,t){const e=`registerProcessor("${n}", ${t})`;kx.add(e)}const cN=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;ig(cN);const uN=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;ig(uN);const hN=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;ig(hN);const dN="feedback-comb-filter",fN=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;Cx(dN,fN);class vl extends Hr{constructor(){super(Pt(vl.getDefaults(),arguments,["urls","onload","baseUrl"],"urls")),this.name="Sampler",this._activeSources=new Map;const t=Pt(vl.getDefaults(),arguments,["urls","onload","baseUrl"],"urls"),e={};Object.keys(t.urls).forEach(i=>{const s=parseInt(i,10);if(Ht(Oc(i)||zr(s)&&isFinite(s),`url key is neither a note or midi pitch: ${i}`),Oc(i)){const r=new pi(this.context,i).toMidi();e[r]=t.urls[i]}else zr(s)&&isFinite(s)&&(e[s]=t.urls[s])}),this._buffers=new tg({urls:e,onload:t.onload,baseUrl:t.baseUrl,onerror:t.onerror}),this.attack=t.attack,this.release=t.release,this.curve=t.curve,this._buffers.loaded&&Promise.resolve().then(t.onload)}static getDefaults(){return Object.assign(Hr.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:he,onerror:he,release:.1,urls:{}})}_findClosest(t){let i=0;for(;i<96;){if(this._buffers.has(t+i))return-i;if(this._buffers.has(t-i))return i;i++}throw new Error(`No available buffers for note: ${t}`)}triggerAttack(t,e,i=1){return this.log("triggerAttack",t,e,i),Array.isArray(t)||(t=[t]),t.forEach(s=>{const r=Sx(new pi(this.context,s).toFrequency()),o=Math.round(r),a=r-o,l=this._findClosest(o),c=o-l,u=this._buffers.get(c),h=wx(l+a),f=new dl({url:u,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:h}).connect(this.output);f.start(e,0,u.duration/h,i),Si(this._activeSources.get(o))||this._activeSources.set(o,[]),this._activeSources.get(o).push(f),f.onended=()=>{if(this._activeSources&&this._activeSources.has(o)){const g=this._activeSources.get(o),_=g.indexOf(f);_!==-1&&g.splice(_,1)}}}),this}triggerRelease(t,e){return this.log("triggerRelease",t,e),Array.isArray(t)||(t=[t]),t.forEach(i=>{const s=new pi(this.context,i).toMidi();if(this._activeSources.has(s)&&this._activeSources.get(s).length){const r=this._activeSources.get(s);e=this.toSeconds(e),r.forEach(o=>{o.stop(e)}),this._activeSources.set(s,[])}}),this}releaseAll(t){const e=this.toSeconds(t);return this._activeSources.forEach(i=>{for(;i.length;)i.shift().stop(e)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(t,e,i,s=1){const r=this.toSeconds(i);return this.triggerAttack(t,r,s),Si(e)?(Ht(Si(t),"notes must be an array when duration is array"),t.forEach((o,a)=>{const l=e[Math.min(a,e.length-1)];this.triggerRelease(o,r+this.toSeconds(l))})):this.triggerRelease(t,r+this.toSeconds(e)),this}add(t,e,i){if(Ht(Oc(t)||isFinite(t),`note must be a pitch or midi: ${t}`),Oc(t)){const s=new pi(this.context,t).toMidi();this._buffers.add(s,e,i)}else this._buffers.add(t,e,i);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(t=>{t.forEach(e=>e.dispose())}),this._activeSources.clear(),this}}Mi([Ss(0)],vl.prototype,"attack",void 0);Mi([Ss(0)],vl.prototype,"release",void 0);class Ru extends Qt{constructor(){super(Object.assign(Pt(Ru.getDefaults(),arguments,["pan"]))),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner;const t=Pt(Ru.getDefaults(),arguments,["pan"]);this.pan=new Ce({context:this.context,param:this._panner.pan,value:t.pan,minValue:-1,maxValue:1}),this._panner.channelCount=t.channelCount,this._panner.channelCountMode="explicit",Ve(this,"pan")}static getDefaults(){return Object.assign(Qt.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const pN="bit-crusher",gN=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;Cx(pN,gN);class ze extends Qt{constructor(){super(Pt(ze.getDefaults(),arguments,["solo"])),this.name="Solo";const t=Pt(ze.getDefaults(),arguments,["solo"]);this.input=this.output=new hn({context:this.context}),ze._allSolos.has(this.context)||ze._allSolos.set(this.context,new Set),ze._allSolos.get(this.context).add(this),this.solo=t.solo}static getDefaults(){return Object.assign(Qt.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(t){t?this._addSolo():this._removeSolo(),ze._allSolos.get(this.context).forEach(e=>e._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){ze._soloed.has(this.context)||ze._soloed.set(this.context,new Set),ze._soloed.get(this.context).add(this)}_removeSolo(){ze._soloed.has(this.context)&&ze._soloed.get(this.context).delete(this)}_isSoloed(){return ze._soloed.has(this.context)&&ze._soloed.get(this.context).has(this)}_noSolos(){return!ze._soloed.has(this.context)||ze._soloed.has(this.context)&&ze._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),ze._allSolos.get(this.context).delete(this),this._removeSolo(),this}}ze._allSolos=new Map;ze._soloed=new Map;class Nu extends Qt{constructor(){super(Pt(Nu.getDefaults(),arguments,["pan","volume"])),this.name="PanVol";const t=Pt(Nu.getDefaults(),arguments,["pan","volume"]);this._panner=this.input=new Ru({context:this.context,pan:t.pan,channelCount:t.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new $r({context:this.context,volume:t.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=t.mute,Ve(this,["pan","volume"])}static getDefaults(){return Object.assign(Qt.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class Cr extends Qt{constructor(){super(Pt(Cr.getDefaults(),arguments,["volume","pan"])),this.name="Channel";const t=Pt(Cr.getDefaults(),arguments,["volume","pan"]);this._solo=this.input=new ze({solo:t.solo,context:this.context}),this._panVol=this.output=new Nu({context:this.context,pan:t.pan,volume:t.volume,mute:t.mute,channelCount:t.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),Ve(this,["pan","volume"])}static getDefaults(){return Object.assign(Qt.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(t){this._solo.solo=t}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(t){this._panVol.mute=t}_getBus(t){return Cr.buses.has(t)||Cr.buses.set(t,new hn({context:this.context})),Cr.buses.get(t)}send(t,e=0){const i=this._getBus(t),s=new hn({context:this.context,units:"decibels",gain:e});return this.connect(s),s.connect(i),s}receive(t){return this._getBus(t).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}Cr.buses=new Map;class mN extends Qt{constructor(){super(...arguments),this.name="Listener",this.positionX=new Ce({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new Ce({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new Ce({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new Ce({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new Ce({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new Ce({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new Ce({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new Ce({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new Ce({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(Qt.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}hh(n=>{n.listener=new mN({context:n})});dh(n=>{n.listener.dispose()});function Dc(){return fi().now()}fi().transport;fi().destination;fi().destination;fi().listener;fi().draw;fi();class _N{constructor(){this.sounds=new Map,this.synth=null,this.initAudio()}async initAudio(){try{await GR(),this.synth=new Go().toDestination()}catch(t){console.warn(":",t)}}playFusionSound(){if(!this.synth)return;const t=["C4","E4","G4","C5"],e=Dc();t.forEach((i,s)=>{this.synth.triggerAttackRelease(i,"8n",e+s*.1)})}playSuccessSound(){if(!this.synth)return;const t=["C5","E5","G5","C6"],e=Dc();t.forEach((i,s)=>{this.synth.triggerAttackRelease(i,"16n",e+s*.05)})}playClickSound(){this.synth&&this.synth.triggerAttackRelease("A4","32n")}playPokemonCry(t){if(!this.synth)return;const e=220+t%100*2,i=[e,e*1.5,e*2],s=Dc();i.forEach((r,o)=>{this.synth.triggerAttackRelease(r,"8n",s+o*.1)})}playLoadingSound(){if(!this.synth)return;const t=Dc();for(let e=0;e<3;e++)this.synth.triggerAttackRelease("C4","16n",t+e*.2)}toggleMute(){this.synth&&(this.synth.volume.value=this.synth.volume.value===-1/0?0:-1/0)}}const Ad=new _N,yN=JSON.parse(`[{"id":1,"name":"","english":"Bulbasaur","type":["",""],"generation":1},{"id":2,"name":"","english":"Ivysaur","type":["",""],"generation":1},{"id":3,"name":"","english":"Venusaur","type":["",""],"generation":1},{"id":4,"name":"","english":"Charmander","type":[""],"generation":1},{"id":5,"name":"","english":"Charmeleon","type":[""],"generation":1},{"id":6,"name":"","english":"Charizard","type":["",""],"generation":1},{"id":7,"name":"","english":"Squirtle","type":[""],"generation":1},{"id":8,"name":"","english":"Wartortle","type":[""],"generation":1},{"id":9,"name":"","english":"Blastoise","type":[""],"generation":1},{"id":10,"name":"","english":"Caterpie","type":[""],"generation":1},{"id":11,"name":"","english":"Metapod","type":[""],"generation":1},{"id":12,"name":"","english":"Butterfree","type":["",""],"generation":1},{"id":13,"name":"","english":"Weedle","type":["",""],"generation":1},{"id":14,"name":"","english":"Kakuna","type":["",""],"generation":1},{"id":15,"name":"","english":"Beedrill","type":["",""],"generation":1},{"id":16,"name":"","english":"Pidgey","type":["",""],"generation":1},{"id":17,"name":"","english":"Pidgeotto","type":["",""],"generation":1},{"id":18,"name":"","english":"Pidgeot","type":["",""],"generation":1},{"id":19,"name":"","english":"Rattata","type":[""],"generation":1},{"id":20,"name":"","english":"Raticate","type":[""],"generation":1},{"id":21,"name":"","english":"Spearow","type":["",""],"generation":1},{"id":22,"name":"","english":"Fearow","type":["",""],"generation":1},{"id":23,"name":"","english":"Ekans","type":[""],"generation":1},{"id":24,"name":"","english":"Arbok","type":[""],"generation":1},{"id":25,"name":"","english":"Pikachu","type":[""],"generation":1},{"id":26,"name":"","english":"Raichu","type":[""],"generation":1},{"id":27,"name":"","english":"Sandshrew","type":[""],"generation":1},{"id":28,"name":"","english":"Sandslash","type":[""],"generation":1},{"id":29,"name":"","english":"Nidoran","type":[""],"generation":1},{"id":30,"name":"","english":"Nidorina","type":[""],"generation":1},{"id":31,"name":"","english":"Nidoqueen","type":["",""],"generation":1},{"id":32,"name":"","english":"Nidoran","type":[""],"generation":1},{"id":33,"name":"","english":"Nidorino","type":[""],"generation":1},{"id":34,"name":"","english":"Nidoking","type":["",""],"generation":1},{"id":35,"name":"","english":"Clefairy","type":[""],"generation":1},{"id":36,"name":"","english":"Clefable","type":[""],"generation":1},{"id":37,"name":"","english":"Vulpix","type":[""],"generation":1},{"id":38,"name":"","english":"Ninetales","type":[""],"generation":1},{"id":39,"name":"","english":"Jigglypuff","type":["",""],"generation":1},{"id":40,"name":"","english":"Wigglytuff","type":["",""],"generation":1},{"id":41,"name":"","english":"Zubat","type":["",""],"generation":1},{"id":42,"name":"","english":"Golbat","type":["",""],"generation":1},{"id":43,"name":"","english":"Oddish","type":["",""],"generation":1},{"id":44,"name":"","english":"Gloom","type":["",""],"generation":1},{"id":45,"name":"","english":"Vileplume","type":["",""],"generation":1},{"id":46,"name":"","english":"Paras","type":["",""],"generation":1},{"id":47,"name":"","english":"Parasect","type":["",""],"generation":1},{"id":48,"name":"","english":"Venonat","type":["",""],"generation":1},{"id":49,"name":"","english":"Venomoth","type":["",""],"generation":1},{"id":50,"name":"","english":"Diglett","type":[""],"generation":1},{"id":51,"name":"","english":"Dugtrio","type":[""],"generation":1},{"id":52,"name":"","english":"Meowth","type":[""],"generation":1},{"id":53,"name":"","english":"Persian","type":[""],"generation":1},{"id":54,"name":"","english":"Psyduck","type":[""],"generation":1},{"id":55,"name":"","english":"Golduck","type":[""],"generation":1},{"id":56,"name":"","english":"Mankey","type":[""],"generation":1},{"id":57,"name":"","english":"Primeape","type":[""],"generation":1},{"id":58,"name":"","english":"Growlithe","type":[""],"generation":1},{"id":59,"name":"","english":"Arcanine","type":[""],"generation":1},{"id":60,"name":"","english":"Poliwag","type":[""],"generation":1},{"id":61,"name":"","english":"Poliwhirl","type":[""],"generation":1},{"id":62,"name":"","english":"Poliwrath","type":["",""],"generation":1},{"id":63,"name":"","english":"Abra","type":[""],"generation":1},{"id":64,"name":"","english":"Kadabra","type":[""],"generation":1},{"id":65,"name":"","english":"Alakazam","type":[""],"generation":1},{"id":66,"name":"","english":"Machop","type":[""],"generation":1},{"id":67,"name":"","english":"Machoke","type":[""],"generation":1},{"id":68,"name":"","english":"Machamp","type":[""],"generation":1},{"id":69,"name":"","english":"Bellsprout","type":["",""],"generation":1},{"id":70,"name":"","english":"Weepinbell","type":["",""],"generation":1},{"id":71,"name":"","english":"Victreebel","type":["",""],"generation":1},{"id":72,"name":"","english":"Tentacool","type":["",""],"generation":1},{"id":73,"name":"","english":"Tentacruel","type":["",""],"generation":1},{"id":74,"name":"","english":"Geodude","type":["",""],"generation":1},{"id":75,"name":"","english":"Graveler","type":["",""],"generation":1},{"id":76,"name":"","english":"Golem","type":["",""],"generation":1},{"id":77,"name":"","english":"Ponyta","type":[""],"generation":1},{"id":78,"name":"","english":"Rapidash","type":[""],"generation":1},{"id":79,"name":"","english":"Slowpoke","type":["",""],"generation":1},{"id":80,"name":"","english":"Slowbro","type":["",""],"generation":1},{"id":81,"name":"","english":"Magnemite","type":["",""],"generation":1},{"id":82,"name":"","english":"Magneton","type":["",""],"generation":1},{"id":83,"name":"","english":"Farfetch'd","type":["",""],"generation":1},{"id":84,"name":"","english":"Doduo","type":["",""],"generation":1},{"id":85,"name":"","english":"Dodrio","type":["",""],"generation":1},{"id":86,"name":"","english":"Seel","type":[""],"generation":1},{"id":87,"name":"","english":"Dewgong","type":["",""],"generation":1},{"id":88,"name":"","english":"Grimer","type":[""],"generation":1},{"id":89,"name":"","english":"Muk","type":[""],"generation":1},{"id":90,"name":"","english":"Shellder","type":[""],"generation":1},{"id":91,"name":"","english":"Cloyster","type":["",""],"generation":1},{"id":92,"name":"","english":"Gastly","type":["",""],"generation":1},{"id":93,"name":"","english":"Haunter","type":["",""],"generation":1},{"id":94,"name":"","english":"Gengar","type":["",""],"generation":1},{"id":95,"name":"","english":"Onix","type":["",""],"generation":1},{"id":96,"name":"","english":"Drowzee","type":[""],"generation":1},{"id":97,"name":"","english":"Hypno","type":[""],"generation":1},{"id":98,"name":"","english":"Krabby","type":[""],"generation":1},{"id":99,"name":"","english":"Kingler","type":[""],"generation":1},{"id":100,"name":"","english":"Voltorb","type":[""],"generation":1},{"id":101,"name":"","english":"Electrode","type":[""],"generation":1},{"id":102,"name":"","english":"Exeggcute","type":["",""],"generation":1},{"id":103,"name":"","english":"Exeggutor","type":["",""],"generation":1},{"id":104,"name":"","english":"Cubone","type":[""],"generation":1},{"id":105,"name":"","english":"Marowak","type":[""],"generation":1},{"id":106,"name":"","english":"Hitmonlee","type":[""],"generation":1},{"id":107,"name":"","english":"Hitmonchan","type":[""],"generation":1},{"id":108,"name":"","english":"Lickitung","type":[""],"generation":1},{"id":109,"name":"","english":"Koffing","type":[""],"generation":1},{"id":110,"name":"","english":"Weezing","type":[""],"generation":1},{"id":111,"name":"","english":"Rhyhorn","type":["",""],"generation":1},{"id":112,"name":"","english":"Rhydon","type":["",""],"generation":1},{"id":113,"name":"","english":"Chansey","type":[""],"generation":1},{"id":114,"name":"","english":"Tangela","type":[""],"generation":1},{"id":115,"name":"","english":"Kangaskhan","type":[""],"generation":1},{"id":116,"name":"","english":"Horsea","type":[""],"generation":1},{"id":117,"name":"","english":"Seadra","type":[""],"generation":1},{"id":118,"name":"","english":"Goldeen","type":[""],"generation":1},{"id":119,"name":"","english":"Seaking","type":[""],"generation":1},{"id":120,"name":"","english":"Staryu","type":[""],"generation":1},{"id":121,"name":"","english":"Starmie","type":["",""],"generation":1},{"id":122,"name":"","english":"Mr. Mime","type":["",""],"generation":1},{"id":123,"name":"","english":"Scyther","type":["",""],"generation":1},{"id":124,"name":"","english":"Jynx","type":["",""],"generation":1},{"id":125,"name":"","english":"Electabuzz","type":[""],"generation":1},{"id":126,"name":"","english":"Magmar","type":[""],"generation":1},{"id":127,"name":"","english":"Pinsir","type":[""],"generation":1},{"id":128,"name":"","english":"Tauros","type":[""],"generation":1},{"id":129,"name":"","english":"Magikarp","type":[""],"generation":1},{"id":130,"name":"","english":"Gyarados","type":["",""],"generation":1},{"id":131,"name":"","english":"Lapras","type":["",""],"generation":1},{"id":132,"name":"","english":"Ditto","type":[""],"generation":1},{"id":133,"name":"","english":"Eevee","type":[""],"generation":1},{"id":134,"name":"","english":"Vaporeon","type":[""],"generation":1},{"id":135,"name":"","english":"Jolteon","type":[""],"generation":1},{"id":136,"name":"","english":"Flareon","type":[""],"generation":1},{"id":137,"name":"3D","english":"Porygon","type":[""],"generation":1},{"id":138,"name":"","english":"Omanyte","type":["",""],"generation":1},{"id":139,"name":"","english":"Omastar","type":["",""],"generation":1},{"id":140,"name":"","english":"Kabuto","type":["",""],"generation":1},{"id":141,"name":"","english":"Kabutops","type":["",""],"generation":1},{"id":142,"name":"","english":"Aerodactyl","type":["",""],"generation":1},{"id":143,"name":"","english":"Snorlax","type":[""],"generation":1},{"id":144,"name":"","english":"Articuno","type":["",""],"generation":1},{"id":145,"name":"","english":"Zapdos","type":["",""],"generation":1},{"id":146,"name":"","english":"Moltres","type":["",""],"generation":1},{"id":147,"name":"","english":"Dratini","type":[""],"generation":1},{"id":148,"name":"","english":"Dragonair","type":[""],"generation":1},{"id":149,"name":"","english":"Dragonite","type":["",""],"generation":1},{"id":150,"name":"","english":"Mewtwo","type":[""],"generation":1},{"id":151,"name":"","english":"Mew","type":[""],"generation":1},{"id":152,"name":"","english":"Chikorita","type":[""],"generation":2},{"id":153,"name":"","english":"Bayleef","type":[""],"generation":2},{"id":154,"name":"","english":"Meganium","type":[""],"generation":2},{"id":155,"name":"","english":"Cyndaquil","type":[""],"generation":2},{"id":156,"name":"","english":"Quilava","type":[""],"generation":2},{"id":157,"name":"","english":"Typhlosion","type":[""],"generation":2},{"id":158,"name":"","english":"Totodile","type":[""],"generation":2},{"id":159,"name":"","english":"Croconaw","type":[""],"generation":2},{"id":160,"name":"","english":"Feraligatr","type":[""],"generation":2},{"id":161,"name":"","english":"Sentret","type":[""],"generation":2},{"id":162,"name":"","english":"Furret","type":[""],"generation":2},{"id":163,"name":"","english":"Hoothoot","type":["",""],"generation":2},{"id":164,"name":"","english":"Noctowl","type":["",""],"generation":2},{"id":165,"name":"","english":"Ledyba","type":["",""],"generation":2},{"id":166,"name":"","english":"Ledian","type":["",""],"generation":2},{"id":167,"name":"","english":"Spinarak","type":["",""],"generation":2},{"id":168,"name":"","english":"Ariados","type":["",""],"generation":2},{"id":169,"name":"","english":"Crobat","type":["",""],"generation":2},{"id":170,"name":"","english":"Chinchou","type":["",""],"generation":2},{"id":171,"name":"","english":"Lanturn","type":["",""],"generation":2},{"id":172,"name":"","english":"Pichu","type":[""],"generation":2},{"id":173,"name":"","english":"Cleffa","type":[""],"generation":2},{"id":174,"name":"","english":"Igglybuff","type":["",""],"generation":2},{"id":175,"name":"","english":"Togepi","type":[""],"generation":2},{"id":176,"name":"","english":"Togetic","type":["",""],"generation":2},{"id":177,"name":"","english":"Natu","type":["",""],"generation":2},{"id":178,"name":"","english":"Xatu","type":["",""],"generation":2},{"id":179,"name":"","english":"Mareep","type":[""],"generation":2},{"id":180,"name":"","english":"Flaaffy","type":[""],"generation":2},{"id":181,"name":"","english":"Ampharos","type":[""],"generation":2},{"id":182,"name":"","english":"Bellossom","type":[""],"generation":2},{"id":183,"name":"","english":"Marill","type":["",""],"generation":2},{"id":184,"name":"","english":"Azumarill","type":["",""],"generation":2},{"id":185,"name":"","english":"Sudowoodo","type":[""],"generation":2},{"id":186,"name":"","english":"Politoed","type":[""],"generation":2},{"id":187,"name":"","english":"Hoppip","type":["",""],"generation":2},{"id":188,"name":"","english":"Skiploom","type":["",""],"generation":2},{"id":189,"name":"","english":"Jumpluff","type":["",""],"generation":2},{"id":190,"name":"","english":"Aipom","type":[""],"generation":2},{"id":191,"name":"","english":"Sunkern","type":[""],"generation":2},{"id":192,"name":"","english":"Sunflora","type":[""],"generation":2},{"id":193,"name":"","english":"Yanma","type":["",""],"generation":2},{"id":194,"name":"","english":"Wooper","type":["",""],"generation":2},{"id":195,"name":"","english":"Quagsire","type":["",""],"generation":2},{"id":196,"name":"","english":"Espeon","type":[""],"generation":2},{"id":197,"name":"","english":"Umbreon","type":[""],"generation":2},{"id":198,"name":"","english":"Murkrow","type":["",""],"generation":2},{"id":199,"name":"","english":"Slowking","type":["",""],"generation":2},{"id":200,"name":"","english":"Misdreavus","type":[""],"generation":2},{"id":201,"name":"","english":"Unown","type":[""],"generation":2},{"id":202,"name":"","english":"Wobbuffet","type":[""],"generation":2},{"id":203,"name":"","english":"Girafarig","type":["",""],"generation":2},{"id":204,"name":"","english":"Pineco","type":[""],"generation":2},{"id":205,"name":"","english":"Forretress","type":["",""],"generation":2},{"id":206,"name":"","english":"Dunsparce","type":[""],"generation":2},{"id":207,"name":"","english":"Gligar","type":["",""],"generation":2},{"id":208,"name":"","english":"Steelix","type":["",""],"generation":2},{"id":209,"name":"","english":"Snubbull","type":[""],"generation":2},{"id":210,"name":"","english":"Granbull","type":[""],"generation":2},{"id":211,"name":"","english":"Qwilfish","type":["",""],"generation":2},{"id":212,"name":"","english":"Scizor","type":["",""],"generation":2},{"id":213,"name":"","english":"Shuckle","type":["",""],"generation":2},{"id":214,"name":"","english":"Heracross","type":["",""],"generation":2},{"id":215,"name":"","english":"Sneasel","type":["",""],"generation":2},{"id":216,"name":"","english":"Teddiursa","type":[""],"generation":2},{"id":217,"name":"","english":"Ursaring","type":[""],"generation":2},{"id":218,"name":"","english":"Slugma","type":[""],"generation":2},{"id":219,"name":"","english":"Magcargo","type":["",""],"generation":2},{"id":220,"name":"","english":"Swinub","type":["",""],"generation":2},{"id":221,"name":"","english":"Piloswine","type":["",""],"generation":2},{"id":222,"name":"","english":"Corsola","type":["",""],"generation":2},{"id":223,"name":"","english":"Remoraid","type":[""],"generation":2},{"id":224,"name":"","english":"Octillery","type":[""],"generation":2},{"id":225,"name":"","english":"Delibird","type":["",""],"generation":2},{"id":226,"name":"","english":"Mantine","type":["",""],"generation":2},{"id":227,"name":"","english":"Skarmory","type":["",""],"generation":2},{"id":228,"name":"","english":"Houndour","type":["",""],"generation":2},{"id":229,"name":"","english":"Houndoom","type":["",""],"generation":2},{"id":230,"name":"","english":"Kingdra","type":["",""],"generation":2},{"id":231,"name":"","english":"Phanpy","type":[""],"generation":2},{"id":232,"name":"","english":"Donphan","type":[""],"generation":2},{"id":233,"name":"3D2","english":"Porygon2","type":[""],"generation":2},{"id":234,"name":"","english":"Stantler","type":[""],"generation":2},{"id":235,"name":"","english":"Smeargle","type":[""],"generation":2},{"id":236,"name":"","english":"Tyrogue","type":[""],"generation":2},{"id":237,"name":"","english":"Hitmontop","type":[""],"generation":2},{"id":238,"name":"","english":"Smoochum","type":["",""],"generation":2},{"id":239,"name":"","english":"Elekid","type":[""],"generation":2},{"id":240,"name":"","english":"Magby","type":[""],"generation":2},{"id":241,"name":"","english":"Miltank","type":[""],"generation":2},{"id":242,"name":"","english":"Blissey","type":[""],"generation":2},{"id":243,"name":"","english":"Raikou","type":[""],"generation":2},{"id":244,"name":"","english":"Entei","type":[""],"generation":2},{"id":245,"name":"","english":"Suicune","type":[""],"generation":2},{"id":246,"name":"","english":"Larvitar","type":["",""],"generation":2},{"id":247,"name":"","english":"Pupitar","type":["",""],"generation":2},{"id":248,"name":"","english":"Tyranitar","type":["",""],"generation":2},{"id":249,"name":"","english":"Lugia","type":["",""],"generation":2},{"id":250,"name":"","english":"Ho-Oh","type":["",""],"generation":2},{"id":251,"name":"","english":"Celebi","type":["",""],"generation":2},{"id":252,"name":"","english":"Treecko","type":[""],"generation":3},{"id":253,"name":"","english":"Grovyle","type":[""],"generation":3},{"id":254,"name":"","english":"Sceptile","type":[""],"generation":3},{"id":255,"name":"","english":"Torchic","type":[""],"generation":3},{"id":256,"name":"","english":"Combusken","type":["",""],"generation":3},{"id":257,"name":"","english":"Blaziken","type":["",""],"generation":3},{"id":258,"name":"","english":"Mudkip","type":[""],"generation":3},{"id":259,"name":"","english":"Marshtomp","type":["",""],"generation":3},{"id":260,"name":"","english":"Swampert","type":["",""],"generation":3},{"id":261,"name":"","english":"Poochyena","type":[""],"generation":3},{"id":262,"name":"","english":"Mightyena","type":[""],"generation":3},{"id":263,"name":"","english":"Zigzagoon","type":[""],"generation":3},{"id":264,"name":"","english":"Linoone","type":[""],"generation":3},{"id":265,"name":"","english":"Wurmple","type":[""],"generation":3},{"id":266,"name":"","english":"Silcoon","type":[""],"generation":3},{"id":267,"name":"","english":"Beautifly","type":["",""],"generation":3},{"id":268,"name":"","english":"Cascoon","type":[""],"generation":3},{"id":269,"name":"","english":"Dustox","type":["",""],"generation":3},{"id":270,"name":"","english":"Lotad","type":["",""],"generation":3},{"id":271,"name":"","english":"Lombre","type":["",""],"generation":3},{"id":272,"name":"","english":"Ludicolo","type":["",""],"generation":3},{"id":273,"name":"","english":"Seedot","type":[""],"generation":3},{"id":274,"name":"","english":"Nuzleaf","type":["",""],"generation":3},{"id":275,"name":"","english":"Shiftry","type":["",""],"generation":3},{"id":276,"name":"","english":"Taillow","type":["",""],"generation":3},{"id":277,"name":"","english":"Swellow","type":["",""],"generation":3},{"id":278,"name":"","english":"Wingull","type":["",""],"generation":3},{"id":279,"name":"","english":"Pelipper","type":["",""],"generation":3},{"id":280,"name":"","english":"Ralts","type":["",""],"generation":3},{"id":281,"name":"","english":"Kirlia","type":["",""],"generation":3},{"id":282,"name":"","english":"Gardevoir","type":["",""],"generation":3},{"id":283,"name":"","english":"Surskit","type":["",""],"generation":3},{"id":284,"name":"","english":"Masquerain","type":["",""],"generation":3},{"id":285,"name":"","english":"Shroomish","type":[""],"generation":3},{"id":286,"name":"","english":"Breloom","type":["",""],"generation":3},{"id":287,"name":"","english":"Slakoth","type":[""],"generation":3},{"id":288,"name":"","english":"Vigoroth","type":[""],"generation":3},{"id":289,"name":"","english":"Slaking","type":[""],"generation":3},{"id":290,"name":"","english":"Nincada","type":["",""],"generation":3},{"id":291,"name":"","english":"Ninjask","type":["",""],"generation":3},{"id":292,"name":"","english":"Shedinja","type":["",""],"generation":3},{"id":293,"name":"","english":"Whismur","type":[""],"generation":3},{"id":294,"name":"","english":"Loudred","type":[""],"generation":3},{"id":295,"name":"","english":"Exploud","type":[""],"generation":3},{"id":296,"name":"","english":"Makuhita","type":[""],"generation":3},{"id":297,"name":"","english":"Hariyama","type":[""],"generation":3},{"id":298,"name":"","english":"Azurill","type":["",""],"generation":3},{"id":299,"name":"","english":"Nosepass","type":[""],"generation":3},{"id":300,"name":"","english":"Skitty","type":[""],"generation":3},{"id":301,"name":"","english":"Delcatty","type":[""],"generation":3},{"id":302,"name":"","english":"Sableye","type":["",""],"generation":3},{"id":303,"name":"","english":"Mawile","type":["",""],"generation":3},{"id":304,"name":"","english":"Aron","type":["",""],"generation":3},{"id":305,"name":"","english":"Lairon","type":["",""],"generation":3},{"id":306,"name":"","english":"Aggron","type":["",""],"generation":3},{"id":307,"name":"","english":"Meditite","type":["",""],"generation":3},{"id":308,"name":"","english":"Medicham","type":["",""],"generation":3},{"id":309,"name":"","english":"Electrike","type":[""],"generation":3},{"id":310,"name":"","english":"Manectric","type":[""],"generation":3},{"id":311,"name":"","english":"Plusle","type":[""],"generation":3},{"id":312,"name":"","english":"Minun","type":[""],"generation":3},{"id":313,"name":"","english":"Volbeat","type":[""],"generation":3},{"id":314,"name":"","english":"Illumise","type":[""],"generation":3},{"id":315,"name":"","english":"Roselia","type":["",""],"generation":3},{"id":316,"name":"","english":"Gulpin","type":[""],"generation":3},{"id":317,"name":"","english":"Swalot","type":[""],"generation":3},{"id":318,"name":"","english":"Carvanha","type":["",""],"generation":3},{"id":319,"name":"","english":"Sharpedo","type":["",""],"generation":3},{"id":320,"name":"","english":"Wailmer","type":[""],"generation":3},{"id":321,"name":"","english":"Wailord","type":[""],"generation":3},{"id":322,"name":"","english":"Numel","type":["",""],"generation":3},{"id":323,"name":"","english":"Camerupt","type":["",""],"generation":3},{"id":324,"name":"","english":"Torkoal","type":[""],"generation":3},{"id":325,"name":"","english":"Spoink","type":[""],"generation":3},{"id":326,"name":"","english":"Grumpig","type":[""],"generation":3},{"id":327,"name":"","english":"Spinda","type":[""],"generation":3},{"id":328,"name":"","english":"Trapinch","type":[""],"generation":3},{"id":329,"name":"","english":"Vibrava","type":["",""],"generation":3},{"id":330,"name":"","english":"Flygon","type":["",""],"generation":3},{"id":331,"name":"","english":"Cacnea","type":[""],"generation":3},{"id":332,"name":"","english":"Cacturne","type":["",""],"generation":3},{"id":333,"name":"","english":"Swablu","type":["",""],"generation":3},{"id":334,"name":"","english":"Altaria","type":["",""],"generation":3},{"id":335,"name":"","english":"Zangoose","type":[""],"generation":3},{"id":336,"name":"","english":"Seviper","type":[""],"generation":3},{"id":337,"name":"","english":"Lunatone","type":["",""],"generation":3},{"id":338,"name":"","english":"Solrock","type":["",""],"generation":3},{"id":339,"name":"","english":"Barboach","type":["",""],"generation":3},{"id":340,"name":"","english":"Whiscash","type":["",""],"generation":3},{"id":341,"name":"","english":"Corphish","type":[""],"generation":3},{"id":342,"name":"","english":"Crawdaunt","type":["",""],"generation":3},{"id":343,"name":"","english":"Baltoy","type":["",""],"generation":3},{"id":344,"name":"","english":"Claydol","type":["",""],"generation":3},{"id":345,"name":"","english":"Lileep","type":["",""],"generation":3},{"id":346,"name":"","english":"Cradily","type":["",""],"generation":3},{"id":347,"name":"","english":"Anorith","type":["",""],"generation":3},{"id":348,"name":"","english":"Armaldo","type":["",""],"generation":3},{"id":349,"name":"","english":"Feebas","type":[""],"generation":3},{"id":350,"name":"","english":"Milotic","type":[""],"generation":3},{"id":351,"name":"","english":"Castform","type":[""],"generation":3},{"id":352,"name":"","english":"Kecleon","type":[""],"generation":3},{"id":353,"name":"","english":"Shuppet","type":[""],"generation":3},{"id":354,"name":"","english":"Banette","type":[""],"generation":3},{"id":355,"name":"","english":"Duskull","type":[""],"generation":3},{"id":356,"name":"","english":"Dusclops","type":[""],"generation":3},{"id":357,"name":"","english":"Tropius","type":["",""],"generation":3},{"id":358,"name":"","english":"Chimecho","type":[""],"generation":3},{"id":359,"name":"","english":"Absol","type":[""],"generation":3},{"id":360,"name":"","english":"Wynaut","type":[""],"generation":3},{"id":361,"name":"","english":"Snorunt","type":[""],"generation":3},{"id":362,"name":"","english":"Glalie","type":[""],"generation":3},{"id":363,"name":"","english":"Spheal","type":["",""],"generation":3},{"id":364,"name":"","english":"Sealeo","type":["",""],"generation":3},{"id":365,"name":"","english":"Walrein","type":["",""],"generation":3},{"id":366,"name":"","english":"Clamperl","type":[""],"generation":3},{"id":367,"name":"","english":"Huntail","type":[""],"generation":3},{"id":368,"name":"","english":"Gorebyss","type":[""],"generation":3},{"id":369,"name":"","english":"Relicanth","type":["",""],"generation":3},{"id":370,"name":"","english":"Luvdisc","type":[""],"generation":3},{"id":371,"name":"","english":"Bagon","type":[""],"generation":3},{"id":372,"name":"","english":"Shelgon","type":[""],"generation":3},{"id":373,"name":"","english":"Salamence","type":["",""],"generation":3},{"id":374,"name":"","english":"Beldum","type":[""," psychic"],"generation":3},{"id":375,"name":"","english":"Metang","type":[""," psychic"],"generation":3},{"id":376,"name":"","english":"Metagross","type":[""," psychic"],"generation":3},{"id":377,"name":"","english":"Regirock","type":[""],"generation":3},{"id":378,"name":"","english":"Regice","type":[""],"generation":3},{"id":379,"name":"","english":"Registeel","type":[""],"generation":3},{"id":380,"name":"","english":"Latias","type":["",""],"generation":3},{"id":381,"name":"","english":"Latios","type":["",""],"generation":3},{"id":382,"name":"","english":"Kyogre","type":[""],"generation":3},{"id":383,"name":"","english":"Groudon","type":[""],"generation":3},{"id":384,"name":"","english":"Rayquaza","type":["",""],"generation":3},{"id":385,"name":"","english":"Jirachi","type":["",""],"generation":3},{"id":386,"name":"","english":"Deoxys","type":[""],"generation":3}]`),Xo=yN.map(n=>({...n,height:Math.floor(Math.random()*200)+50,weight:Math.floor(Math.random()*1e3)+50})),bN=()=>{const n=new Set;return Xo.forEach(t=>{t.type.forEach(e=>n.add(e))}),Array.from(n).sort()},Of=n=>Xo.filter(t=>t.generation===n),Mx=()=>{const n=Math.floor(Math.random()*Xo.length);return Xo[n]},vN=()=>{const n=[1,2,3],t=n[Math.floor(Math.random()*n.length)];let e=n[Math.floor(Math.random()*n.length)];for(;e===t;)e=n[Math.floor(Math.random()*n.length)];const i=Of(t),s=Of(e),r=i[Math.floor(Math.random()*i.length)],o=s[Math.floor(Math.random()*s.length)];return[r,o]},xN={class:"manual-pokemon-filter"},wN={class:"filter-header"},SN={class:"filter-controls"},TN=["value"],kN={class:"quick-filters"},CN=["onClick"],MN={class:"results-container"},AN={class:"results-header"},ON={class:"sort-controls"},PN={class:"pokemon-grid"},DN=["onClick"],EN=["src","alt"],IN={class:"pokemon-details"},RN={class:"pokemon-number"},NN={class:"pokemon-name"},FN={class:"pokemon-english"},LN={class:"pokemon-types"},VN={key:0,class:"pagination"},BN=["disabled"],WN={class:"page-info"},jN=["disabled"],zN={key:0,class:"selected-display"},qN={class:"selected-card"},$N=["src","alt"],Od=6,UN=Sl({__name:"ManualPokemonFilter",props:{target:{}},emits:["select"],setup(n,{emit:t}){const e=n,i=t,s=ue(""),r=ue(""),o=ue(""),a=ue("id"),l=ue(1),c=ue(null),u=ue(Xo),h=ls(()=>bN()),f=[{label:"",min:1,max:1e3},{label:"1-50",min:1,max:50},{label:"51-100",min:51,max:100},{label:"101-151",min:101,max:151},{label:"152-251",min:152,max:251},{label:"252-386",min:252,max:386}],g=ls(()=>{let I=u.value;if(s.value.trim()){const R=s.value.toLowerCase();I=I.filter(N=>N.name.toLowerCase().includes(R)||N.english.toLowerCase().includes(R)||N.id.toString()===R)}r.value&&(I=I.filter(R=>R.type.includes(r.value)));const W=f.find(R=>R.label===o.value);return W&&W.label!==""&&(I=I.filter(R=>R.id>=W.min&&R.id<=W.max)),I=[...I].sort((R,N)=>{switch(a.value){case"name":return R.name.localeCompare(N.name);case"type":return R.type[0].localeCompare(N.type[0]);default:return R.id-N.id}}),I}),_=ls(()=>Math.ceil(g.value.length/Od)),m=ls(()=>{const I=(l.value-1)*Od,W=I+Od;return g.value.slice(I,W)}),b=()=>{l.value=1},x=()=>{l.value=1},T=()=>{l.value=1},O=()=>{s.value="",r.value="",o.value="",l.value=1,c.value=null},M=I=>{o.value=I.label,l.value=1},w=I=>{c.value=I,i("select",I,e.target)},k=I=>c.value?.id===I.id,P=()=>{l.value>1&&l.value--},A=()=>{l.value<_.value&&l.value++};return $u(()=>{}),(I,W)=>(Wt(),qt("div",xN,[ut("div",wN,[W[4]||(W[4]=ut("h3",{class:"chinese-pixel"}," ",-1)),ut("div",SN,[So(ut("input",{"onUpdate:modelValue":W[0]||(W[0]=R=>s.value=R),onInput:b,placeholder:"...",class:"search-input"},null,544),[[zd,s.value]]),So(ut("select",{"onUpdate:modelValue":W[1]||(W[1]=R=>r.value=R),onChange:x,class:"type-select"},[W[3]||(W[3]=ut("option",{value:""},"",-1)),(Wt(!0),qt(rn,null,as(h.value,R=>(Wt(),qt("option",{key:R,value:R},pe(R),9,TN))),128))],544),[[qd,r.value]]),ut("button",{onClick:O,class:"clear-btn"},"")])]),ut("div",kN,[(Wt(),qt(rn,null,as(f,R=>ut("button",{key:R.label,onClick:N=>M(R),class:xi(["range-btn",{active:o.value===R.label}])},pe(R.label),11,CN)),64))]),ut("div",MN,[ut("div",AN,[ut("span",null," "+pe(g.value.length)+" ",1),ut("div",ON,[So(ut("select",{"onUpdate:modelValue":W[2]||(W[2]=R=>a.value=R),onChange:T,class:"sort-select"},W[5]||(W[5]=[ut("option",{value:"id"},"",-1),ut("option",{value:"name"},"",-1),ut("option",{value:"type"},"",-1)]),544),[[qd,a.value]])])]),ut("div",PN,[(Wt(!0),qt(rn,null,as(m.value,R=>(Wt(),qt("div",{key:R.id,class:xi(["pokemon-card",{selected:k(R)}]),onClick:N=>w(R)},[ut("img",{src:`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${R.id}.png`,alt:R.name,class:"pokemon-sprite"},null,8,EN),ut("div",IN,[ut("span",RN,"#"+pe(R.id.toString().padStart(3,"0")),1),ut("span",NN,pe(R.name),1),ut("span",FN,pe(R.english),1),ut("div",LN,[(Wt(!0),qt(rn,null,as(R.type,N=>(Wt(),qt("span",{key:N,class:xi(["type-badge",`type-${N.toLowerCase()}`])},pe(N),3))),128))])])],10,DN))),128))]),_.value>1?(Wt(),qt("div",VN,[ut("button",{onClick:P,disabled:l.value===1,class:"page-btn"},"  ",8,BN),ut("span",WN,pe(l.value)+" / "+pe(_.value),1),ut("button",{onClick:A,disabled:l.value===_.value,class:"page-btn"},"  ",8,jN)])):Fn("",!0)]),c.value?(Wt(),qt("div",zN,[W[6]||(W[6]=ut("h4",null,"",-1)),ut("div",qN,[ut("img",{src:`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${c.value.id}.png`,alt:c.value.name},null,8,$N),ut("div",null,[ut("strong",null,pe(c.value.name),1),ut("span",null,"#"+pe(c.value.id.toString().padStart(3,"0")),1)])])])):Fn("",!0)]))}}),ph=(n,t)=>{const e=n.__vccOpts||n;for(const[i,s]of t)e[i]=s;return e},HN=ph(UN,[["__scopeId","data-v-ed108da9"]]),KN={class:"pokemon-manual-selector"},YN={class:"selector-content"},GN={class:"random-section"},XN={class:"generation-filters"},ZN={class:"gen-buttons"},QN=["onClick"],JN=Sl({__name:"PokemonManualSelector",props:{target:{},isOpen:{type:Boolean}},emits:["select","close"],setup(n,{emit:t}){const e=n,i=t,s=(l,c)=>{i("select",l,c),i("close")},r=()=>{i("close")},o=()=>{const l=Mx();s(l,e.target)},a=l=>{const c=Of(l),u=c[Math.floor(Math.random()*c.length)];s(u,e.target)};return(l,c)=>(Wt(),qt("div",KN,[ut("div",{class:"selector-header"},[c[0]||(c[0]=ut("h3",{class:"chinese-pixel"}," ",-1)),ut("button",{onClick:r,class:"close-btn"},"")]),ut("div",YN,[ti(HN,{target:l.target,onSelect:s},null,8,["target"]),ut("div",GN,[c[2]||(c[2]=ut("h4",null," ",-1)),ut("button",{onClick:o,class:"random-btn"},"  "),ut("div",XN,[c[1]||(c[1]=ut("h5",null,"",-1)),ut("div",ZN,[(Wt(),qt(rn,null,as([1,2,3],u=>ut("button",{key:u,onClick:h=>a(u),class:"gen-btn"}," "+pe(u)+" ",9,QN)),64))])])])])]))}}),tF=ph(JN,[["__scopeId","data-v-ddb7ab10"]]),eF={class:"pixel-pokedex"},nF={key:0,class:"splash-screen"},iF={key:1,class:"main-panel"},sF={class:"original-pokemon"},rF={class:"pokemon-section"},oF=["src","alt"],aF={class:"chinese-pixel"},lF={class:"pokemon-id"},cF=["src","alt"],uF={class:"chinese-pixel"},hF={class:"pokemon-id"},dF={class:"fusion-center"},fF=["disabled"],pF={key:0},gF={key:1},mF=["src"],_F={key:0,class:"fusion-result"},yF={class:"pokemon-info"},bF={class:"pixel-name"},vF={class:"types"},xF={class:"abilities"},wF={class:"stats-chart"},SF={key:3,class:"loading-overlay"},TF={key:4,class:"success-animation"},kF={key:5,class:"user-tip"},CF=Sl({__name:"PixelPokedex",setup(n){const t=ue(!0),e=ue(!1),i=ue(!1),s=ue(null),r=ue(null),o=ue(null),a=ue(""),l=ue(!1),c=ue("A"),u=ue(!0),h=ue(),f=ue();$u(async()=>{await g(),await _()});async function g(){await new Promise(R=>setTimeout(R,2e3)),Bc.fromTo(".pixel-text",{scale:0,opacity:0},{scale:1,opacity:1,duration:1,ease:"back.out(1.7)"}),await new Promise(R=>setTimeout(R,1500)),t.value=!1}async function _(){try{const[R,N]=vN();s.value=R,r.value=N,Gc(()=>{Bc.fromTo(".original-pokemon .pokemon-card",{y:50,opacity:0},{y:0,opacity:1,duration:.8,stagger:.2,ease:"power2.out"})})}catch(R){console.error(":",R)}}function m(R){return R?R.name:"..."}function b(R){return R?`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${R.id}.png`:""}async function x(){if(!(!s.value||!r.value)){e.value=!0,Ad.playLoadingSound();try{a.value=await uP(b(s.value),b(r.value));const R={id:`F${Date.now().toString(16).toUpperCase()}`,name:pP(s.value.name,r.value.name),pokemonA:s.value,pokemonB:r.value,fusedSprite:a.value,types:T(s.value,r.value),abilities:O(s.value,r.value),height:Math.round(((s.value.height||0)+(r.value.height||0))/2),weight:Math.round(((s.value.weight||0)+(r.value.weight||0))/2),cryUrl:"",generation:Math.max(s.value.generation||1,r.value.generation||1)};o.value=R,await vv.cacheFusion(R),w(),Gc(()=>{M()})}catch(R){console.error(":",R)}finally{e.value=!1}}}function T(R,N){const Z=R.type,ot=N.type;return[...new Set([...Z,...ot])].slice(0,2)}function O(R,N){return["","","","","","","",""].slice(0,2)}function M(){if(!h.value||!o.value)return;const R=h.value.getContext("2d");R&&new Ap(R,{type:"radar",data:{labels:["HP","","","","",""],datasets:[{label:"",data:[Math.random()*100+50,Math.random()*100+50,Math.random()*100+50,Math.random()*100+50,Math.random()*100+50,Math.random()*100+50],backgroundColor:"rgba(255, 99, 132, 0.2)",borderColor:"rgba(255, 99, 132, 1)",borderWidth:2}]},options:{responsive:!1,plugins:{legend:{display:!1}},scales:{r:{beginAtZero:!0,max:150,ticks:{display:!1}}}}})}function w(){i.value=!0,Ad.playSuccessSound(),WT({particleCount:100,spread:70,origin:{y:.6}}),f.value&&Bc.fromTo(f.value,{scale:0,rotation:0},{scale:1,rotation:360,duration:1,ease:"back.out(1.7)"}),setTimeout(()=>{i.value=!1},3e3)}async function k(R){Ad.playClickSound();const N=Mx();R==="A"?s.value=N:r.value=N}function P(R){c.value=R,l.value=!0}function A(){l.value=!1}function I(R,N){N==="A"?s.value=R:r.value=R,A()}function W(){u.value=!1}return(R,N)=>(Wt(),qt("div",eF,[t.value?(Wt(),qt("div",nF,N[5]||(N[5]=[ut("div",{class:"pixel-text"},"Pixel PokFusion",-1)]))):(Wt(),qt("div",iF,[ut("div",sF,[ut("div",rF,[ut("div",{class:"pokemon-card",onClick:N[1]||(N[1]=Z=>k("A"))},[s.value?(Wt(),qt("img",{key:0,src:b(s.value),alt:m(s.value)},null,8,oF)):Fn("",!0),ut("h3",aF,pe(m(s.value)),1),ut("p",lF,"#"+pe(s.value?.id.toString().padStart(3,"0")),1),ut("button",{onClick:N[0]||(N[0]=Z=>P("A")),class:"manual-select-btn"},"   ")]),ut("div",{class:"pokemon-card",onClick:N[3]||(N[3]=Z=>k("B"))},[r.value?(Wt(),qt("img",{key:0,src:b(r.value),alt:m(r.value)},null,8,cF)):Fn("",!0),ut("h3",uF,pe(m(r.value)),1),ut("p",hF,"#"+pe(r.value?.id.toString().padStart(3,"0")),1),ut("button",{onClick:N[2]||(N[2]=Z=>P("B")),class:"manual-select-btn"},"   ")])])]),ut("div",dF,[ut("button",{class:"fusion-btn pixel-btn",onClick:x,disabled:e.value||!s.value||!r.value},[e.value?(Wt(),qt("span",gF,"...")):(Wt(),qt("span",pF,"  "))],8,fF),ut("div",{class:"preview-3d",ref_key:"preview3d",ref:f},[a.value?(Wt(),qt("img",{key:0,src:a.value,class:xi(["fusion-preview",{floating:a.value}])},null,10,mF)):Fn("",!0)],512)]),o.value?(Wt(),qt("div",_F,[ut("div",yF,[ut("h2",bF,"#"+pe(o.value.id)+" "+pe(o.value.name),1),ut("div",vF,[(Wt(!0),qt(rn,null,as(o.value.types,Z=>(Wt(),qt("span",{key:Z,class:xi(["type-badge",`type-${Z}`])},pe(Z),3))),128))]),ut("div",xF,[N[6]||(N[6]=ut("h3",null,"",-1)),ut("ul",null,[(Wt(!0),qt(rn,null,as(o.value.abilities,Z=>(Wt(),qt("li",{key:Z},pe(Z),1))),128))])]),ut("div",wF,[ut("canvas",{ref_key:"statsChart",ref:h,width:"200",height:"200"},null,512)])])])):Fn("",!0)])),l.value?(Wt(),qt("div",{key:2,class:"modal-overlay",onClick:A},[ut("div",{class:"modal-content",onClick:N[4]||(N[4]=vS(()=>{},["stop"]))},[ti(tF,{target:c.value,"is-open":l.value,onSelect:I,onClose:A},null,8,["target","is-open"])])])):Fn("",!0),e.value?(Wt(),qt("div",SF,N[7]||(N[7]=[ut("div",{class:"pixel-loading"},"...",-1)]))):Fn("",!0),i.value?(Wt(),qt("div",TF,N[8]||(N[8]=[ut("div",{class:"confetti"},null,-1)]))):Fn("",!0),u.value?(Wt(),qt("div",kF,[N[9]||(N[9]=ut("p",null,' " "',-1)),ut("button",{class:"close-tip",onClick:W},"")])):Fn("",!0)]))}}),MF=ph(CF,[["__scopeId","data-v-f930d962"]]),AF={blendMode:"overlay",intensity:.7,preserveDetails:!0};function OF(n,t,e,i,s){const r=n.data,o=(e*i+t)*4;if(r[o+3]>1)return{r:r[o],g:r[o+1],b:r[o+2]};const a=20;for(let l=1;l<=a;l++)for(let c=-l;c<=l;c++)for(let u=-l;u<=l;u++){const h=t+u,f=e+c;if(h<0||f<0||h>=i||f>=s||u*u+c*c>l*l)continue;const g=(f*i+h)*4;if(r[g+3]>1)return{r:r[g],g:r[g+1],b:r[g+2]}}return{r:128,g:128,b:128}}async function PF(n,t,e={}){const i={...AF,...e};return new Promise((s,r)=>{const o=document.createElement("canvas"),a=o.getContext("2d");if(!a){r(new Error("canvas"));return}o.width=512,o.height=512;const l=new Image,c=new Image;l.crossOrigin="anonymous",c.crossOrigin="anonymous";let u=0;const h=()=>{if(u++,u===2)try{a.clearRect(0,0,512,512);const f=document.createElement("canvas"),g=f.getContext("2d");f.width=512,f.height=512,(()=>{const M=c.width/c.height,w=512/512;let k,P,A,I;M>w?(k=512,P=512/M,A=0,I=(512-P)/2):(P=512,k=512*M,A=(512-k)/2,I=0),g.drawImage(c,A,I,k,P)})();const m=g.getImageData(0,0,512,512);g.clearRect(0,0,512,512),(()=>{const M=l.width/l.height,w=512/512;let k,P,A,I;M>w?(k=512,P=512/M,A=0,I=(512-P)/2):(P=512,k=512*M,A=(512-k)/2,I=0),g.drawImage(l,A,I,k,P)})();const x=g.getImageData(0,0,512,512),T=a.createImageData(512,512);for(let M=0;M<512;M++)for(let w=0;w<512;w++){const k=(M*512+w)*4,P=m.data[k+3],A=x.data[k+3];if(P>1)if(A>1)T.data[k]=x.data[k]*i.intensity,T.data[k+1]=x.data[k+1]*i.intensity,T.data[k+2]=x.data[k+2]*i.intensity,T.data[k+3]=255;else{const I=OF(x,w,M,512,512);T.data[k]=I.r*i.intensity,T.data[k+1]=I.g*i.intensity,T.data[k+2]=I.b*i.intensity,T.data[k+3]=255}else T.data[k]=0,T.data[k+1]=0,T.data[k+2]=0,T.data[k+3]=0}const O=DF(T,2);a.putImageData(O,0,0),EF(a,512,512),s(o.toDataURL())}catch(f){r(f)}};l.onload=h,c.onload=h,l.onerror=r,c.onerror=r,l.src=n,c.src=t})}function DF(n,t){const{width:e,height:i,data:s}=n,r=new Uint8ClampedArray(s);for(let o=0;o<i;o+=t)for(let a=0;a<e;a+=t){const l=(o*e+a)*4,c=s[l],u=s[l+1],h=s[l+2],f=s[l+3];for(let g=0;g<t&&o+g<i;g++)for(let _=0;_<t&&a+_<e;_++){const m=((o+g)*e+(a+_))*4;r[m]=c,r[m+1]=u,r[m+2]=h,r[m+3]=f}}return new ImageData(r,e,i)}function EF(n,t,e){const i=n.getImageData(0,0,t,e),s=n.createImageData(t,e);s.data.set(i.data);for(let r=1;r<e-1;r++)for(let o=1;o<t-1;o++){const a=(r*t+o)*4;i.data[a+3]>128&&[i.data[((r-1)*t+o)*4+3],i.data[((r+1)*t+o)*4+3],i.data[(r*t+(o-1))*4+3],i.data[(r*t+(o+1))*4+3]].some(h=>h<=128)&&(s.data[a]=0,s.data[a+1]=0,s.data[a+2]=0,s.data[a+3]=255)}n.putImageData(s,0,0)}function IF(n,t){const e=document.createElement("a");e.download=t,e.href=n,e.click()}const RF={class:"user-photo-fusion"},NF={class:"fusion-container"},FF={class:"upload-panel"},LF={key:1,class:"photo-preview"},VF=["src"],BF={key:0,class:"name-input-section"},WF={class:"pokemon-selection-panel"},jF={class:"filter-controls"},zF={class:"search-box"},qF={class:"pokemon-grid-container"},$F={class:"pokemon-grid"},UF=["onClick"],HF={class:"sprite-container"},KF=["src","alt"],YF={class:"pokemon-details"},GF={class:"pokemon-number"},XF={class:"pokemon-name"},ZF={class:"pokemon-types"},QF={key:0,class:"pagination"},JF=["disabled"],tL={class:"page-info"},eL=["disabled"],nL={key:0,class:"fusion-action"},iL=["disabled"],sL={key:0},rL={key:1},oL={key:1,class:"result-section"},aL={class:"result-header"},lL={class:"result-name"},cL={class:"result-display"},uL=["src"],Pd=12,hL=Sl({__name:"UserPhotoFusion",setup(n){const t=ue(),e=ue(""),i=ue(null),s=ue(""),r=ue(!1),o=ue(""),a=ue(""),l=ue(""),c=ue(1),u=ls(()=>!i.value||!o.value?"":`${o.value}${i.value.name}`),h=ls(()=>{let R=Xo;if(a.value.trim()){const N=a.value.toLowerCase();R=R.filter(Z=>Z.name.toLowerCase().includes(N)||Z.english.toLowerCase().includes(N)||Z.id.toString()===N)}if(l.value){const N=parseInt(l.value);R=R.filter(Z=>Z.generation===N)}return R}),f=ls(()=>Math.ceil(h.value.length/Pd)),g=ls(()=>{const R=(c.value-1)*Pd,N=R+Pd;return h.value.slice(R,N)}),_=()=>{t.value?.click()},m=R=>{const Z=R.target.files?.[0];if(Z){const ot=new FileReader;ot.onload=at=>{e.value=at.target?.result},ot.readAsDataURL(Z)}},b=()=>{e.value="",t.value&&(t.value.value="")},x=()=>{c.value=1},T=()=>{c.value=1},O=()=>{const R=Math.floor(Math.random()*h.value.length);i.value=h.value[R]},M=R=>{i.value=R},w=async()=>{if(!(!e.value||!i.value||!o.value)){r.value=!0;try{s.value=await PF(e.value,`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${i.value.id}.png`,{intensity:.8,preserveDetails:!0})}catch(R){console.error(":",R)}finally{r.value=!1}}},k=()=>{if(!s.value||!i.value)return;const R=new Date().toISOString().slice(0,19).replace(/:/g,"-"),N=`${o.value}-${i.value.name}-${R}.png`;IF(s.value,N)},P=async()=>{if(!(!s.value||!i.value))try{const N=await(await fetch(s.value)).blob();navigator.share&&navigator.canShare({files:[new File([N],"fusion.png",{type:"image/png"})]})?await navigator.share({title:"",text:` ${i.value.name}  ${o.value}`,files:[new File([N],"fusion.png",{type:"image/png"})]}):k()}catch(R){console.error(":",R),k()}},A=()=>{e.value="",i.value=null,s.value="",o.value="",a.value="",l.value="",c.value=1},I=()=>{c.value>1&&c.value--},W=()=>{c.value<f.value&&c.value++};return $u(()=>{}),(R,N)=>(Wt(),qt("div",RF,[N[8]||(N[8]=ut("div",{class:"section-header"},[ut("h3",{class:"pixel-title"}," "),ut("p",{class:"pixel-subtitle"},"")],-1)),ut("div",NF,[ut("div",FF,[ut("div",{class:xi(["upload-area",{"has-image":e.value}])},[ut("input",{type:"file",ref_key:"fileInput",ref:t,onChange:m,accept:"image/*",class:"hidden-input"},null,544),e.value?(Wt(),qt("div",LF,[ut("img",{src:e.value,alt:"",class:"user-photo"},null,8,VF),ut("button",{onClick:b,class:"remove-btn"},"")])):(Wt(),qt("div",{key:0,class:"upload-placeholder",onClick:_},N[3]||(N[3]=[ut("div",{class:"upload-icon"},"",-1),ut("p",{class:"upload-text"},"",-1),ut("p",{class:"upload-hint"}," JPGPNG ",-1)])))],2),e.value?(Wt(),qt("div",BF,[So(ut("input",{"onUpdate:modelValue":N[0]||(N[0]=Z=>o.value=Z),type:"text",placeholder:"",class:"pixel-input name-input",maxlength:"20"},null,512),[[zd,o.value]])])):Fn("",!0)]),ut("div",WF,[ut("div",{class:"selection-header"},[N[4]||(N[4]=ut("h4",null," ",-1)),ut("button",{onClick:O,class:"pixel-btn random-btn"},"   ")]),ut("div",jF,[ut("div",zF,[So(ut("input",{"onUpdate:modelValue":N[1]||(N[1]=Z=>a.value=Z),onInput:x,placeholder:"...",class:"pixel-input search-input"},null,544),[[zd,a.value]]),N[5]||(N[5]=ut("span",{class:"search-icon"},"",-1))]),So(ut("select",{"onUpdate:modelValue":N[2]||(N[2]=Z=>l.value=Z),onChange:T,class:"pixel-select gen-select"},N[6]||(N[6]=[ut("option",{value:""},"",-1),ut("option",{value:"1"},"1",-1),ut("option",{value:"2"},"2",-1),ut("option",{value:"3"},"3",-1)]),544),[[qd,l.value]])]),ut("div",qF,[ut("div",$F,[(Wt(!0),qt(rn,null,as(g.value,Z=>(Wt(),qt("div",{key:Z.id,class:xi(["pokemon-card",{selected:i.value?.id===Z.id}]),onClick:ot=>M(Z)},[ut("div",HF,[ut("img",{src:`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${Z.id}.png`,alt:Z.name,class:"pokemon-sprite"},null,8,KF)]),ut("div",YF,[ut("span",GF,"#"+pe(Z.id.toString().padStart(3,"0")),1),ut("span",XF,pe(Z.name),1),ut("div",ZF,[(Wt(!0),qt(rn,null,as(Z.type,ot=>(Wt(),qt("span",{key:ot,class:xi(["type-badge",`type-${ot}`])},pe(ot),3))),128))])])],10,UF))),128))]),f.value>1?(Wt(),qt("div",QF,[ut("button",{onClick:I,disabled:c.value===1,class:"pixel-btn page-btn"},"  ",8,JF),ut("span",tL,pe(c.value)+" / "+pe(f.value),1),ut("button",{onClick:W,disabled:c.value===f.value,class:"pixel-btn page-btn"},"  ",8,eL)])):Fn("",!0)])])]),e.value&&i.value&&o.value?(Wt(),qt("div",nL,[ut("button",{onClick:w,disabled:r.value,class:"pixel-btn primary-fusion-btn"},[r.value?(Wt(),qt("span",rL,"...")):(Wt(),qt("span",sL," "))],8,iL)])):Fn("",!0),s.value?(Wt(),qt("div",oL,[ut("div",aL,[N[7]||(N[7]=ut("h4",null,"",-1)),ut("p",lL,pe(u.value),1)]),ut("div",cL,[ut("img",{src:s.value,alt:"",class:"fusion-result-img"},null,8,uL),ut("div",{class:"result-actions"},[ut("button",{onClick:k,class:"pixel-btn save-btn"},"   "),ut("button",{onClick:P,class:"pixel-btn share-btn"},"   "),ut("button",{onClick:A,class:"pixel-btn reset-btn"},"   ")])])])):Fn("",!0)]))}}),dL=ph(hL,[["__scopeId","data-v-39ca71fd"]]),fL={id:"app"},pL=Sl({__name:"App",setup(n){return(t,e)=>(Wt(),qt("div",fL,[ti(MF),ti(dL)]))}});TP();SS(pL).mount("#app")});export default gL();
//# sourceMappingURL=index-COyDqZqF.js.map
